<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="author" content="BSI Product Development">
<title>Design Documentation: BSI CX 26.1</title>
<style>
/* normalize.css v2.1.1 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address styling not present in IE 8/9. */
[hidden] { display: none; }

/* ========================================================================== Base ========================================================================== */
/** 1. Prevent system color scheme's background color being used in Firefox, IE, and Opera. 2. Prevent system color scheme's text color being used in Firefox, IE, and Opera. 3. Set default font family to sans-serif. 4. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { background: #fff; /* 1 */ color: #000; /* 2 */ font-family: sans-serif; /* 3 */ -ms-text-size-adjust: 100%; /* 4 */ -webkit-text-size-adjust: 100%; /* 4 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

a:focus { outline: none; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #777777; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #FE9915; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #FE9915; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: gray; line-height: 0; }

h1 { font-size: 2.125em; color: #0082A1; }

h2 { font-size: 1.6875em; text-transform: uppercase; color: #FE9915; }
h2 a, h2 a:hover, div#toc.toc2 ul a { color: #FE9915; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; text-transform: uppercase; color: #0082A1; }
h3 a, h3 a:hover, div#toc.toc2 ul ul a{ color: #0082A1; }

h4 { font-size: 1.125em; color: #7F7F7F; font-weight: bold; }
h4 a, h4 a:hover, div#toc.toc2 ul ul ul a { color: #7F7F7F; }

h5 { font-size: 1.125em; font-weight: bold; }
h5 a, h5 a:hover, div#toc.toc2 ul ul ul ul a { color: #000; }

h6 { font-size: 1em; }

hr { border: dotted #cccccc; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; color: #0082A1}

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: bold; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #555555; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #efefef; }
blockquote cite { display: block; font-size: 0.8125em; color: #5e5e5e; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #5e5e5e; }

blockquote, blockquote p { line-height: 1.6; color: #777777; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.5875em; }
  h4 { font-size: 1.4375em; } }
/* Print styles.  Inlined to avoid required HTTP connection: www.phpied.com/delay-loading-your-print-css/ Credit to Paul Irish and HTML5 Boilerplate (html5boilerplate.com)
*/
.print-only { display: none !important; }

@media print { * { background: transparent !important; color: #000 !important; /* Black prints faster: h5bp.com/s */ box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; /* h5bp.com/t */ }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: normal; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #333333; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #555555; }
table thead tr th, table tr th {color: #0082A1; font-weight: bold}
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; padding: 0; white-space: nowrap; background-color: inherit; border: 0 solid #dddddd; -webkit-border-radius: 0; border-radius: 0; text-shadow: none; }

pre, pre > code { line-height: 1.4; color: black; font-family: monospace, serif; font-weight: normal; }

kbd.keyseq { color: #888888; }

kbd:not(.keyseq) { display: inline-block; color: #555555; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

kbd kbd:first-child { margin-left: 0; }

kbd kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: #3b3b3b; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#header { margin-bottom: 2.5em; }
#header > h1 { font-weight: bold; border-bottom: 1px dotted #cccccc; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #777777; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }

#toc { border-bottom: 1px solid #cccccc; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }

#toctitle { color: #777777; }

@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #cccccc; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #cccccc; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }

#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }

#footer { max-width: 100%; background-color: #272727; padding: 1.25em; }

#footer-text { color: #bcbcbc; line-height: 1.44; }

.sect1 { padding-bottom: 1.25em; }

.sect1 + .sect1 { border-top: 1px solid #cccccc; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #333333; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #262626; }

.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }

.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { font-size:2em; padding: 0px; text-align: left; width: 60px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px dotted #cccccc; color: #777777; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #555555; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }

.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #555555; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #777777; margin-top: 0; line-height: 1.6; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock > .content pre, .listingblock > .content pre { background: #efefef; border-width: 1px; border-style: solid; border-color: #cccccc; -webkit-border-radius: 0; border-radius: 0; padding: 0.75em 0.75em 0.625em 0.75em; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.72em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.81em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }

.listingblock > .content { position: relative; }

.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }

.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }

table.pyhltable { border: 0; margin-bottom: 0; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #cccccc; }

.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }

.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #efefef; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: 0.8125em; color: #5e5e5e; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }

table thead th, table tfoot th { font-weight: normal; }

table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 0; border-radius: 0; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }

table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }

table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }

table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }

th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }

th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }

th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }

th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }

th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }

th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }

p.tableblock.header { color: #333333; font-weight: normal; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .8em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.qanda > ol > li > p > em:only-child { color: #cde62c; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }

.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #FE9915; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb";color: #FE9915; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #FE9915; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #FE9915; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #FE9915; }

.conum { display: inline-block; color: white !important; background-color: #555555; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }

#header > h1 { border-bottom-style: solid; }

#toctitle { color: #333333; }

.listingblock > .content > pre, .literalblock > .content > pre { background: -moz-linear-gradient(top, white 0%, #f4f4f4 100%); background: -webkit-linear-gradient(top, white 0%, #f4f4f4 100%); background: linear-gradient(to bottom, #ffffff 0%, #f4f4f4 100%); -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15); box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15); }

.sidebarblock { background: none; border: none; -webkit-box-shadow: 0 0 5px rgba(118, 137, 4, 0.5); box-shadow: 0 0 5px rgba(118, 137, 4, 0.5); }
.sidebarblock > .content > .title { color: #181818; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Design Documentation: BSI CX 26.1</h1>
<div class="details">
<span id="author" class="author">BSI Product Development</span><br>
<span id="revdate">Version Date 2025-12-09</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Covered Topics</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#getting-started">1.1. Getting started</a></li>
<li><a href="#technical-introduction">1.2. Technical Introduction</a></li>
<li><a href="#branding-visual-design">1.3. Branding &amp; Visual Design</a></li>
<li><a href="#constraints">1.4. Constraints</a></li>
<li><a href="#design-since-22">1.5. Designs since BSI CX 22.0</a></li>
<li><a href="#file-format">1.6. File format</a></li>
<li><a href="#content-editor">1.7. Content Editor</a></li>
<li><a href="#content-security-policy-csp">1.8. Content Security Policy (CSP)</a>
<ul class="sectlevel3">
<li><a href="#http-headers-for-public-links">1.8.1. HTTP headers for public links</a></li>
<li><a href="#http-headers-for-the-index-page-of-the-bsi-customer-suite">1.8.2. HTTP headers for the index page of the BSI Customer Suite</a></li>
</ul>
</li>
<li><a href="#structure-reference">1.9. Structure Reference</a></li>
<li><a href="#dropzones">1.10. Dropzones</a></li>
<li><a href="#groups">1.11. Groups</a></li>
<li><a href="#additions-to-designs-in-bsi-cx-25-1">1.12. Additions to Designs in BSI CX 25.1</a>
<ul class="sectlevel3">
<li><a href="#including-handlebars-content-elements-in-design-hbs">1.12.1. Including Handlebars Content Elements in <code>design.hbs</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#designjson">2. design.json</a>
<ul class="sectlevel2">
<li><a href="#the-basics">2.1. The Basics</a></li>
<li><a href="#groups-designjson">2.2. Content Element Groups</a></li>
<li><a href="#content-elements">2.3. Content Elements</a>
<ul class="sectlevel3">
<li><a href="#handlebars-content-elements">2.3.1. Handlebars Content Elements</a></li>
</ul>
</li>
<li><a href="#archiving-elements">2.4. Archiving Content Elements</a></li>
<li><a href="#design-schema-version">2.5. Design Schema Version</a></li>
<li><a href="#feature-toggle">2.6. Feature Toggle</a></li>
<li><a href="#security">2.7. Security</a>
<ul class="sectlevel3">
<li><a href="#allowinlinescripts">2.7.1. allowInlineScripts</a></li>
<li><a href="#alloweventattributes">2.7.2. allowEventAttributes</a></li>
</ul>
</li>
<li><a href="#styles">2.8. Styles</a></li>
<li><a href="#rich-text-editor">2.9. Configuration capabilities of the Rich Text Editor</a>
<ul class="sectlevel3">
<li><a href="#feature-list">2.9.1. Feature list</a></li>
<li><a href="#value-lists">2.9.2. Value Lists</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#content-editor-2">3. Content Editor</a>
<ul class="sectlevel2">
<li><a href="#content-editor-specific-css">3.1. Content editor specific CSS</a></li>
<li><a href="#predefined-story-outlets-bracket-links">3.2. Predefined Story outlets (Bracket Links)</a>
<ul class="sectlevel3">
<li><a href="#bracket-links-in-iterators">3.2.1. Bracket links in iterators</a></li>
<li><a href="#styling-of-bracket-links">3.2.2. Styling of bracket links</a></li>
<li><a href="#using-anchor-links-inside-a-design">3.2.3. Using anchor links inside a design</a></li>
</ul>
</li>
<li><a href="#content-elements-and-parts">3.3. Content Elements and Parts</a>
<ul class="sectlevel3">
<li><a href="#grouping">3.3.1. Grouping</a></li>
<li><a href="#types">3.3.2. Types</a></li>
<li><a href="#element-parts">3.3.3. Element Parts</a></li>
<li><a href="#template-parts">3.3.4. Template Parts</a></li>
</ul>
</li>
<li><a href="#data-bsi-attributes">3.4. Data BSI Attributes</a>
<ul class="sectlevel3">
<li><a href="#control-attributes">3.4.1. Control Attributes</a></li>
<li><a href="#form-processor-attributes">3.4.2. Form Processor Attributes</a></li>
</ul>
</li>
<li><a href="#websites">3.5. Websites</a>
<ul class="sectlevel3">
<li><a href="#terms">3.5.1. Terms</a></li>
<li><a href="#concepts">3.5.2. Concepts</a></li>
<li><a href="#handlebars-templates">3.5.3. Handlebars, Templates</a></li>
<li><a href="#configuration-files">3.5.4. Configuration files</a></li>
<li><a href="#includes">3.5.5. Includes</a></li>
<li><a href="#content-editor-3">3.5.6. Content editor</a></li>
<li><a href="#pagination">3.5.7. Pagination</a></li>
<li><a href="#metadata-images-for-the-navigation">3.5.8. Metadata / Images for the navigation</a></li>
<li><a href="#security-google-recaptcha">3.5.9. Security - Google reCAPTCHA</a></li>
<li><a href="#creation-of-websites-from-existing-landingpage-templates">3.5.10. Creation of websites from existing landingpage templates</a></li>
</ul>
</li>
<li><a href="#teasers">3.6. Teasers</a>
<ul class="sectlevel3">
<li><a href="#server-side-rendering">3.6.1. Server-side Rendering</a></li>
<li><a href="#client-side-rendering">3.6.2. Client-side Rendering</a></li>
<li><a href="#the-json-design-teaser-content-type">3.6.3. The JSON Design / Teaser Content Type</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#designbuild">4. CX Design Build</a></li>
<li><a href="#design-build-migration-guide">5. Migrate an existing design to the new build</a>
<ul class="sectlevel2">
<li><a href="#content-elements-2">5.1. Content Elements</a></li>
<li><a href="#styles-2">5.2. Styles</a></li>
<li><a href="#design-and-preview-templates">5.3. Design and Preview Templates</a></li>
<li><a href="#java-script">5.4. Java Script</a></li>
<li><a href="#stylesheets">5.5. Stylesheets</a></li>
<li><a href="#properties">5.6. Properties</a></li>
<li><a href="#build-configuration">5.7. Build Configuration</a></li>
</ul>
</li>
<li><a href="#help">6. Help</a>
<ul class="sectlevel2">
<li><a href="#good-practices">6.1. Good practices</a>
<ul class="sectlevel3">
<li><a href="#deleting-or-deprecating-content-elements">6.1.1. Deleting or deprecating content elements</a></li>
<li><a href="#refactoring-content-elements">6.1.2. Refactoring content elements</a></li>
<li><a href="#creating-accessible-designs">6.1.3. Creating accessible designs</a></li>
</ul>
</li>
<li><a href="#troubleshooting">6.2. Troubleshooting</a>
<ul class="sectlevel3">
<li><a href="#design-upload">6.2.1. Design Upload</a></li>
<li><a href="#design-update">6.2.2. Design Update</a></li>
<li><a href="#dropzone-issues">6.2.3. Dropzone Issues</a></li>
<li><a href="#design-creator-issues">6.2.4. Design Creator Issues</a></li>
<li><a href="#content-editor-limitations">6.2.5. Content Editor Limitations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Wrong CX-version? <a href="https://bsi-software.github.io/bsi-cx-docs/">Click here</a> to get the documentations of all CX-versions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create experiences that delight customers.
For marketing, sales, and service: Find, win, retain, and understand customers with BSI CX. Design, execute and optimize perfect customer journeys.
Everything is cross-departmental, individualized for every customer, in real time, across all touchpoints, and fully automated â€“ for extraordinary and emotional experiences.</p>
</div>
<div class="paragraph">
<p>Learn more about all features of BSI CX by visiting <a href="https://www.bsi-software.com/en/cx">our product website</a>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You wan&#8217;t to build a BSI CX Design? <strong>Learn how to use BSI designs by taking part in the <a href="https://academy.bsi-software.com/gb/en-GB/Details/92/">e-learning for designs</a>!</strong>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<strong>CX, Customer Experience and Studio.</strong> The <em>BSI Customer Suite</em> consists of multiple Products, <em>BSI CX</em> is one of it. Formerly called <em>BSI Studio</em>, <em>CX</em> is an abbreviation of <em>BSI Customer Experience</em>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="getting-started"><a class="anchor" href="#getting-started"></a>1.1. Getting started</h3>
<div class="paragraph">
<p>Learn how to use BSI designs by taking part in the <a href="https://academy.bsi-software.com/gb/en-GB/Details/92/">e-learning for designs</a>.</p>
</div>
<div class="paragraph">
<p>The interactive e-learning helps you to reach your goal faster.
We have developed this e-learning from years of experience with various customers, with the aim of learning how to work with designs quickly and delivering good results to the customer in a timely manner.
In particular, you will learn how to work with our templates so that you don&#8217;t have to start from scratch.</p>
</div>
<div class="paragraph">
<p>We recommend to start by adopting an existing design for BSI CX. This will help you to get started and will already come with existing content elements which act as examples for your customizations.
BSI provides a set of design templates that are called <strong>Master Templates</strong>. The Master Templates for <a href="https://github.com/bsi-software/bsi-cx-design-master-template-email">email</a> and <a href="https://github.com/bsi-software/bsi-cx-design-master-template-web">web</a> (including landingpage and website) are publicly available on GitHub as an MIT licensed open source project.</p>
</div>
<div class="paragraph">
<p>Besides, the <a href="https://github.com/bsi-software/bsi-cx-design-build">design build</a> which is used to build the templates, as well as the library for <a href="https://github.com/bsi-software/bsi-cx-design-standard-library-email">email content elements</a> and <a href="https://github.com/bsi-software/bsi-cx-design-standard-library-web">web content elements</a> on which the templates are based, are MIT licensed open source projects.</p>
</div>
<div class="paragraph">
<p>Alternatively, you can start off from scratch by using the <a href="https://github.com/bsi-software/bsi-cx-scaffold-design">Scaffold Design</a> and following the guidance in this documentation to build a completely new template.</p>
</div>
</div>
<div class="sect2">
<h3 id="technical-introduction"><a class="anchor" href="#technical-introduction"></a>1.2. Technical Introduction</h3>
<div class="paragraph">
<p>This documentation acts as the primary resource for developers that wish to implement a design for BSI CX. For implementation of designs for BSI CX 22.0 and later, see also <a href="#design-since-22">Designs since BSI CX 22.0</a> and <a href="https://github.com/bsi-software/bsi-cx-design-build/wiki">our wiki at GitHub</a>.</p>
</div>
<div class="paragraph">
<p>Designs are a vital part of BSI CX. While focusing on BSI CX Designs, a basic knowledge of the following layers is necessary:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/cx-illustration_story_content_design.png" alt="cx illustration story content design">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Story</dt>
<dd>
<p>The Story controls the flow of a participant. It offers various steps which can be placed on the storyboard via drag and drop. Your next customer journey delivering a landing page, event invitation, website or newsletter will be born here.</p>
</dd>
<dt class="hdlist1">Content</dt>
<dd>
<p>Websites, landing pages and newsletters require rich content. The content editor of BSI CX is here to configure such contents. By user using <em>Content Elements</em> â€“ reusable building blocks that can be placed in your content via drag and drop â€“ you can build attractive newsletters, innovative landing pages and feature rich websites.</p>
</dd>
<dt class="hdlist1">Design</dt>
<dd>
<p>The foundation of every <em>Content</em> is its design. The design defines the available â€žContent Elementsâ€œ, the visual representation of the content and the behavior of the content and content elements. The <em>Design</em> must be created externally and uploaded into BSI CX. This documentation covers how to build such designs.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="branding-visual-design"><a class="anchor" href="#branding-visual-design"></a>1.3. Branding &amp; Visual Design</h3>
<div class="paragraph">
<p>Each brand has its own and unique visual design language. The branding guidelines of your company or customer define the boundary conditions for building a design. As a design developer for BSI CX, it is your responsibility to get a specification on how the website, landing page or newsletter should look like and what elements it should consist of.
Especially when it comes to designing HTML emails, you may have to find a compromise between the developers' ideas of visual design and the actual technical possibilities of HTML emails.</p>
</div>
</div>
<div class="sect2">
<h3 id="constraints"><a class="anchor" href="#constraints"></a>1.4. Constraints</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Our build and the CX-Editor has to be taken "as-is".
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the Design Validation fails or the Editor doesn&#8217;t show the Elements properly, it&#8217;s the responsibility of the developer (probably you) to adjust the template accordingly.</p>
</div>
<div class="paragraph">
<p>There are some web technologies we do <strong>NOT</strong> support. Two common examples are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Webcomponents</strong> might work in the resulting landingpages, but are not supported within the CX editor.</p>
</li>
<li>
<p><strong>Other Frameworks</strong> like Angular or React are familiar to most web developers, but not supported by CX.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We strongly recommend you to use our npm build or the CX-Design-Creator.
Feel free to contact the design team, if you miss a feature or have an improvement idea.</p>
</div>
<div class="paragraph">
<p>We recommend to start by adopting an existing design for BSI CX. This will help you to get started and will already come with existing content elements which act as examples for your customizations.
BSI provides a set of design templates that are called <strong>Master Templates</strong>. The Master Templates for <a href="https://github.com/bsi-software/bsi-cx-design-master-template-email">email</a> and <a href="https://github.com/bsi-software/bsi-cx-design-master-template-web">web</a> (including landingpage and website) are publicly available on GitHub as an MIT licensed open source project (see <a href="#design-since-22">Designs since BSI CX 22.0</a>).
Alternatively, you can start off from scratch by using the <a href="https://github.com/bsi-software/bsi-cx-scaffold-design">Scaffold Design</a> and following the guidance in this documentation to build a completely new template.</p>
</div>
</div>
<div class="sect2">
<h3 id="design-since-22"><a class="anchor" href="#design-since-22"></a>1.5. Designs since BSI CX 22.0</h3>
<div class="paragraph">
<p>As of BSI CX 22.0, a new <a href="https://github.com/bsi-software/bsi-cx-design-build">design build</a> has been introduced to create design ZIP files that are uploaded to BSI CX using a webpack build. The build is NPM based and replaces the previous BSI Design Creator, which used to be available as an executable file. The technical adjustments that come with the new design build are documented in the <a href="https://github.com/bsi-software/bsi-cx-design-build/wiki">design build wiki at GitHub</a>. Existing designs can be migrated to the new design build using the migration instructions (see <a href="#design-build-migration-guide">Migrate an existing design to the new build</a>).</p>
</div>
<div class="paragraph">
<p>In addition, new Master Templates for email, landingpage and website have been developed. As a new feature, a library is available as a read-only core for these templates. This Standard Library includes all content elements and the Master Template finally builds on this library. Furthermore, new content elements, such as charts, are introduced in the Master Template and more CX features (especially styles) come into play.</p>
</div>
<div class="paragraph">
<p>Both the Standard Library and the Master Templates are available as MIT licensed open source software on GitHub to enable access to the source code, to enable notifications about new versions and to collaborate on the templates through pull requests and issues:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Email design: <a href="https://github.com/bsi-software/bsi-cx-design-master-template-email">Master Template email</a> and <a href="https://github.com/bsi-software/bsi-cx-design-standard-library-email">Standard Library email</a></p>
</li>
<li>
<p>Landingpage and website design: <a href="https://github.com/bsi-software/bsi-cx-design-master-template-web">Master Template web</a> and <a href="https://github.com/bsi-software/bsi-cx-design-standard-library-web">Standard Library web</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The current design zip files for uploading to CX are available for download in the GitHub releases of the respective Master Templates.</p>
</div>
</div>
<div class="sect2">
<h3 id="file-format"><a class="anchor" href="#file-format"></a>1.6. File format</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Please refer to version 16.3 of the <a href="https://bsi-software.github.io/bsi-cx-docs/">CX design documentation</a> for file format up to BSI CX version 16.3.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A BSI CX design is stored in a ZIP archive. A valid design for BSI CX since version 22.0 must contain the following mandatory files:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">design.html</dt>
<dd>
<p>Defines the design, particularly the dropzones the user can use in the BSI CX content editor to place content elements.
The exact design.html syntax is described below.
This file must be in the root of the ZIP file.</p>
</dd>
<dt class="hdlist1">design.json</dt>
<dd>
<p>Contains metadata on the design, such as names and descriptions of the content elements and groups.
The exact design.json syntax is described in chapter <a href="#designjson">design.json</a>.
This file must be in the root of the ZIP file.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Besides these two mandatory files your design will need some content elements. Typically, a folder named <code>content-elements</code> contains all content elements of the design as <code>html</code> files. These elements can later be drag and dropped into the dropzones of the <code>design.html</code>. A content element is an HTML snippet that does not require any Doctype, <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code> or <code>&lt;body&gt;</code> tag.</p>
</div>
<div class="paragraph">
<p>Additional optional files and folders may be supplied in the ZIP file as well. Note that one ZIP file can only contain a single design.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The files and folders in the ZIP file must not contain any umlauts.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following folder structure showcases the content of a simple design:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">design.zip
â”‚   design.html <i class="conum" data-value="1"></i><b>(1)</b>
â”‚   design.json <i class="conum" data-value="2"></i><b>(2)</b>
â”‚   preview.html <i class="conum" data-value="3"></i><b>(3)</b>
â”‚
â”œâ”€â”€â”€content-elements  <i class="conum" data-value="4"></i><b>(4)</b>
â”‚       button.html
â”‚       text.html
â”‚
â”œâ”€â”€â”€css
â”‚       styles.min.css
â”‚
â”œâ”€â”€â”€img
â”‚       logo.png
â”‚
â””â”€â”€â”€js
        3rd-party.min.js
        scripts.min.js</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The mandatory file <code>design.html</code> defines the base layout of the page/email.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The mandatory file <code>design.json</code> contains meta information about the design and its elements.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The optional file <code>preview.html</code> contains a preview of the base layout including some elements.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The <code>content-elements</code> folder holds all content elements <code>html</code> files.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="content-editor"><a class="anchor" href="#content-editor"></a>1.7. Content Editor</h3>
<div class="paragraph">
<p>The content editor is where specific websites, newsletters and landing pages are created. The content creator relies on a design of good quality to build contents which on the other hand are referred from a story.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/content_editor.png" alt="Content Editor">
</div>
<div class="title">Figure 1. example of the BSI CX content editor</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Design preview in content editor</p>
</li>
<li>
<p>List of available content elements</p>
</li>
<li>
<p>Use of a customizable content element</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="content-security-policy-csp"><a class="anchor" href="#content-security-policy-csp"></a>1.8. Content Security Policy (CSP)</h3>
<div class="paragraph">
<p>If a design requires resources from external servers, e.g. from a Content Delivery Network (CDN), two settings must be checked in the BSI Customer Suite and, if necessary, adjusted according to the needs of the design. The settings can be configured by a user with the appropriate permissions in the BSI Customer Suite administration.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Observe the notes on the integration of CSS and scripts in chapter <a href="#control-attributes">Control Attributes</a>.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="http-headers-for-public-links"><a class="anchor" href="#http-headers-for-public-links"></a>1.8.1. HTTP headers for public links</h4>
<div class="paragraph">
<p>The HTTP headers including CSP settings for CX landing pages and websites are configured here. These are relevant for displaying the landing pages and websites in the end user&#8217;s browser.</p>
</div>
</div>
<div class="sect3">
<h4 id="http-headers-for-the-index-page-of-the-bsi-customer-suite"><a class="anchor" href="#http-headers-for-the-index-page-of-the-bsi-customer-suite"></a>1.8.2. HTTP headers for the index page of the BSI Customer Suite</h4>
<div class="paragraph">
<p>The HTTP headers including CSP settings for the index page of the <em>BSI Customer Suite</em> are configured here. This includes the CX Content Editor. This setting overrides the server-side configured default values for CSP.</p>
</div>
<div class="paragraph">
<p>This setting should be configured more restrictively than the setting for landing pages and websites above. Only what is absolutely necessary for error-free display in the content editor should be allowed. As a rule, styles and fonts are allowed, but not JavaScript.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The CSP settings configured here apply to the entire <em>BSI Customer Suite</em> GUI, not just the CX Content Editor.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="structure-reference"><a class="anchor" href="#structure-reference"></a>1.9. Structure Reference</h3>
<div class="paragraph">
<p>The file <code>design.html</code> contains the <code>frame</code> of the design and must include at least one outermost dropzone.
It must contain valid, XHTML conform HTML with Doctype, <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code> tags.</p>
</div>
<div class="paragraph">
<p>The individual content elements are HTML snippets that are inserted into the content using drag &amp; drop.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/structure-reference-design-html.png" alt="structure reference">
</div>
<div class="title">Figure 2. structure reference</div>
</div>
</div>
<div class="sect2">
<h3 id="dropzones"><a class="anchor" href="#dropzones"></a>1.10. Dropzones</h3>
<div class="paragraph">
<p>While dragging a content element into the content area, you will notice blue lines and blue areas. These areas are called dropzones and identify areas where certain content elements can be placed. Each dropzone has a list of allowed content elements that are specified in the design.
A dropzone is defined by adding the attribute <code>data-bsi-dropzone</code> to an HTML container element (e.g. <code>&lt;div&gt;</code> or <code>&lt;table&gt;</code>).
The list of allowed content elements is specified by the <code>data-bsi-dropzone-allowed-elements</code> attribute.
An optional limit of elements that can be placed inside the dropzone is defined by adding the <code>data-bsi-dropzone-max-number-of-elements</code> attribute.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/dropzone.png" alt="dropzone example">
</div>
</div>
<div class="listingblock">
<div class="title">Listing 1. A dropzone that allows to place a maximum of one pre header element inside a newsletter design</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-dropzone</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">preheader-zone</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-dropzone-allowed-elements</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">nl-preheader</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-dropzone-max-number-of-elements</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="comment">&lt;!-- Add element --&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Problems can occur when placing a dropzone into a link or button element.
In this case, we recommend using a style.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="groups"><a class="anchor" href="#groups"></a>1.11. Groups</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/data-bsi-group.png" alt="Groups1"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All content elements can be structured in groups.
In the example screenshot on the left side, three groups are defined: <code>Header</code>, <code>Headings</code> and <code>Text &amp; Images</code>.
The structuring of content elements in such groups is implemented in the <code>design.json</code> file. For more information see chapter <a href="#groups-designjson">Content Element Groups</a>.
A group may be defined only once.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="additions-to-designs-in-bsi-cx-25-1"><a class="anchor" href="#additions-to-designs-in-bsi-cx-25-1"></a>1.12. Additions to Designs in BSI CX 25.1</h3>
<div class="paragraph">
<p>Starting BSI CX 25.1 a new Schema-Version of the <code>design.json</code> file is allowed: 25.1. This schema version enables handlebars content elements.
Handlebars is a templating engine that decouples the user input in the content element editor from the concrete DOM structure that is rendered into the BSI CX content.</p>
</div>
<div class="paragraph">
<p>Since Handlebars templates always need an object supplying the variables for rendering (in our case as a JSON-document), the structure of the design ZIP changes slightly.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">design.hbs</dt>
<dd>
<p>Instead of a <code>design.html</code> a handlebars template can be supplied.
It will be preprocessed (rendered) before being loaded into the content editor.</p>
</dd>
<dt class="hdlist1">design-context.json</dt>
<dd>
<p>This JSON-document supplies the variables used to render <code>design.hbs</code>.
In the case of websites this file can be omitted, since in the context of BSI CX websites, the context is supplied on include-level.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">design.zip
â”‚   design.hbs <i class="conum" data-value="1"></i><b>(1)</b>
â”‚   design-context.json <i class="conum" data-value="2"></i><b>(2)</b>
â”‚   design.json
â”‚   preview.html
â”‚
â”œâ”€â”€â”€content-elements
â”‚       button.html
â”‚       text.html
â”‚
â”œâ”€â”€â”€css
â”‚       styles.min.css
â”‚
â”œâ”€â”€â”€img
â”‚       logo.png
â”‚
â””â”€â”€â”€js
        3rd-party.min.js
        scripts.min.js</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The file <code>design.hbs</code> supplants the formerly used <code>design.html</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Once Handlebars content elements are being used in <code>design.hbs</code>, the <code>design-context.json</code> file becomes mandatory.</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="including-handlebars-content-elements-in-design-hbs"><a class="anchor" href="#including-handlebars-content-elements-in-design-hbs"></a>1.12.1. Including Handlebars Content Elements in <code>design.hbs</code></h4>
<div class="paragraph">
<p>HTML content elements could be included in the <code>design.html</code> by copying the DOM from the content element source file into the body of the design.
Changes in the default value took place directly in the DOM of the design. Handlebars content elements work analogous.</p>
</div>
<div class="paragraph">
<p>The template from the content element source code can be copied into the <code>design.hbs</code>, but two additional steps are necessary.
Let&#8217;s take the example of a simple text paragraph content element.</p>
</div>
<div class="paragraph">
<p>The content element consists of a Handlebars template, and a variable context as such:</p>
</div>
<div class="listingblock">
<div class="title">Listing 2. The template of the content element as defined in the design ZIP.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">paragraph-light</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">paragraph</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{paragraph.value}}<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 3. The accompanying context with the variables for the template.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">paragraph</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</span><span class="delimiter">&quot;</span></span>
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After copying the Handlebars template to <code>design.hbs</code>, we need to supply the values for the variables contained in the element in <code>design-context.json</code>.
This is achieved by adding the custom attribute <code>data-bsi-context-scope</code> with a unique name for the element on content element.
All variables used within the element need to be prefixed with this unique name.
This unique name then also refers to the element in <code>design-context.json</code>:</p>
</div>
<div class="listingblock">
<div class="title">Listing 4. Part of <code>design.hbs</code>.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">paragraph-light</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">paragraph</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-context-scope</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">headingParagraph</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{headingParagraph.paragraph.value}}<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 5. A complete design context referencing the Handlebars content element above.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">headingParagraph</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">paragraph</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</span><span class="delimiter">&quot;</span></span>
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="designjson"><a class="anchor" href="#designjson"></a>2. design.json</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="the-basics"><a class="anchor" href="#the-basics"></a>2.1. The Basics</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
BSI CX 22.0 introduced the <code>design.json</code> file, which replaces the previously used <code>design.properties</code> file. Information on the legacy <code>design.properties</code> can be found in the <a href="https://bsi-software.github.io/bsi-cx-docs/">CX design documentation</a> for CX version 1.3 or earlier.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
If you are using the <a href="#designbuild">CX Design Build</a>, the <code>design.json</code> file is generated automatically and no manual adjustments should be made to this file.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Metadata for a design is defined in the <code>design.json</code> file. It contains general information on the design, such as the name and author, as well as element specific information, such as with which description and icon the elements are to be displayed to the right of the editor.</p>
</div>
<div class="listingblock">
<div class="title">Listing 6. Specifying design meta data</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">My Customer Design</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">author</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">John Doe, Doe Design Agency</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Group information, content element specific entries, configuration capabilities for styles (allowing you to mixin different CSS styles or adding certain features using JavaScript) as well as instructions on how to customize the rich text editor experience can be found in the subsequent chapters.</p>
</div>
<div class="listingblock">
<div class="title">Listing 7. Example of a fully featured design.json file</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">__REM000</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">-------------------- Metadata --------------------</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">My Customer Design</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">author</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">John Doe, Doe Design Agency</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">schemaVersion</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">22.0</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">defaultLocale</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">__REM001</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">-------------------- Content-Elements, -Groups and -Parts --------------------</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">contentElementGroups</span><span class="delimiter">&quot;</span></span>: [
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">groupId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">buttons-and-links</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Buttons &amp; Links</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">contentElements</span><span class="delimiter">&quot;</span></span>: [
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">elementId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">button</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Button</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">icon</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">megaphone</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">content-elements/button.html</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">parts</span><span class="delimiter">&quot;</span></span>: [
            {
              <span class="key"><span class="delimiter">&quot;</span><span class="content">partId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">link</span><span class="delimiter">&quot;</span></span>,
              <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Button</span><span class="delimiter">&quot;</span></span>
            }
          ],
          <span class="key"><span class="delimiter">&quot;</span><span class="content">styleConfigs</span><span class="delimiter">&quot;</span></span>: [
            <span class="string"><span class="delimiter">&quot;</span><span class="content">background-color</span><span class="delimiter">&quot;</span></span>
          ]
        }
      ]
    },
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">groupId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">text-and-images</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Text &amp; Images</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">contentElements</span><span class="delimiter">&quot;</span></span>: [
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">elementId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Text</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">icon</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">content-elements/text.html</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">parts</span><span class="delimiter">&quot;</span></span>: [
            {
              <span class="key"><span class="delimiter">&quot;</span><span class="content">partId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">formatted-text</span><span class="delimiter">&quot;</span></span>,
              <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Text</span><span class="delimiter">&quot;</span></span>,
              <span class="key"><span class="delimiter">&quot;</span><span class="content">htmlEditorConfig</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">custom</span><span class="delimiter">&quot;</span></span>

            }
          ]
        }
      ]
    }
  ],
  <span class="key"><span class="delimiter">&quot;</span><span class="content">__REM002</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">-------------------- Style Configs --------------------</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">styleConfigs</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">background-color</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Background color</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">styles</span><span class="delimiter">&quot;</span></span>: [
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">styleId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">background-color-green</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Green</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">cssClass</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">green-background</span><span class="delimiter">&quot;</span></span>
        },
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">styleId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">background-color-red</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Red</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">cssClass</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">red-background</span><span class="delimiter">&quot;</span></span>
        }
      ]
    }
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">__REM003</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">-------------------- HTML Editor Configs --------------------</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">htmlEditorConfigs</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">custom</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">features</span><span class="delimiter">&quot;</span></span>: [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">bold</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">italic</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">underline</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">textColor</span><span class="delimiter">&quot;</span></span>
      ],
        <span class="key"><span class="delimiter">&quot;</span><span class="content">textColors</span><span class="delimiter">&quot;</span></span>: [
          <span class="string"><span class="delimiter">&quot;</span><span class="content">#16616d</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">#383e42</span><span class="delimiter">&quot;</span></span>
      ]
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="groups-designjson"><a class="anchor" href="#groups-designjson"></a>2.2. Content Element Groups</h3>
<div class="paragraph">
<p>Each content element is assigned to a group. Add an entry to the <code>design.json</code> file to specify an identifier and a display name for each <em>group</em> element.</p>
</div>
<div class="listingblock">
<div class="title">Listing 8. Giving groups clearly identifiable descriptions</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">contentElementGroups</span><span class="delimiter">&quot;</span></span>: [
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">groupId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">buttons-and-links</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Buttons &amp; Links</span><span class="delimiter">&quot;</span></span>
    },
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">groupId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">text-and-images</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Text &amp; Images</span><span class="delimiter">&quot;</span></span>
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="content-elements"><a class="anchor" href="#content-elements"></a>2.3. Content Elements</h3>
<div class="paragraph">
<p>For each content element the following entries should be defined in order to get a clean user experience. The <em>element identifier</em> is the value of the <code>data-bsi-element</code> attribute, that is defined in the corresponding <code>html</code> file.</p>
</div>
<div class="listingblock">
<div class="title">Listing 9. Important metadata for content elements</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">contentElements</span><span class="delimiter">&quot;</span></span>: [
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">elementId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">logo</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Cooperate Logo</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Visualize your corporate logo</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">icon</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">content-elements/logo.html</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">parts</span><span class="delimiter">&quot;</span></span>: [
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">partId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Mobile image for Logo</span><span class="delimiter">&quot;</span></span>
        }
      ]
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Refer to the following illustration to pick a value for <em>icon</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/image-reference.png" alt="icon identifier reference">
</div>
<div class="title">Figure 3. icon identifier reference</div>
</div>
<div class="paragraph">
<p>For element parts, labels can be defined. Those are then used as section headings while editing a content element in the content editor. <code>partId</code> is the <code>data-bsi-element-part</code> value of the element part.</p>
</div>
<div class="sect3">
<h4 id="handlebars-content-elements"><a class="anchor" href="#handlebars-content-elements"></a>2.3.1. Handlebars Content Elements</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
BSI CX 25/1
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the schema version is set to 25.1, this enables the new Handlebars content element feature.</p>
</div>
<div class="listingblock">
<div class="title">Listing 10. Metadata for a Handlebars content element</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">elementId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">paragraph</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">template-element</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">content-elements/content/paragraph.hbs</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">contextFile</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">content-elements/content/paragraph.json</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">icon</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">heading</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Paragraph</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">templateParts</span><span class="delimiter">&quot;</span></span>: [ <i class="conum" data-value="3"></i><b>(3)</b>
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">partId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">formatted-text</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">partContextId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">paragraph</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="4"></i><b>(4)</b>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Paragraph-Text</span><span class="delimiter">&quot;</span></span>
    }
  ]
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The type attribute is mandatory for Handlebars content elements and needs to be set to <code>template-element</code>. The other values are optional and include <code>html-element</code> and <code>pre-defined-include</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>In addition to the source file, Handlebars elements need a context-file containing the variables supplied by the <em>Template Parts</em>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Instead of a list of <em>Element Parts</em> (<code>parts</code>), Handlebars elements only have a list of <em>Template Parts</em>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Context-ID that is used to refer to the <em>Template Part</em> in the template.</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="special-case-composite-elements"><a class="anchor" href="#special-case-composite-elements"></a>2.3.1.1. Special Case: Composite Elements</h5>
<div class="paragraph">
<p>Composites for Handlebars Elements have to be declared separately, as such:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">elementId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">two-column-with-content</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">template-element</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">composite</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>, <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">content-elements/content/two-column-with-content.hbs</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">contextFile</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">content-elements/content/two-column-with-content.json</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">icon</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">two-columns</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Zweispalter mit Beispielinhalt</span><span class="delimiter">&quot;</span></span>
} <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The new attribute <code>composite</code> needs to be set to <code>true</code> explicitly.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>No <em>Template Parts</em> are explicitly set. They are defined in the non-composite content elements that make up the composite.</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Every content element used in a composite needs to exist as a stand-alone element.
If the stand-alone element should not be visible in the content editor, it can be hidden using <code>"hidden": true</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A composite element needs to be built-up like building <code>design.hbs</code>: Every constituent element needs a <code>data-bsi-context-scope</code> and this scope is then used to assemble the element context.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="archiving-elements"><a class="anchor" href="#archiving-elements"></a>2.4. Archiving Content Elements</h3>
<div class="paragraph">
<p>As of BSI CX 23/2, it is possible to archive content elements in a design without losing these elements in an existing content after updating the design.</p>
</div>
<div class="paragraph">
<p>To do so, the <code>archived</code> attribute of corresponding elements are set to <code>true</code> in the <code>design.json</code> file.</p>
</div>
<div class="paragraph">
<p>Archived elements are still available in the design, but are no longer accessible in the content editor in the selection list of elements. Therefore it is no longer possible to insert them into a content. If they are already contained in a content, they can still be edited and moved, but can no longer be copied or pasted.</p>
</div>
<div class="listingblock">
<div class="title">Listing 11. Marking a content element as <code>archived</code></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">contentElements</span><span class="delimiter">&quot;</span></span>: [
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">elementId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">button</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Button</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">icon</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">megaphone</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">content-elements/button.html</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">archived</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="design-schema-version"><a class="anchor" href="#design-schema-version"></a>2.5. Design Schema Version</h3>
<div class="paragraph">
<p>The schema version is defined by the property <code>schemaVersion</code> in the <code>design.json</code> file.</p>
</div>
<div class="paragraph">
<p>This property is used to distinguish different versions of the JSON schema used for designs.
Which means a new version might support additional JSON properties, that do not exist in older versions.</p>
</div>
<div class="paragraph">
<p>The schema version is also used to control behavior.
The BSI CX application might interpret a new version in a different way than older versions.
For instance, it may use different default values for undefined properties.</p>
</div>
<div class="paragraph">
<p>Not every new BSI CX release defines a new schema version.
The following table is a list of supported schema versions, up to the latest release.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Schema Version</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial version introduced with BSI CX 1.3. At this point, only used for website designs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduced with BSI CX 22.0. Successor of the <code>design.properties</code> file, used for all content types.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduced with BSI CX 25/1. Added support for <a href="#handlebars-content-elements">Handlebars Content Elements</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">26.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduced with BSI CX 26/1. Added support for HTML sanitization and defaults for strict security.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="feature-toggle"><a class="anchor" href="#feature-toggle"></a>2.6. Feature Toggle</h3>
<div class="paragraph">
<p>BSI CX 26/1 introduced the top-level property <code>features</code>, which allows setting feature toggles in a design.
For instance, there are designs that support the 'dynamic forms' feature,
in which case the CX content editor should show the tab 'Form field rules' when the user edits a form.
However, this should not happen for designs which do not support that feature.</p>
</div>
<div class="paragraph">
<p>The list of supported feature names is defined by the BSI CX software.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">features</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">formFieldRules</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="security"><a class="anchor" href="#security"></a>2.7. Security</h3>
<div class="paragraph">
<p>BSI CX 26/1 introduced the top-level property <code>security</code>, which allows to configure security for a design.</p>
</div>
<div class="paragraph">
<p>As of release 26/1 security is turned on by default.
Design developers are encouraged to build secure designs from scratch.
But what does this mean? Features of a secure design are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The design does not use inline scripts.</p>
</li>
<li>
<p>The design does not use event attributes.</p>
</li>
<li>
<p>The design does not use <code>javascript:</code> URLs.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the design is built secure, it allows to set restrictive CSP rules for the BSI CX content editor
and also for the public BSI CX landing pages (which are two different configurations).
This minimizes the risk, that a potential attacker can inject malicious JavaScript code to perform a XSS attack.</p>
</div>
<div class="paragraph">
<p>You can use the following properties in the design.json to configure security features.
As mentioned above, the defaults depend on the design version (property <code>designSchemaVersion</code>).</p>
</div>
<div class="paragraph">
<p>This means you can also enable security in older designs, if your BSI CX is running on release 26/1 or greater.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">security</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">htmlSanitization</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">allowInlineScripts</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">allowEventAttributes</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If HTML sanitization is turned on, the DOM will be cleaned before the HTML document is stored in the BSI CX content editor.</p>
</div>
<div class="sect3">
<h4 id="allowinlinescripts"><a class="anchor" href="#allowinlinescripts"></a>2.7.1. allowInlineScripts</h4>
<div class="paragraph">
<p>Controls whether insecure inline scripts are removed from the DOM.
An insecure inline script is a <code>script</code> tag without a <code>source</code> attribute or without a <code>nonce</code> attribute.</p>
</div>
<div class="paragraph">
<p>It is not recommended to allow inline scripts.
If you must use inline scripts you should disallow inline script per CSP
and only allow the required inline scripts by setting an SHA-hash in the CSP.</p>
</div>
</div>
<div class="sect3">
<h4 id="alloweventattributes"><a class="anchor" href="#alloweventattributes"></a>2.7.2. allowEventAttributes</h4>
<div class="paragraph">
<p>Controls whether event attributes, with a property name starting with 'on', are removed from the DOM
and also if attributes, with a value starting with <code>javascript:</code>, are removed from the DOM.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="styles"><a class="anchor" href="#styles"></a>2.8. Styles</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
CX 23.2 introduced a new json format for the definition of styles. However, the previous format is still supported. A design for CX 22.0 or earlier therefore does not need to be migrated to the new styles format.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By defining styles for a certain content element, its characteristics can be controlled. By using styles to make a content element configurable, it is not necessary to implement an additional content element for an almost identical content element. A requirement to implement a button in two different colors (red and green) would therefore be implemented by creating a <em>button</em> content element with two styles: red and green. Styles are only defined once, and each element can have 0 to n style capabilities. Each style capability will then be transformed to a dropdown in the editing dialog of a content element, where the specific style can be applied to a content element.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/styles-picker.png" alt="styles visualized as dropdown in the content editor">
</div>
<div class="title">Figure 4. example of a style dropdown</div>
</div>
<div class="paragraph">
<p>Styles can be defined in two ways:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">CSS classes</dt>
<dd>
<p>One <code>cssClass</code> can be defined for each style option. If a style option is selected, the corresponding CSS class is added to the content element at the level of the <code>data-bsi-element</code> attribute.</p>
</dd>
<dt class="hdlist1">DOM manipulations</dt>
<dd>
<p>One or more <code>domManipulations</code> can be defined per style option using a <code>selector</code>, <code>attribute</code> and <code>value</code>. When a style option is selected, DOM elements within the content element are selected using the selector and the value of the attributes, e.g. an inline style (<code>style</code>), a CSS class (<code>class</code>) or other attributes (e.g. <code>align</code>) are manipulated.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">Listing 12. Defining style capabilities</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">styleConfigs</span><span class="delimiter">&quot;</span></span>: {
  <span class="key"><span class="delimiter">&quot;</span><span class="content">background-color</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Background color</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">styles</span><span class="delimiter">&quot;</span></span>: [
      {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">styleId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">background-color-green</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Green</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">cssClass</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">green-background</span><span class="delimiter">&quot;</span></span>,  <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="key"><span class="delimiter">&quot;</span><span class="content">domManipulations</span><span class="delimiter">&quot;</span></span>: [ <i class="conum" data-value="2"></i><b>(2)</b>
          {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">selector</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">div.bg-color</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">attribute</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">style</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">background-color: #18a92b; color: #ffffff;</span><span class="delimiter">&quot;</span></span>
          },
          {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">selector</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">div.bg-color h1.heading</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">attribute</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">align</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">center</span><span class="delimiter">&quot;</span></span>
          }
        ]
      },
      {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">styleId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">background-color-red</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Red</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">cssClass</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">red-background</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">domManipulations</span><span class="delimiter">&quot;</span></span>: [
          {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">selector</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">div.bg-color</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">attribute</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">style</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">background-color: #a21d1d; color: #ffffff;</span><span class="delimiter">&quot;</span></span>
          },
          {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">selector</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">div.bg-color p</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">attribute</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">class</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">text-on-red-bg</span><span class="delimiter">&quot;</span></span>
          }
        ]
      }
    ]
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Defining a <code>cssClass</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Defining of <code>domManipulations</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When using styles, please consider as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>1 to n styles can be defined to appear as individual dropdowns in the editor, where one style option can be selected.</p>
</li>
<li>
<p>A style option can have 1 to n <code>domManipulations</code> but only 1 <code>cssClass</code>.</p>
</li>
<li>
<p><code>cssClass</code> and <code>domManipulations</code> can be combined or used individually. <code>styleId</code> must always be set.</p>
</li>
<li>
<p>When a DOM manipulation is created with the <code>style</code> or <code>class</code> attribute, the value of the selected style option is added to the list of values currently present on the element. Only the values defined in the corresponding, unselected style options are overwritten. Independent values remain unchanged. In contrast, when using other attributes, e.g. <code>width</code>, the value is not appended when the style option is selected, but will instead be overwritten.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
It is strongly recommended that styles in email templates are not set via CSS classes, but via DOM manipulations with the <code>style</code> attribute, as many email clients still require certain styles to be set via inline styles.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Useful for the development of e-mail templates that are optimized for MS Outlook: MSO conditional comments can also be selected and manipulated with the DOM manipulation selector.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following shows how a style can be applied on a content element using <code>cssClass</code>. If a style is preselected on an element, it is sufficient to add the desired CSS class to the respective element in the HTML.</p>
</div>
<div class="listingblock">
<div class="title">Listing 13. Assigning style capabilities to content elements</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">contentElements</span><span class="delimiter">&quot;</span></span>: [
  {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">elementId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">button</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Button</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">styleConfigs</span><span class="delimiter">&quot;</span></span>: [
      <span class="string"><span class="delimiter">&quot;</span><span class="content">background-color</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">border-color</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">text-color</span><span class="delimiter">&quot;</span></span>
    ]
  }
]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 14. CSS class for a style</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="css"><span class="class">.colored-button</span><span class="class">.green-background</span> { <span class="key">background-color</span>: <span class="value">green</span>; }
<span class="class">.colored-button</span><span class="class">.red-background</span> { <span class="key">background-color</span>: <span class="value">red</span>; }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 15. How styles are applied on content elements</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;button</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">button</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">colored-button green-background</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/button&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rich-text-editor"><a class="anchor" href="#rich-text-editor"></a>2.9. Configuration capabilities of the Rich Text Editor</h3>
<div class="paragraph">
<p>By defining a content element part of type <code>formatted-text</code>, a fully featured rich text editor will be available to the users of the content editor. The built-in WYSIWYG rich text editor is powered by <a href="https://froala.com/">Froala</a>. BSI allows to customize a subset of Froala features directly out of a design. In order to do so, a configuration section in the <code>design.json</code> can be used to customize the features of the rich text editor. Each element part of type <code>formatted-text</code> can have its own custom list of features, although in most cases one feature definition is shared among different content elements.</p>
</div>
<div class="paragraph">
<p>A typical, simple rich text editor configuration will look like this:</p>
</div>
<div class="listingblock">
<div class="title">Listing 16. Rich text editor configuration example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">htmlEditorConfigs</span><span class="delimiter">&quot;</span></span>: {
  <span class="key"><span class="delimiter">&quot;</span><span class="content">my-config</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">features</span><span class="delimiter">&quot;</span></span>: [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">bold</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">italic</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">underline</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">textColor</span><span class="delimiter">&quot;</span></span>
    ],
      <span class="key"><span class="delimiter">&quot;</span><span class="content">textColors</span><span class="delimiter">&quot;</span></span>: [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">#ff00cc</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">#aabbcc</span><span class="delimiter">&quot;</span></span>
    ]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above configuration (named <code>my-config</code>) needs to be assigned to a concrete element part in order to apply the customizations:</p>
</div>
<div class="listingblock">
<div class="title">Listing 17. Applying an HTML editor configuration on a content element 'text'</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">contentElements</span><span class="delimiter">&quot;</span></span>: [
  {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">elementId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Text</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">parts</span><span class="delimiter">&quot;</span></span>: [
      {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">partId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">formatted-text</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Text</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">htmlEditorConfig</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">my-config</span><span class="delimiter">&quot;</span></span>

      }
    ]
  }
]</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/froala-few-features-enabled.png" alt="simple configuration from above in action">
</div>
</div>
<div class="paragraph">
<p>The entire list of supported configuration options is documented in the subsequent chapters.</p>
</div>
<div class="sect3">
<h4 id="feature-list"><a class="anchor" href="#feature-list"></a>2.9.1. Feature list</h4>
<div class="paragraph">
<p>The most important configuration option is the list of features that will be shown in the WYSIWYG editor.</p>
</div>
<div class="paragraph">
<p>If one wants to support <strong>bold</strong>, <em>italic</em>, and <span class="underline">underlined</span> text, the definition for doing so would be like this:</p>
</div>
<div class="listingblock">
<div class="title">Listing 18. Feature list example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">htmlEditorConfigs</span><span class="delimiter">&quot;</span></span>: {
  <span class="key"><span class="delimiter">&quot;</span><span class="content">my-config</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">features</span><span class="delimiter">&quot;</span></span>: [
        <span class="string"><span class="delimiter">&quot;</span><span class="content">bold</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">italic</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">underline</span><span class="delimiter">&quot;</span></span>
    ]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Each key in the list below (indicated in <strong>bold</strong>) identifies a certain feature, which is then displayed as a separate button in the editor. The sequence is irrelevant and does not affect the display order, as the display order is given by the server-side implementation.</p>
</div>
<div class="paragraph">
<p>The following features are available:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
bold
</td>
<td class="hdlist2">
<p>the text can be formatted in <strong>bold</strong>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
italic
</td>
<td class="hdlist2">
<p>the text can be formatted in <em>italics</em>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
underline
</td>
<td class="hdlist2">
<p>the text can be <span class="underline">underlined</span>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
strikeThrough
</td>
<td class="hdlist2">
<p>the text can be displayed with a <span class="line-through">line through</span> the center.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
subscript
</td>
<td class="hdlist2">
<p>the text can be displayed as a <sub>subscript</sub>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
superscript
</td>
<td class="hdlist2">
<p>the text can be displayed as a <sup>superscript</sup>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
fontSize
</td>
<td class="hdlist2">
<p>the font size can be changed based on the <em>font-sizes</em> value list.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
lineHeight
</td>
<td class="hdlist2">
<p>the line height can be changed based on the <em>line-heights</em> value list.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
textColor
</td>
<td class="hdlist2">
<p>the text color can be changed based on the <em>text-colors</em> value list.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
backgroundColor
</td>
<td class="hdlist2">
<p>the background color can be changed based on the <em>background-colors</em> value list.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
alignLeft
</td>
<td class="hdlist2">
<p>the text can be left aligned.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
alignCenter
</td>
<td class="hdlist2">
<p>the text can be centered.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
alignRight
</td>
<td class="hdlist2">
<p>the text can be right aligned.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
alignJustify
</td>
<td class="hdlist2">
<p>the text can be justified (As most browsers are terrible in handling justified text properly, we recommend to not enable this feature).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
formatOL
</td>
<td class="hdlist2">
<p>the text can be displayed as an organized list.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
formatUL
</td>
<td class="hdlist2">
<p>the text can be displayed as an unorganized list.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
outdent
</td>
<td class="hdlist2">
<p>the text can be outdented (useful for sub-lists).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
indent
</td>
<td class="hdlist2">
<p>the text can be indented (useful for sub-lists).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
paragraphFormat
</td>
<td class="hdlist2">
<p>changes the format of the paragraph based on the <em>formats</em> value list.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
quote
</td>
<td class="hdlist2">
<p>display the text as a quote.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
specialCharacters
</td>
<td class="hdlist2">
<p>inserts special characters.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
emoticons
</td>
<td class="hdlist2">
<p>inserts emoji.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
insertLink
</td>
<td class="hdlist2">
<p>permits the immediate insertion of links without having to use a wildcard.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
html
</td>
<td class="hdlist2">
<p>displays and edit the HTML of the text.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
help
</td>
<td class="hdlist2">
<p>displays Help.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
studioLink
</td>
<td class="hdlist2">
<p>context-sensitive support to edit CX links in the rich text editor.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In addition, the following features are <strong>always displayed in the editor</strong> and must therefore not be listed separately:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
clearFormatting
</td>
<td class="hdlist2">
<p>clears all formatting from the selected text.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
undo
</td>
<td class="hdlist2">
<p>undoes the change.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
redo
</td>
<td class="hdlist2">
<p>redoes the change.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
fullscreen
</td>
<td class="hdlist2">
<p>displays the editor in full screen mode.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
selectAll
</td>
<td class="hdlist2">
<p>selects the entire text in the editor.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Our experience has shown that these features are useful in the vast majority of cases and that the editing experience would be significantly affected without them.</p>
</div>
</div>
<div class="sect3">
<h4 id="value-lists"><a class="anchor" href="#value-lists"></a>2.9.2. Value Lists</h4>
<div class="paragraph">
<p>A list of values that will be shown in the editor can be defined for certain features (e.g. the list of colors when the font color feature is active).</p>
</div>
<div class="listingblock">
<div class="title">Listing 19. An example using configuration with different value lists set</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">htmlEditorConfigs</span><span class="delimiter">&quot;</span></span>: {
  <span class="key"><span class="delimiter">&quot;</span><span class="content">my-extended-config</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">features</span><span class="delimiter">&quot;</span></span>: [
      <span class="string"><span class="delimiter">&quot;</span><span class="content">bold</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">italic</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">underline</span><span class="delimiter">&quot;</span></span>
    ],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">textColors</span><span class="delimiter">&quot;</span></span>: [
      <span class="string"><span class="delimiter">&quot;</span><span class="content">#16616d</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">#ff7d00</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">#383e42</span><span class="delimiter">&quot;</span></span>
    ],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">backgroundColors</span><span class="delimiter">&quot;</span></span>: [
      <span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">#383e42</span><span class="delimiter">&quot;</span></span>
    ],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">formats</span><span class="delimiter">&quot;</span></span>: [
      <span class="string"><span class="delimiter">&quot;</span><span class="content">p</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">h1</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">h2</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">pre</span><span class="delimiter">&quot;</span></span>
    ],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">fontSizes</span><span class="delimiter">&quot;</span></span>: [
      <span class="integer">12</span>,
      <span class="integer">16</span>,
      <span class="integer">24</span>
    ],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">fontSizeUnit</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">px</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">fontSizeDefault</span><span class="delimiter">&quot;</span></span>: <span class="integer">16</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">lineHeights</span><span class="delimiter">&quot;</span></span>: [
      <span class="integer">1</span>,
      <span class="float">1.15</span>,
      <span class="float">1.5</span>,
      <span class="integer">2</span>
    ],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">enter</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">p</span><span class="delimiter">&quot;</span></span>
  }
}</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/froala-many-features-enabled.png" alt="configuration from above in action">
</div>
</div>
<div class="sect4">
<h5 id="colors"><a class="anchor" href="#colors"></a>2.9.2.1. Colors</h5>
<div class="paragraph">
<p>To customize the color picker for <code>textColor</code> and <code>backgroundColor</code>, provide a list of colors as follows:</p>
</div>
<div class="listingblock">
<div class="title">Listing 20. textColor example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">textColors</span><span class="delimiter">&quot;</span></span>: [
  <span class="string"><span class="delimiter">&quot;</span><span class="content">#16616d</span><span class="delimiter">&quot;</span></span>,
  <span class="string"><span class="delimiter">&quot;</span><span class="content">#ff7d00</span><span class="delimiter">&quot;</span></span>,
  <span class="string"><span class="delimiter">&quot;</span><span class="content">#383e42</span><span class="delimiter">&quot;</span></span>
]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 21. backgroundColor example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">backgroundColors</span><span class="delimiter">&quot;</span></span>: [
  <span class="string"><span class="delimiter">&quot;</span><span class="content">#ffffff</span><span class="delimiter">&quot;</span></span>,
  <span class="string"><span class="delimiter">&quot;</span><span class="content">#383e42</span><span class="delimiter">&quot;</span></span>
]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="paragraph-formats"><a class="anchor" href="#paragraph-formats"></a>2.9.2.2. Paragraph formats</h5>
<div class="paragraph">
<p>Paragraph formatting and headings can be configured as well. This may be customized through the <code>formats</code> value list, which will only have an effect if the feature <code>paragraphFormat</code> is active.</p>
</div>
<div class="listingblock">
<div class="title">Listing 22. formats example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">formats</span><span class="delimiter">&quot;</span></span>: [
  <span class="string"><span class="delimiter">&quot;</span><span class="content">p</span><span class="delimiter">&quot;</span></span>,
  <span class="string"><span class="delimiter">&quot;</span><span class="content">h1</span><span class="delimiter">&quot;</span></span>,
  <span class="string"><span class="delimiter">&quot;</span><span class="content">h2</span><span class="delimiter">&quot;</span></span>,
  <span class="string"><span class="delimiter">&quot;</span><span class="content">pre</span><span class="delimiter">&quot;</span></span>
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following formats can be provided:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
p
</td>
<td class="hdlist2">
<p>for an html paragraph (<code>&lt;p&gt;</code>)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
h1
</td>
<td class="hdlist2">
<p>for an html H1 title (<code>&lt;h1&gt;</code>)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
h2
</td>
<td class="hdlist2">
<p><code>&lt;h2&gt;</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
h3
</td>
<td class="hdlist2">
<p><code>&lt;h3&gt;</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
h4
</td>
<td class="hdlist2">
<p><code>&lt;h4&gt;</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
h5
</td>
<td class="hdlist2">
<p><code>&lt;h5&gt;</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
h6
</td>
<td class="hdlist2">
<p><code>&lt;h6&gt;</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
pre
</td>
<td class="hdlist2">
<p>for preformatted text (<code>&lt;pre&gt;</code>)</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="line-heights"><a class="anchor" href="#line-heights"></a>2.9.2.3. Line heights</h5>
<div class="paragraph">
<p>To customize the <code>lineHeight</code> value list, provide a list of heights in percentages, comma separated. The line height values define the factor by which factor the current line height is multiplied based on the font size used.</p>
</div>
<div class="listingblock">
<div class="title">Listing 23. lineHeight example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">lineHeights</span><span class="delimiter">&quot;</span></span>: [
  <span class="integer">1</span>,
  <span class="float">1.15</span>,
  <span class="float">1.5</span>,
  <span class="integer">2</span>
]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="font-size"><a class="anchor" href="#font-size"></a>2.9.2.4. Font size</h5>
<div class="paragraph">
<p>To customize the list of font sizes, provide a list of sizes for <code>fontSizes</code>. A custom default value can be set by using <code>fontSizeDefault</code>.</p>
</div>
<div class="paragraph">
<p>Size information is provided numerically. If several sizes are permitted, then each individual entry is listed in a comma separated format. The data on font sizes (font size and font size default) are absolute values.</p>
</div>
<div class="paragraph">
<p>The unit of measurement (<code>fontSizeUnit</code>) defines which unit to be used for information regarding the font sizes. The following are permitted:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
px
</td>
<td class="hdlist2">
<p>Pixels</p>
</td>
</tr>
<tr>
<td class="hdlist1">
em
</td>
<td class="hdlist2">
<p>Relative to font size of the parent</p>
</td>
</tr>
<tr>
<td class="hdlist1">
rem
</td>
<td class="hdlist2">
<p>Relative to font size of the root element</p>
</td>
</tr>
<tr>
<td class="hdlist1">
pt
</td>
<td class="hdlist2">
<p>Points</p>
</td>
</tr>
<tr>
<td class="hdlist1">
cm
</td>
<td class="hdlist2">
<p>Centimeters</p>
</td>
</tr>
<tr>
<td class="hdlist1">
mm
</td>
<td class="hdlist2">
<p>Millimeters</p>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 24. fontSizes, fontSizeUnit and fontSizeDefault example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">fontSizes</span><span class="delimiter">&quot;</span></span>: [
  <span class="integer">8</span>,
  <span class="integer">12</span>,
  <span class="integer">16</span>,
  <span class="integer">24</span>,
  <span class="integer">32</span>
],
<span class="key"><span class="delimiter">&quot;</span><span class="content">fontSizeUnit</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">px</span><span class="delimiter">&quot;</span></span>,
<span class="key"><span class="delimiter">&quot;</span><span class="content">fontSizeDefault</span><span class="delimiter">&quot;</span></span>: <span class="integer">16</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="entry-mode"><a class="anchor" href="#entry-mode"></a>2.9.2.5. Entry mode</h5>
<div class="paragraph">
<p>By defining the entry mode (enter), you define what happens in the editor when the <kbd>Enter</kbd> key on your keyboard is pressed. The following options are available:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
p
</td>
<td class="hdlist2">
<p>to enclose the text with a paragraph (<code>&lt;p&gt;</code>)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
div
</td>
<td class="hdlist2">
<p>to enclose the text with a <code>&lt;div&gt;</code> tag</p>
</td>
</tr>
<tr>
<td class="hdlist1">
br
</td>
<td class="hdlist2">
<p>to simply insert a <code>&lt;br&gt;</code> tag for a line break</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In <code>p</code> and <code>div</code> modes, there is the option to force a simple line break with <span class="keyseq"><kbd>Shift</kbd>+<kbd>Enter</kbd></span>. This will add <code>&lt;br&gt;</code> without immediately ending the block and starting a new one.</p>
</div>
<div class="listingblock">
<div class="title">Listing 25. enter mode example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">enter</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">div</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="content-editor-2"><a class="anchor" href="#content-editor-2"></a>3. Content Editor</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="content-editor-specific-css"><a class="anchor" href="#content-editor-specific-css"></a>3.1. Content editor specific CSS</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
CX 1.2.46
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Sometimes it is useful to apply special CSS rules to the content when the page is in edit or preview mode. There are two special CSS classes set on the documentâ€™s <code>&lt;html&gt;</code> tag to address such use cases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>bsi-ce-edit-mode</strong> is set when the document is shown in the content editor.</p>
</li>
<li>
<p><strong>bsi-ce-preview-mode</strong> is set when the document is shown in preview mode inside the content editor.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The preview mode outside the content editor or any content that is delivered by a story will not have any of the above listed classes.</p>
</div>
<div class="listingblock">
<div class="title">Listing 26. editor specific CSS example: HTML</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;html&gt;</span><span class="tag">&lt;head&gt;</span><span class="comment">&lt;!-- head omitted --&gt;</span><span class="tag">&lt;/head&gt;</span>
<span class="tag">&lt;body&gt;</span>
    <span class="tag">&lt;h1</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">hide show-if-edit</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>this is edit mode<span class="tag">&lt;/h1&gt;</span>
    <span class="tag">&lt;h1</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">hide show-if-preview</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>this is preview mode<span class="tag">&lt;/h1&gt;</span>
    <span class="comment">&lt;!-- rest of body omitted --&gt;</span>
<span class="tag">&lt;/body&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 27. editor specific CSS example: CSS</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="css"><span class="class">.hide</span> { <span class="key">display</span>: <span class="value">none</span>; }
<span class="class">.bsi-ce-edit-mode</span> <span class="class">.show-if-edit</span> { <span class="key">display</span>: <span class="value">block</span>; <span class="key">color</span>:<span class="value">green</span>; }
<span class="class">.bsi-ce-preview-mode</span> <span class="class">.show-if-preview</span> { <span class="key">display</span>: <span class="value">block</span>; <span class="key">color</span>:<span class="value">darkorange</span>; }</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. editor specific CSS example: resulting representation in the content editor</caption>
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Edit mode</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Preview Mode</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="./images/editor-spedific-css_edit-mode.png" alt="edit mode">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="./images/editor-spedific-css_preview-mode.png" alt="preview mode">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="predefined-story-outlets-bracket-links"><a class="anchor" href="#predefined-story-outlets-bracket-links"></a>3.2. Predefined Story outlets (Bracket Links)</h3>
<div class="paragraph">
<p>One way to define a link out of a design is to use a <code>data-bsi-element-part="link"</code> annotation on a link (<code>&lt;a&gt;</code>) element.
Doing so will add a link editor to enter a URL and a link text to the content editor.</p>
</div>
<div class="listingblock">
<div class="title">Listing 28. Adding an editable link to a content element.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;a</span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">link</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.bsi-software.com/</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>BSI Website<span class="tag">&lt;/a&gt;</span></code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/data-bsi-element-part-link.png" alt="editing a link element part">
</div>
<div class="title">Figure 5. visualization of an editable link</div>
</div>
<div class="paragraph">
<p>Another way to define a link directly out of a design is by using the CX <em>bracket link syntax</em> for links.
This mechanism in built into the content editor itself to create a link anywhere in a text.</p>
</div>
<div class="listingblock">
<div class="title">Listing 29. Example on adding a link anywhere in the text.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;span</span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">plain-text</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>If you do not wish to receive further promotions, you can [unsubscribe] now.<span class="tag">&lt;/span&gt;</span></code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/bracket-links-demo.png" alt="usage of bracket links in BSI">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Definition of links using the CX bracket syntax.</p>
</li>
<li>
<p>Each link is converted into a story outlet.
Each outlet can then be linked to an individual action in the story.</p>
</li>
<li>
<p>The content that is delivered to the user.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>While rendering the above content, CX will convert the <code>[unsubscribe]</code> term to a link tag internally, create a unique hyperlink and will add a new outlet to the step to which the current content belongs.
When using bracket links, the story designer will see the provided link as a story outlet by default.
This allows the Story Designer to link the click action on the link with other steps (e.g. a subsequent landing page step).
In the example above, the <em>Email Step</em> will already have an outlet named <em>unsubscribe</em>.
The bracket technique itself is usable everywhere in the content editor and is not limited to the usage in a design.</p>
</div>
<div class="paragraph">
<p>The convenience format of a bracket link for CX is <code>[link text|ID]</code>.
The full syntax is <code>[ID|text=link text|url=https://example.com|newWindow]</code>.</p>
</div>
<div class="paragraph">
<p>You may use the following optional parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>url</code> can be used to explicitly specify an absolute URL.</p>
</li>
<li>
<p><code>newWindow</code> will force to open the target in a new tab or window.</p>
</li>
<li>
<p><code>follow</code> removes the <em>nofollow</em> value from the html <em>rel</em> attribute. Without <em>nofollow</em>, bots are allowed to crawl your page (not recommended for personalised links).</p>
</li>
<li>
<p><code>login</code> creates a link having the query parameter ?login, which redirects to the login page in a website.</p>
</li>
<li>
<p><code>logout</code> creates a link having the query parameter ?logout, which removes the authenticated user from a CX HTTP session in a website.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a bracket itself should be part of a link, it can be escaped with a backslash (e.g. <code>[\[click me\]|id]</code> will then be visualized as <em>[click me]</em>).</p>
</div>
<div class="paragraph">
<p>You can also place a bracket link anywhere in the design.
An example of doing so is to add it to an <code>href</code> of a link.</p>
</div>
<div class="listingblock">
<div class="title">Listing 30. Adding a bracket link to a link will allow us to track the "Facebook" link in CX.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">[Facebook]</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">img/facebook.png</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span><span class="tag">&lt;/a&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Be reminded that all CX will replace everything that looks like a bracket link.
It is your responsibility as a developer to use escaping where brackets have a different meaning.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 31. Escaping is important in cases like this one.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="comment">&lt;!-- CX will convert this to a bracket link --&gt;</span>
<span class="tag">&lt;input</span> <span class="attribute-name">pattern</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">[0-9]</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

<span class="comment">&lt;!-- escaping is mandatory for the pattern mechanism to work as desired --&gt;</span>
<span class="tag">&lt;input</span> <span class="attribute-name">pattern</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">\[0-9]</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="bracket-links-in-iterators"><a class="anchor" href="#bracket-links-in-iterators"></a>3.2.1. Bracket links in iterators</h4>
<div class="paragraph">
<p>When you display data in a table, you will use the iterator feature of BSI CX.
In this example we display a list of blog articles.</p>
</div>
<div class="paragraph">
<p>In the content editor you use a table content-element.
You activate the 'Dynamic table' checkbox in the editor form.
Now you define the columns. Let&#8217;s assume we have 3 columns:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>{blog.title}</p>
</li>
<li>
<p>{blog.releaseDate}</p>
</li>
<li>
<p>[blog.details] [blog.edit]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The third column defines two iterator bracket links.
The link ID must start with the entity prefix,
which is followed by an arbitrary name that defines the function of the link.</p>
</div>
<div class="paragraph">
<p>When you use this content in a media step in the storyboard,
the step will provide a GUI, to pick an entity and the values for the placeholders 'title' and 'releaseDate'.
For the two links the step will generate two outlets.
A consequent step connected to these outlets can pick from the iterator property which is labeled with 'Chosen via link' and can access the properties of that distinct iterator item.</p>
</div>
</div>
<div class="sect3">
<h4 id="styling-of-bracket-links"><a class="anchor" href="#styling-of-bracket-links"></a>3.2.2. Styling of bracket links</h4>
<div class="paragraph">
<p>When CX converts a <code>[placeholder]</code> term internally into a link tag, it adds the CSS class <code>placeholder-link</code> to the <code>a</code> tag. This allows bracket links to be selected and styled separately from other link elements.</p>
</div>
<div class="listingblock">
<div class="title">Listing 32. How to style a CX bracket link using the CSS class <code>placeholder-link</code></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="css"><span class="tag">a</span><span class="class">.placeholder-link</span> {<span class="key">color</span>: <span class="color">#fe9915</span>;}
<span class="class">.footer-div</span> <span class="tag">a</span><span class="class">.placeholder-link</span> {<span class="key">color</span>: <span class="color">#ffffff</span>;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>It should be noted that the CSS class is not set until the live content is rendered. For this reason, you won&#8217;t find the styling, referring to the CSS class <code>placeholder-link</code>, in the content editor, but only - in the case of email content - in the sent email.</p>
</div>
</div>
<div class="sect3">
<h4 id="using-anchor-links-inside-a-design"><a class="anchor" href="#using-anchor-links-inside-a-design"></a>3.2.3. Using anchor links inside a design</h4>
<div class="paragraph">
<p>First of all, it is possible to use anchor links in the form of <code>#top</code> inside a CX design.
Anchor links are allowed as targets of <a href="#sec-link-part">link parts</a>.
However, it is not possible to use anchor links as <code>url</code> of a bracket link.
This is due to the fact, that bracket links meant to be trackable by CX and this requires a complete roundtrip to the server.</p>
</div>
<div class="listingblock">
<div class="title">Listing 33. How to use anchor links in a design.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;section</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">news</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="comment">&lt;!-- some news --&gt;</span>
<span class="tag">&lt;/section&gt;</span>

<span class="comment">&lt;!-- some more html code --&gt;</span>

<span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">cta</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#news</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">link</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Jump to news<span class="tag">&lt;/a&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="content-elements-and-parts"><a class="anchor" href="#content-elements-and-parts"></a>3.3. Content Elements and Parts</h3>
<div class="paragraph">
<p>This chapter describes the structure of the <code>content-elements.html</code> file and the available content elements.
The <code>content-elements.html</code> file contains HTML snippets for the content elements that can be selected in BSI CX.
To do so, BSI CX searches for elements with the <code>data-bsi-element</code> attribute in the HTML code.
The recommendation is to define all content elements at the same level as the DOM, for example, as <code>&lt;div&gt;</code> directly below the <code>&lt;body&gt;</code> element.
However, for better visualization during development, the developer can also create additional elements (e.g., with CSS borders or margins) around the elements marked with <code>data-bsi-element</code>.
BSI CX will ignore those, though.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
It is not necessary for the <code>content-elements.html</code> file to have a <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code> or <code>&lt;body&gt;</code> tag.
But the containing HTML must be valid.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following listing illustrates a very simple content element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">logo</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">logo.png</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">My Company</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As we can see in the listing, <code>data-bsi-element</code> defines the identifier of the content element.
It must not contain any spaces.
The identifier corresponds to the value that can be used in the attribute called <code>data-bsi-dropzone-allowed-elements</code> in the dropzone.
The element marked with the identifier, when used, is inserted into the relevant dropzone (not only the child elements).</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The content editor specifically highlights the content elements.
To make sure this works properly, all content elements must be block elements rather than inline elements.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A content element can define one or more internal dropzones.
The definition is the same as for <code>design.html</code>.
For example, use it with a content element for a 3-column layout with three internal dropzones.
While the dropzones may be nested arbitrarily, please pay attention to usability.</p>
</div>
<div class="sect3">
<h4 id="grouping"><a class="anchor" href="#grouping"></a>3.3.1. Grouping</h4>
<div class="paragraph">
<p>Complex designs can consist of many elements.
For better organization, it is mandatory to group the elements.
To do so, the <code>data-bsi-group</code> attribute can be used.
The following listing illustrates such a grouping:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">texts</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">default-text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">formatted-text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;p&gt;</span>Lorem ipsum<span class="tag">&lt;/p&gt;</span>
        <span class="tag">&lt;ul&gt;</span>
            <span class="tag">&lt;li&gt;</span>lorem<span class="tag">&lt;/li&gt;</span>
            <span class="tag">&lt;li&gt;</span>ipsum<span class="tag">&lt;/li&gt;</span>
        <span class="tag">&lt;/ul&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">raw-text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">plain-text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Lorem ipsum<span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">images</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">full-size-image</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">example.jpg</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="types"><a class="anchor" href="#types"></a>3.3.2. Types</h4>
<div class="paragraph">
<p>There are two distinct styles of content elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTML-Elements: HTML-Elements only consist of HTML <em>Element Parts</em>. Element Parts specify a fixed structure of a DOM-subtree that is directly manipulated inside the content editor.
This type has been supported ever since the release of CX.</p>
</li>
<li>
<p>Handlebars-Elements: Handlebars-Elements use Handlebars as template engine.
The element consists of <em>Template Parts</em> that specify parts of the element editor.
The HTML of the element is created by rendering the Handlebars-Template with the variables exported by the Template Parts.
Handlebars-Elements cannot include traditional HTML <em>Element Parts</em>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="element-parts"><a class="anchor" href="#element-parts"></a>3.3.3. Element Parts</h4>
<div class="paragraph">
<p>A content element part references, inside a content element, an area (such as text or image) that can be edited directly with the BSI CX content editor.
The content element "text with image" knows, for example, the two areas <code>image</code> and <code>plain-text</code>.
The identifiers must be adopted exactly as they are.
The following listing illustrates the example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;figure</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element text-with-image</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text-with-image</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tag">&lt;img</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">example.jpg</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tag">&lt;figcaption</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">plain-text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Lorem ipsum<span class="tag">&lt;/figcaption&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="tag">&lt;/figure&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is the content element definition.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>image</code> part defines an editable image.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>plain-text</code> part defines an editable plain text.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The individual parts are likely to contain sample content already.
This content must fit in terms of the structure (e.g., only plain text with <code>plain-text</code>, and a correct table definition with <code>table</code>, etc.)
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="plain-text"><a class="anchor" href="#plain-text"></a>3.3.3.1. Plain Text</h5>
<div class="paragraph">
<p>The part <code>plain-text</code> can be applied to any HTML element that can contain text.
The text is inserted within the element.
The element must not have children with other content element parts (content is removed).
A single-line text field without formatting is available as the editor.
When using the optional attribute <code>data-bsi-multiline</code>, the text field becomes multiline.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Boolean attributes like <code>data-bsi-multiline</code> require an empty value <code>=""</code> or sample value like <code>="true"</code>.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 34. Sample usage of the plain text part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;h1</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">title-h1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">plain-text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element title-h1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Lorem ipsum<span class="tag">&lt;/h1&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 35. Sample usage of the plain text part with the multiline feature.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;p</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">paragraph</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">plain-text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-multiline</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Lorem ipsum<span class="tag">&lt;br&gt;</span>dolor sit amet<span class="tag">&lt;/p&gt;</span></code></pre>
</div>
</div>
<div class="sect5">
<h6 id="configuration"><a class="anchor" href="#configuration"></a>Configuration</h6>
<div class="ulist">
<ul>
<li>
<p><strong>studioLinkEnabled</strong>: This boolean value controls whether the 'CX Link' button is visible.
Default is <code>false</code>.</p>
</li>
<li>
<p><strong>multiline</strong>: This boolean value controls whether the field is single- or multiline.
  Default is <code>false</code>. Note: in earlier CX versions, this setting was configured via the DOM
attribute <code>data-bsi-multiline</code>.</p>
</li>
<li>
<p><strong>fieldHeight</strong>: This integer value controls the field height in the form of the content editor.
Default is <code>5</code>. The unit is <em>Eclipse Scout</em> grid height (Property 'h' in GridData).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="formatted-text"><a class="anchor" href="#formatted-text"></a>3.3.3.2. Formatted Text</h5>
<div class="paragraph">
<p>The part <code>formatted-text</code> can be applied to any HTML element that can contain text.
The element must not have children with other content element parts (content is removed).
The rich text field with a limited number of formatting options is available as an editor.
For more information about the available configuration options see chapter <a href="#rich-text-editor">Configuration capabilities of the Rich Text Editor</a>.</p>
</div>
<div class="listingblock">
<div class="title">Listing 36. Sample usage of the formatted text part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;section</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">section</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">formatted-text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;h1&gt;</span>Lorem ipsum dolor sit amet<span class="tag">&lt;/h1&gt;</span>
    <span class="tag">&lt;p&gt;</span>Proin porta <span class="tag">&lt;strong&gt;</span>pharetra est non<span class="tag">&lt;/strong&gt;</span> molestie.<span class="tag">&lt;/p&gt;</span>
    <span class="tag">&lt;p&gt;</span><span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.example.org/</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>More<span class="tag">&lt;/a&gt;</span><span class="tag">&lt;/p&gt;</span>
<span class="tag">&lt;/section&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="html"><a class="anchor" href="#html"></a>3.3.3.3. HTML</h5>
<div class="paragraph">
<p>The <code>html</code> part can be applied to any HTML element.
The code is inserted within the element.
The element must not have children with other content element parts (content is removed).
A text field is used as the editor.
HTML can be written directly into this field.</p>
</div>
<div class="listingblock">
<div class="title">Listing 37. Sample usage of the HTML part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">html</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">html</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;iframe</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.openstreetmap.org/export/embed.html</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">style</span>=<span class="string"><span class="delimiter">&quot;</span><span class="key">height</span>: <span class="float">500px</span>;<span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/iframe&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This part can be useful for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Prototyping</p>
</li>
<li>
<p>Quick-and-Dirty Hacks</p>
</li>
<li>
<p>Embedding any HTML code</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
It is not allowed to place any <code>data-bsi-element</code> or <code>data-bsi-element-part</code> attributes inside the HTML code.
This won&#8217;t work as expected and leads to invalid content.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="video"><a class="anchor" href="#video"></a>3.3.3.4. Video</h5>
<div class="paragraph">
<p>The <code>video</code> part can be applied to any block level HTML element.
This part can be used to display information and thumbnails of external videos.
It can also be used to embed external videos.
Within the element, various elements can be used as placeholders:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each <code>&lt;iframe&gt;</code> element is used to embed an external video player.</p>
</li>
<li>
<p>Each <code>&lt;img&gt;</code> element with a <code>data-bsi-video-thumbnail</code> attribute is used to display the video thumbnail.</p>
</li>
<li>
<p>Each HTML element with the <code>data-bsi-video-title</code> attribute is used to display the video title.</p>
</li>
<li>
<p>Each HTML element with the <code>data-bsi-video-description</code> is used to display the video description.</p>
</li>
<li>
<p>Each <code>&lt;a&gt;</code> element with the <code>data-bsi-video-link</code> is used to place a link to the external video.
The text of the hyperlink will not be touched, only the <code>href</code> attribute will be filled.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Fetching the video&#8217;s title and description may requires an active API key for the appropriate provider.
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Boolean attributes like <code>data-bsi-video-title</code> require an empty value <code>=""</code> or sample value like <code>="true"</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following external video providers are supported:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">YouTube</dt>
<dd>
<p>Without a configured API key, only the thumbnails are automatically picked.
More information on obtaining a YouTube API key: <a href="https://developers.google.com/youtube/v3/getting-started" class="bare">https://developers.google.com/youtube/v3/getting-started</a></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Be aware that there are two kinds of URLs involved:
One is the link to the video platform itself for the <code>href</code> attribute on the <code>&lt;a&gt;</code> tag and there is the embedded URL for the <code>&lt;iframe&gt;</code> player.
In the case of YouTube <a href="https://www.youtube.com/watch?v=YpnFs4aBLQA" class="bare">https://www.youtube.com/watch?v=YpnFs4aBLQA</a> is the link to the video platform.
The corresponding embedded URL would be <a href="https://www.youtube.com/embed/YpnFs4aBLQA" class="bare">https://www.youtube.com/embed/YpnFs4aBLQA</a>.
If you want to provide sample content for your element you may have to fill both URLs in the right tag.
The following listing illustrates the use of sample content for a simple video element:</p>
</div>
<div class="listingblock">
<div class="title">Listing 38. Example of a simple video element.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element video</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">video-simple</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">responsive-video</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">video</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-video-data-link</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.youtube.com/watch?v=YpnFs4aBLQA</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tag">&lt;iframe</span> <span class="attribute-name">width</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1120</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">height</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">630</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">frameborder</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.youtube.com/embed/YpnFs4aBLQA</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">allow</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">autoplay; encrypted-media</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">webkitallowfullscreen</span> <span class="attribute-name">mozallowfullscreen</span> <span class="attribute-name">allowfullscreen</span><span class="tag">&gt;</span><span class="tag">&lt;/iframe&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The link to the video platform is placed inside the <code>data-bsi-video-data-link</code> attribute.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The embed video URL is placed inside the <code>src</code> attribute of the <code>&lt;iframe&gt;</code> tag.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This results in the following content element:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/simple-video-element.png" alt="Simple video element in action.">
</div>
<div class="title">Figure 6. Simple video element in action.</div>
</div>
<div class="paragraph">
<p>A more complex video element would be the following:</p>
</div>
<div class="listingblock">
<div class="title">Listing 39. Example of a complex video element.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element video</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">video-thumbnail</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">video-thumbnail</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">video</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-video-data-link</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.youtube.com/watch?v=YpnFs4aBLQA</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tag">&lt;p&gt;</span>
            <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.youtube.com/watch?v=YpnFs4aBLQA</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-video-link</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">target</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">_blank</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
                <span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://i.ytimg.com/vi/YpnFs4aBLQA/maxresdefault.jpg</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-video-thumbnail</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b>
            <span class="tag">&lt;/a&gt;</span>
        <span class="tag">&lt;/p&gt;</span>
        <span class="tag">&lt;h3</span> <span class="attribute-name">data-bsi-video-title</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>BSI Tech Lovers<span class="tag">&lt;/h3&gt;</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="tag">&lt;p</span> <span class="attribute-name">data-bsi-video-description</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>FÃ¼r mehr WOW-Momente mit BSI. Monika Freiburghaus, Ralf Muri, Thomas Lindauer und Urs Frick zeigen Einblicke in ihre persÃ¶nlichen WOW-Momente.<span class="tag">&lt;/p&gt;</span> <i class="conum" data-value="5"></i><b>(5)</b>
    <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The link to the video platform is placed inside the <code>data-bsi-video-data-link</code> attribute.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The link to the video platform is also placed inside the <code>href</code> attribute.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The placeholder image can also be part of the design, it is not mandatory to provide the URL to the real image here.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The content of the first tag marked with <code>data-bsi-video-title</code> will be used as placeholder for the title.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The content of the first tag marked with <code>data-bsi-video-description</code> will be used as placeholder for the video description.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This results in the following content element:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/complex-video-element.png" alt="Complex video element in action.">
</div>
<div class="title">Figure 7. Complex video element in action.</div>
</div>
<div class="paragraph">
<p>The video part is quite powerful and can be used in various ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enrich your landing page or website with embedded videos.</p>
</li>
<li>
<p>Use video thumbnails in your content.</p>
</li>
<li>
<p>Send emails with link, thumbnail, title and description of an external video.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="image"><a class="anchor" href="#image"></a>3.3.3.5. Image</h5>
<div class="paragraph">
<p>The <code>image</code> element part can only be placed inside of a <code>&lt;img&gt;</code> or <code>&lt;a&gt;</code> tag.
The source is inserted in the <code>src</code> attribute.</p>
</div>
<div class="listingblock">
<div class="title">Listing 40. Example of an image element</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image-simple</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">example.jpg</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Example image</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It is not possible to omit the image of an <code>image</code> part.
Therefore it is mandatory to specify an image in the content editor.
Otherwise a validation error will occur.</p>
</div>
<div class="sect5">
<h6 id="srcset"><a class="anchor" href="#srcset"></a>srcset</h6>
<div class="paragraph">
<p>By specifying the <code>srcset</code> attribute, the images are also scaled accordingly.
If a <code>srcset</code> attribute is present, the <code>src</code> attribute is set to the image at its highest resolution (according to the defined <code>srcset</code>).
If there is no <code>srcset</code> attribute, the selected image is not scaled and is placed directly as <code>src</code>.
For images with dynamic sources (the image is set through the story), the definition of the <code>srcset</code> is ignored.
If you set an image in the content editor, make sure it is of decent size. After saving the content, the image is scaled to the sizes specified in the <code>srcset</code> attribute and stored on the CX resource server. Depending on the resolution of device that is requesting the landing page/website, a different resolution of the image is loaded.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
We highly recommend to set the <code>srcset</code> attribute.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 41. Example of a image element that scales to the sizes specified in srcset</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image-simple</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">example-800w.jpg</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">srcset</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">example-480w.jpg 480w, example-800w.jpg 800w</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Example image</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The attribute <code>data-bsi-hide-link</code> controls whether the field <em>URL/internet address</em> and the checkbox <em>Open in new window</em> is visible and editable in the content editor. A design developer may still wrap the image inside an <code>&lt;a&gt;</code> tag in the content element, but the user cannot change the link.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The attribute <code>data-bsi-hide-link</code> is available from CX 1.3.40 onward
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="providing-an-image-through-the-story"><a class="anchor" href="#providing-an-image-through-the-story"></a>Providing an image through the story</h6>
<div class="paragraph">
<p>Dynamic image sources can be specified with angle brackets, e.g. <code>&lt;my-dynamic-image&gt;</code>. The image URL will then be provided by the story. Please note that in this case the <code>srcset</code> attribute will be ignored.  Thus, dynamic image sources are not scaled.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="background-image"><a class="anchor" href="#background-image"></a>3.3.3.6. background-image</h5>
<div class="paragraph">
<p>An arbitrary element which permits the use of a CSS <code>background-image</code>.
It places the CSS attribute <code>background-image</code>.
The image selection is available as the editor just like with the image part.</p>
</div>
<div class="listingblock">
<div class="title">Listing 42. Example usage of the background-image part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element scene</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">scene</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">background-image</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">style</span>=<span class="string"><span class="delimiter">&quot;</span><span class="key">background-image</span>: <span class="function"><span class="delimiter">url(</span><span class="content">'example.jpg'</span><span class="delimiter">)</span></span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="table"><a class="anchor" href="#table"></a>3.3.3.7. table</h5>
<div class="paragraph">
<p>A <code>&lt;div&gt;</code> oder <code>&lt;td&gt;</code> element with a table element as a direct child element.
The table content is filled according to the editor (including colgroup).
<strong>Colspan is not supported.</strong> On even or odd rows or columns, the CSS class <code>even</code> or <code>odd</code> is placed.
The <code>&lt;th&gt;</code> tag is used for header columns, if specified.
<strong>This part does not support <code>&lt;thead&gt;</code> and <code>&lt;tbody&gt;</code> tags.</strong></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
It is possible to use an iterator to generate dynamic tables.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 43. Example usage of the table part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element table</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">simple-table</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">table</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;table&gt;</span>
        <span class="tag">&lt;tr&gt;</span>
            <span class="tag">&lt;th&gt;</span>Firstname<span class="tag">&lt;/th&gt;</span>
            <span class="tag">&lt;th&gt;</span>Lastname<span class="tag">&lt;/th&gt;</span>
            <span class="tag">&lt;th&gt;</span>Age<span class="tag">&lt;/th&gt;</span>
        <span class="tag">&lt;/tr&gt;</span>
        <span class="tag">&lt;tr&gt;</span>
            <span class="tag">&lt;td&gt;</span>John<span class="tag">&lt;/td&gt;</span>
            <span class="tag">&lt;td&gt;</span>Doe<span class="tag">&lt;/td&gt;</span>
            <span class="tag">&lt;td&gt;</span>42<span class="tag">&lt;/td&gt;</span>
        <span class="tag">&lt;/tr&gt;</span>
    <span class="tag">&lt;/table&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="iterator"><a class="anchor" href="#iterator"></a>3.3.3.8. iterator</h5>
<div class="paragraph">
<p>An arbitrary element.
The attribute <code>data-bsi-iterator</code> can be defined on this element.
The attribute <code>data-bsi-iterator-item</code> must be defined on the element or on one of the included elements.
This defines the element to be duplicated.
If <code>data-bsi-iterator</code> is defined and the iterator does not provide any data, the entire element is removed.
Otherwise, only the element to be duplicated is marked with <code>data-bsi-iterator-item</code>.</p>
</div>
<div class="paragraph">
<p>A text field is used as the editor.
The name of the iterator can be placed in this text field.</p>
</div>
<div class="listingblock">
<div class="title">Listing 44. Example usage of the iterator part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element iterator</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">iterator</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-iterator</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Customer</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">customer</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-iterator-item</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Customer</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;dl&gt;</span>
            <span class="tag">&lt;dt&gt;</span>Name<span class="tag">&lt;/dt&gt;</span>
            <span class="tag">&lt;dd&gt;</span>{Customer.name}<span class="tag">&lt;/dd&gt;</span>
            <span class="tag">&lt;dt&gt;</span>Address<span class="tag">&lt;/dt&gt;</span>
            <span class="tag">&lt;dd&gt;</span>{Customer.address}<span class="tag">&lt;/dd&gt;</span>
        <span class="tag">&lt;/dl&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="news-snippets"><a class="anchor" href="#news-snippets"></a>3.3.3.9. news-snippets</h5>
<div class="paragraph">
<p>An arbitrary element.
Displays a news item.
Within the element, elements with the <code>data-bsi-property</code> attribute can be defined.
This attribute may have the following values: <code>image</code>, <code>title</code>, <code>headline</code>, or <code>text</code>.
The content of these elements is then replaced accordingly with the value of the selected news item.
In that context, elements from property <code>title</code>, <code>headline</code>, and <code>text</code> are mandatory.</p>
</div>
<div class="paragraph">
<p>If a link in CX is configured into a news snippet, <code>title</code> and <code>image</code> are automatically supplemented with a link.
When generating the news list, the following CSS classes are automatically set on a news snippet to permit better styling of the individual elements:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
news-nth-X
</td>
<td class="hdlist2">
<p>the position in the list. E.g., <code>news-nth-9</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
odd
</td>
<td class="hdlist2">
<p>odd position in the list</p>
</td>
</tr>
<tr>
<td class="hdlist1">
even
</td>
<td class="hdlist2">
<p>even position in the list</p>
</td>
</tr>
<tr>
<td class="hdlist1">
first
</td>
<td class="hdlist2">
<p>first news snippet</p>
</td>
</tr>
<tr>
<td class="hdlist1">
last
</td>
<td class="hdlist2">
<p>last news snippet</p>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 45. Example usage of the news-snippets part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element news</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">news-snippets</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">news-snippets</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">news-image element</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;img</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ns-image</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">placeholder.jpg</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-property</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">news-text element</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;h2</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ns-title</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-property</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Breaking News<span class="tag">&lt;/h2&gt;</span>
        <span class="tag">&lt;p</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ns-headline</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-property</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">headline</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Lorem ipsum dolor sit amet<span class="tag">&lt;/p&gt;</span>
        <span class="tag">&lt;p</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ns-text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-property</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Ea vis odio voluptua, pri ei facer denique.<span class="tag">&lt;/p&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="form"><a class="anchor" href="#form"></a>3.3.3.10. form</h5>
<div class="paragraph">
<p>A <code>&lt;form&gt;</code> element.
The element must contain a submit button and may also contain a reset button.
Those buttons must be <code>&lt;input&gt;</code> elements.
In the form configuration, the reset button can be hidden or displayed.
In that case, the DOM attribute <code>disabled</code> is set on the input element.</p>
</div>
<div class="paragraph">
<p>The form element must contain an element with the <code>data-bsi-form-validation</code> attribute, and this attribute must contain an element with the <code>data-bsi-form-validation-item</code> attribute.</p>
</div>
<div class="paragraph">
<p>Within the element with <code>data-bsi-form-validation</code>, the element with <code>data-bsi-form-validation-item</code> is duplicated for each error in the server-side form validation, and the validation message is inserted as the content of the validation item element.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Boolean attributes like <code>data-bsi-form-validation</code> require an empty value <code>=""</code> or sample value like <code>="true"</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In addition to the display in the above-described element, a <code>data-bsi-form-validation-message</code> attribute is set for each defective form field.
It contains the validation error for the respective field.
The attribute can be used to style the field with CSS if there is an error (CSS selector checks for the presence of the attribute) or to display the error message with CSS and/or JavaScript in the respective field.</p>
</div>
<div class="paragraph">
<p>The following form fields can be marked as mandatory fields in the content editor.
If this is done, the <code>required</code> attribute is set in the relevant HTML element.
Thus, the mandatory elements are styled using the respective CSS selectors.</p>
</div>
<div class="paragraph">
<p>To exclude a certain form from CX you set the <code>data-bsi-form-ignore</code> attribute on the form tag.
Any form with this marker will be left untouched by CX.</p>
</div>
<div class="listingblock">
<div class="title">Listing 46. Example usage of the form part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element form</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">slim-form</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;form</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form form-wrapper</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;ul</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-validation</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-form-validation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;li</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-validation-item</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-form-validation-item</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/li&gt;</span>
        <span class="tag">&lt;/ul&gt;</span>
        <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-content</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-dropzone</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-content</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-dropzone-allowed-elements</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-field</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;/div&gt;</span>
        <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-button-bar</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">submit</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-button send</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Senden</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
            <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">reset</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-button reset</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ZurÃ¼cksetzen</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;/form&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="sect5">
<h6 id="dynamic-forms-form-field-rules"><a class="anchor" href="#dynamic-forms-form-field-rules"></a>Dynamic Forms / Form-Field Rules</h6>
<div class="paragraph">
<p>As of release 26/1 CX supports dynamic forms.
The feature provides a Domainâ€‘Specific Language (DSL) in JSON, which is interpreted by the front-end and back-end.
The DSL allows defining form-field rules, which can manipulate the DOM state dynamically.
A simple example: a form-field rule defines that when a checkbox is clicked, a group of other fields (fieldset) becomes visible.</p>
</div>
<div class="paragraph">
<p>In order to support that feature in a CX design, the design must set the feature flag <code>formFieldRules</code> in the <code>design.json</code> (see <a href="#feature-toggle">Feature Toggle</a>).</p>
</div>
<div class="paragraph">
<p>The design must also include the NPM module <a href="https://www.npmjs.com/package/@bsi-cx/web-frontend">@bsi-cx/web-frontend</a> and initialise the library, e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">let module = window.bsiCxWebFrontend;
let fieldRules = <span class="keyword">new</span> module.FieldRules();
fieldRules.init();</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is recommended to add a content-element for 'fieldset', which uses the HTML element with the same name and provides a dropzone which accepts other form-fields.
The fieldset must have a configurable ID, which can be referenced by the form-field rules.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the dynamic forms feature is active, the attribute <code>data-bsi-json-document</code> is set on the <code>form</code> element.
It stores the DSL as (encoded) JSON.
A CX user can manage the form-field rules via GUI.
There&#8217;s a tab 'Form-field rules' in the form element part.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="form-field"><a class="anchor" href="#form-field"></a>3.3.3.11. form-field</h5>
<div class="paragraph">
<p>A <code>&lt;div&gt;</code> element.
Contains a <code>&lt;label&gt;</code> and an <code>&lt;input&gt;</code> element.
In the configuration, the label, initial value, mandatory field, and input type can be defined.
The following input types are supported:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
text
</td>
<td class="hdlist2">
<p>For a simple text field.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
email
</td>
<td class="hdlist2">
<p>Input field, that accepts a valid e-mail address.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
tel
</td>
<td class="hdlist2">
<p>Input field, that accepts a phone number.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
password
</td>
<td class="hdlist2">
<p>A password input field, that shows <code>*</code> instead of the real characters.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
number
</td>
<td class="hdlist2">
<p>An input field, that accepts only numbers.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
range
</td>
<td class="hdlist2">
<p>An input field, that shows a numeric range slider.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
date
</td>
<td class="hdlist2">
<p>An input field, that can be used to select a certain date.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
datetime-local
</td>
<td class="hdlist2">
<p>Input field, that accepts a date and a specific time.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
time
</td>
<td class="hdlist2">
<p>Input field, that accepts a time.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
file
</td>
<td class="hdlist2">
<p>Input field, that can be used to upload a file.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To fixate the form field type, the <code>data-bsi-form-field-fixed-type</code> attribute can be used on the element.
Doing so allows the setup of a customized date field, for example.
The type of the form field is then set and cannot be changed in the content editor.</p>
</div>
<div class="paragraph">
<p>The attribute <code>data-bsi-hide-required</code> controls whether the <em>mandatory</em> checkbox is visible and editable in the content editor. If the checkbox is not shown, the original state of the <code>required</code> attribute is preserved, as defined by the content element.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The attribute <code>data-bsi-hide-required</code> is available from CX 1.3.40 onward
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Be aware, that not all browsers support all types of input fields.
Some browsers require a polyfill to handle certain types of form fields.
It is up to the developer to use polyfills where this is required.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 47. Example usage of the form-field part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-field</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">date-field</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-field</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-form-field-fixed-type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;label</span> <span class="attribute-name">for</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">date</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Date<span class="tag">&lt;/label&gt;</span>
    <span class="tag">&lt;input</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">date</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">input</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">date</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2009-11-13</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">required</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Boolean attributes like <code>data-bsi-form-field-fixed-type</code> require an empty value <code>=""</code> or sample value like <code>="true"</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="form-checkbox"><a class="anchor" href="#form-checkbox"></a>3.3.3.12. form-checkbox</h5>
<div class="paragraph">
<p>A <code>&lt;div&gt;</code> element.
Contains a <code>&lt;label&gt;</code> and an <code>&lt;input&gt;</code> element with the <code>checkbox</code> type.</p>
</div>
<div class="paragraph">
<p>The attribute <code>data-bsi-hide-required</code> controls whether the <em>mandatory</em> checkbox is visible and editable in the content editor. If the checkbox is not shown, the original state of the <code>required</code> attribute is preserved, as defined by the content element.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The attribute <code>data-bsi-hide-required</code> is available from CX 1.3.40 onward
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 48. Example usage of the form-checkbox part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-checkbox</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-checkbox</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element checkbox</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">checkbox</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">checkbox1</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;label</span> <span class="attribute-name">for</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">checkbox1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Checkbox 1<span class="tag">&lt;/label&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="form-textarea"><a class="anchor" href="#form-textarea"></a>3.3.3.13. form-textarea</h5>
<div class="paragraph">
<p>A <code>&lt;div&gt;</code> element.
Contains a <code>&lt;label&gt;</code> and a <code>&lt;textarea&gt;</code> element.</p>
</div>
<div class="paragraph">
<p>The attribute <code>data-bsi-hide-required</code> controls whether the <em>mandatory</em> checkbox is visible and editable in the content editor. If the checkbox is not shown, the original state of the <code>required</code> attribute is preserved, as defined by the content element.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The attribute <code>data-bsi-hide-required</code> is available from CX 1.3.40 onward
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 49. Example usage of the form-textarea part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-textarea</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-textarea</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-field form-element</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;label</span> <span class="attribute-name">for</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">textarea</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Description<span class="tag">&lt;/label&gt;</span>
    <span class="tag">&lt;textarea</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">textarea</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">rows</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">5</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">cols</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">20</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">textarea</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">maxlength</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">500</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Lorem ipsum<span class="tag">&lt;/textarea&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="form-select"><a class="anchor" href="#form-select"></a>3.3.3.14. form-select</h5>
<div class="paragraph">
<p>A <code>&lt;div&gt;</code> element.
Contains a <code>&lt;label&gt;</code> and a <code>&lt;select&gt;</code> element with the elements option.
The pre-allocation of the element can be controlled with the <code>data-bsi-value</code> and <code>data-bsi-value-list</code> attributes.
The <code>data-bsi-value</code> attribute contains the preal-location, and the values available for selection are defined in the <code>data-bsi-value-list</code> attribute.
A line break (<code>\n</code> or <code>\r\n</code>) separates each of those.</p>
</div>
<div class="paragraph">
<p>To fixate the values that are available for selection, the <code>data-bsi-form-select-fixed-value-list</code> attribute can be set on the element.
Then, the list of values cannot be changed in the content editor.
Only the preselection can be changed.</p>
</div>
<div class="paragraph">
<p>The attribute <code>data-bsi-hide-required</code> controls whether the <em>mandatory</em> checkbox is visible and editable in the content editor. If the checkbox is not shown, the original state of the <code>required</code> attribute is preserved, as defined by the content element.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The attribute <code>data-bsi-hide-required</code> is available from CX 1.3.40 onward
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The <code>multiple</code> attribute is not supported.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 50. Example usage of the form-select part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-select</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-select</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-select form-element</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-value-list</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Yes</span>
<span class="content">No</span>
<span class="content">Unsure</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">No</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;label</span> <span class="attribute-name">for</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">select</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Decision<span class="tag">&lt;/label&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">select-wrapper</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;select</span> <span class="attribute-name">size</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">select</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;option&gt;</span>Yes<span class="tag">&lt;/option&gt;</span>
            <span class="tag">&lt;option</span> <span class="attribute-name">selected</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>No<span class="tag">&lt;/option&gt;</span>
            <span class="tag">&lt;option&gt;</span>Unsure<span class="tag">&lt;/option&gt;</span>
        <span class="tag">&lt;/select&gt;</span>
        <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dropdown</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">presentation</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>a<span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="form-radio"><a class="anchor" href="#form-radio"></a>3.3.3.15. form-radio</h5>
<div class="paragraph">
<p>A <code>&lt;div&gt;</code> element.
Contains a <code>&lt;label&gt;</code> and a <code>&lt;div&gt;</code> element as a radio group.
The radio group is marked with the <code>data-bsi-radio-group</code> attribute.
The radio group contains radio items.
These are identified with the <code>data-bsi-radio-item</code> attribute and contain a <code>&lt;label&gt;</code> and an <code>&lt;input&gt;</code> element with the radio type.
The preselection of this element can be controlled with the <code>data-bsi-value</code> and <code>data-bsi-value-list</code> attributes.
Same as the <a href="#form-select">form-select</a> part.
The same applies to the <code>data-bsi-form-select-fixed-value-list</code> attribute.</p>
</div>
<div class="paragraph">
<p>The attribute <code>data-bsi-hide-required</code> controls whether the <em>mandatory</em> checkbox is visible and editable in the content editor. If the checkbox is not shown, the original state of the <code>required</code> attribute is preserved, as defined by the content element.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The attribute <code>data-bsi-hide-required</code> is available from CX 1.3.40 onward
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 51. Example usage of the form-radio part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-radio</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-radio</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-radio form-element</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;label</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>To be or not to be?<span class="tag">&lt;/label&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-radio-group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-radio-item</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-radio-item</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
            <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">radio</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">radio1</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
            <span class="tag">&lt;label</span> <span class="attribute-name">for</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">radio1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Radio-Button 1<span class="tag">&lt;/label&gt;</span>
        <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>data-bsi-radio-group</code> element contains the prototype element.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>data-bsi-radio-item</code> element is the prototype element.</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Be aware, that <code>data-bsi-radio-item</code> must be right inside <code>data-bsi-radio-group</code>.
Any intermediate element will be removed.
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Boolean attributes like <code>data-bsi-radio-item</code> require an empty value <code>=""</code> or sample value like <code>="true"</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="sec-link-part"><a class="anchor" href="#sec-link-part"></a>3.3.3.16. link</h5>
<div class="paragraph">
<p>The part is defined on the <code>&lt;a&gt;</code> element.
As an option, the link content can be set with the <code>data-bsi-link-fixed-inner-html</code> attribute.
If this attribute is present, only the <code>href</code> attribute of the link can be edited in the content editor.
If the link text is to be placed in a tag within the hyperlink (e.g. in a span next to an <code>&lt;img&gt;</code> tag), the optional <code>data-bsi-link-text-part</code> attribute can be set on the tag.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Boolean attributes like <code>data-bsi-link-fixed-inner-html</code> could require an empty value <code>=""</code> or sample value like <code>="true"</code>.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 52. Example usage of the link part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">cta</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element cta</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.bsi-software.com/</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">link</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>More<span class="tag">&lt;/a&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 53. Example usage of the link part with <code>data-bsi-link-fixed-inner-html</code>.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">cta</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element cta</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">[dynamic_link]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">link</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-link-fixed-inner-html</span><span class="tag">&gt;</span>
        <span class="tag">&lt;span&gt;</span>
            <span class="tag">&lt;p&gt;</span> Some static content <span class="tag">&lt;/p&gt;</span>
            <span class="tag">&lt;p</span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">formatted-text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> Add your text here! <span class="tag">&lt;/p&gt;</span>
        <span class="tag">&lt;/span&gt;</span>
    <span class="tag">&lt;/a&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 54. Example usage of the link part with <code>data-bsi-link-text-part</code>.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">cta</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;a</span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">link</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">button</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;i</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">icon icon-028-arrow-back</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/i&gt;</span>
        <span class="tag">&lt;span</span> <span class="attribute-name">data-bsi-link-text-part</span><span class="tag">&gt;</span>The link text is <span class="tag">&lt;/span&gt;</span>
    <span class="tag">&lt;/a&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="social-follow"><a class="anchor" href="#social-follow"></a>3.3.3.17. social-follow</h5>
<div class="paragraph">
<p>A <code>&lt;div&gt;</code> element, contains <code>&lt;div&gt;</code> elements with a <code>data-bsi-social-follow</code> attribute.
These attributes contain the value of the respective social media service, such as "Facebook", "Twitter", "Pinterest", etc.</p>
</div>
<div class="paragraph">
<p>The elements with <code>data-bsi-social-follow</code> must have the <code>social-media-item</code> class.
This class is used to manage the visibility of each individual social media channel in the editor.</p>
</div>
<div class="paragraph">
<p>The elements with <code>data-bsi-social-follow</code> must also contain an <code>&lt;a&gt;</code> element.
The link <code>href</code> can be preselected with a URL or with CX links in square brackets (e.g., [Facebook]).</p>
</div>
<div class="paragraph">
<p>The <code>&lt;a&gt;</code> element, in turn, can contain additional elements.</p>
</div>
<div class="listingblock">
<div class="title">Listing 55. Example usage of the social-follow part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">social-follow</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">social-follow</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-social-follow</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">social-media-item</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.facebook.com/</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">facebook.png</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;/a&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-social-follow</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Twitter</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">social-media-item</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.twitter.com/</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">twitter.png</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Twitter</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;/a&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="social-share"><a class="anchor" href="#social-share"></a>3.3.3.18. social-share</h5>
<div class="paragraph">
<p>A <code>&lt;div&gt;</code> element, contains <code>&lt;div&gt;</code> elements with <code>data-bsi-social-share</code>.
These attributes contain the value of the respective social media service, such as Facebook, Twitter, Pinterest, or even e-mail.</p>
</div>
<div class="paragraph">
<p>The elements with <code>data-bsi-social-share</code> must have the <code>social-media-item</code> class.
This class is used to control the visibility of each individual social media channel in the editor.</p>
</div>
<div class="paragraph">
<p>The elements with <code>data-bsi-social-share</code> must also contain an <code>&lt;a&gt;</code> element.
The link <code>href</code> can be preselected with a URL or with Studio links in square brackets (e.g., <code>[Facebook]</code>).</p>
</div>
<div class="paragraph">
<p>To share it via e-mail, the content of the <code>href</code> is then a <code>mailto:?subject=(subject.with.title)&amp;body=(description.with.url)</code></p>
</div>
<div class="paragraph">
<p>The <code>&lt;a&gt;</code> element, in turn, can contain additional elements.</p>
</div>
<div class="paragraph">
<p>The URL supports a list of wildcards that are specific to the social share part.
When they are issued, all wildcards are automatically URL-encoded.
These wildcards cannot be selected in the step configuration in Studio.
The following wildcards exist:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
url
</td>
<td class="hdlist2">
<p>The URL/internet address of the current Studio webpage or the user-defined URL.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
description
</td>
<td class="hdlist2">
<p>The description text of the current Studio webpage or the user-defined description text (a maximum of 300 characters).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
description.short
</td>
<td class="hdlist2">
<p>Same as description, but a maximum of 140 characters; all additional characters are truncated.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
description.with.url
</td>
<td class="hdlist2">
<p>Same as description; in addition, the url is added to the end of the description text.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
title
</td>
<td class="hdlist2">
<p>The title of the current Studio webpage or the user-defined title (a maximum of 100 characters).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
title.with.url
</td>
<td class="hdlist2">
<p>Same as title, and, in addition, the url is added to the end of the description text.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
subject.with.title
</td>
<td class="hdlist2">
<p>Same as title, and, in addition, a text "Share web-site:" is added to the beginning of the title; is used as the subject in an e-mail.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
preview.image.url
</td>
<td class="hdlist2">
<p>The URL/internet address for the preview image of the webpage according to the configuration in the content editor.</p>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">social-share</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">social-share</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">social-media-info</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Share this page<span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-social-share</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">E-Mail</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">sm-email social-media-item share</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">mailto:?subject=(subject.with.title)</span><span class="content">&amp;</span><span class="content">body=(description.with.url)</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/a&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-social-share</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">sm-facebook social-media-item share</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.facebook.com/sharer/sharer.php?u=(url)</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">target</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">_blank</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/a&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-social-share</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">LinkedIn</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">sm-linkedin social-media-item share</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.linkedin.com/shareArticle?mini=true</span><span class="content">&amp;</span><span class="content">url=(url)</span><span class="content">&amp;</span><span class="content">summary=(title)</span><span class="content">&amp;</span><span class="content">source=FancyUnicorns</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">target</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">_blank</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/a&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-social-share</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Pinterest</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">sm-pinterest social-media-item share</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://pinterest.com/pin/create/button/?url=(url)</span><span class="content">&amp;</span><span class="content">description=(title)</span><span class="content">&amp;</span><span class="content">media=(preview.image.url)</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">target</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">_blank</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/a&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-social-share</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Twitter</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">sm-twitter social-media-item share</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://twitter.com/intent/tweet?url=(url)</span><span class="content">&amp;</span><span class="content">text=(description.short)</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">target</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">_blank</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/a&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-social-share</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">WhatsApp</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">sm-whatsapp social-media-item share</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">whatsapp://send?text=(title.with.url)</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">target</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">_blank</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/a&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-social-share</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Xing</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">sm-xing social-media-item share</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.xing.com/spi/shares/new?url=(url)</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">target</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">_blank</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/a&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="url-provider"><a class="anchor" href="#url-provider"></a>3.3.3.19. url-provider</h5>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
CX 22.0
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The URL provider content element part can be used to load dynamic data inside a story.
Inside the content editor, the URL provider part only offers a text field to define its name.
When using the content inside your story, each URL provider part will produce a separate outlet.
This outlets can be connected to any URL provider (e.g. the <em>Charts</em> Step).</p>
</div>
<div class="listingblock">
<div class="title">Listing 56. Example usage of the URL provider part.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">pie-chart</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">url-provider</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">mb-4 chart-js</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">./pie-chart-placeholder.png</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">w-100</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When a story renders the content, the HTML tag with the <code>url-provider</code> part will have a <code>data-bsi-url</code> attribute.
This attribute will contain an absolute URL to the CX server, where the data can be requested.</p>
</div>
<div class="sect5">
<h6 id="using-the-chart-url-provider"><a class="anchor" href="#using-the-chart-url-provider"></a>Using the Chart URL Provider</h6>
<div class="paragraph">
<p>We created a small Java Script library to use the chart URL provider in a template.
Take a look at the repository on <a href="https://github.com/bsi-software/bsi-cx-chart/tree/releases/22.0">GitHub</a> for more information.
To integrate the library, install it with NPM:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="shell script">npm install --save github:bsi-software/bsi-cx-chart#semver:^1.1.2</code></pre>
</div>
</div>
<div class="paragraph">
<p>You also must install a chart library of your choice, currently there are only bindings for <a href="https://www.chartjs.org/">Chart.js</a>.
You can install it using npm:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="shell script">npm install --save chart.js</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, create your content element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">pie-chart</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">url-provider</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">chart-js</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">./pie-chart-placeholder.png</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">w-100</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This will be replaced when the library is initialized, and the data from the URL provider is available.
So it&#8217;s recommended to put some placeholders here.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To use the library, you must initialize it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="reserved">import</span> <span class="string"><span class="delimiter">'</span><span class="content">chart.js/auto</span><span class="delimiter">'</span></span>; <i class="conum" data-value="1"></i><b>(1)</b>

<span class="reserved">import</span> {ChartConfig, ChartUrlProvider} from <span class="string"><span class="delimiter">'</span><span class="content">@bsi-cx/chart</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> ChartConfigColor from <span class="string"><span class="delimiter">'</span><span class="content">@bsi-cx/chart/src/config/color</span><span class="delimiter">'</span></span>;

<span class="comment">/**
 * @type {{border: ChartConfigColor, background: ChartConfigColor}[]}
 */</span>
const colors = [
  ChartConfigColor.of(<span class="string"><span class="delimiter">'</span><span class="content">#ff6384ff</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">#ff638466</span><span class="delimiter">'</span></span>),
  ChartConfigColor.of(<span class="string"><span class="delimiter">'</span><span class="content">#36a2ebff</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">#36a2eb66</span><span class="delimiter">'</span></span>),
  ChartConfigColor.of(<span class="string"><span class="delimiter">'</span><span class="content">#cc65feff</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">#cc65fe66</span><span class="delimiter">'</span></span>),
  ChartConfigColor.of(<span class="string"><span class="delimiter">'</span><span class="content">#ffce56ff</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">#ffce5666</span><span class="delimiter">'</span></span>)
]; <i class="conum" data-value="2"></i><b>(2)</b>

const config = <span class="keyword">new</span> ChartConfig()
  .withColors(...colors);

document.querySelectorAll(<span class="string"><span class="delimiter">'</span><span class="content">.chart-js</span><span class="delimiter">'</span></span>) <i class="conum" data-value="3"></i><b>(3)</b>
  .map(element =&gt; <span class="keyword">new</span> ChartUrlProvider(element, config))
  .forEach(chart =&gt; chart.render());</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Initialize the Chart.js library.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Optional, can be used to define your own set of colors.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Select all URL provider parts you want to initialize with the <code>ChartUrlProvider</code>.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="template-parts"><a class="anchor" href="#template-parts"></a>3.3.4. Template Parts</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
CX 25.1
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is also possible to build content elements based on the Handlebars templating engine. For design developers this means that they have the choice of either building content elements using the HTML <em>Element Parts</em> described in the last chapter, or the new Handlebars <em>Template Parts</em>.
Crucially it is not allowed to mix both in one content element.</p>
</div>
<div class="paragraph">
<p><em>Template Parts</em> work in quite a different way from <em>Element Parts</em>: All they do is supply a part of the content element editor, as the name suggests.
Each <em>Template Part</em> has a defined set of variables that it provides to render the content elements Handlebars template.
A full example might look something like this:</p>
</div>
<div class="listingblock">
<div class="title">Listing 57. The content element as defined in <code>design.json</code>.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">elementId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">medium-quote-hbs</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">template-element</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">content-elements/content/medium-quote-hbs.hbs</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">contextFile</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">content-elements/content/medium-quote-hbs.json</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">icon</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">heading</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Medium Quote</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">templateParts</span><span class="delimiter">&quot;</span></span>: [
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">partId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">multiline-plain-text</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">partContextId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Text</span><span class="delimiter">&quot;</span></span>
    },
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">partId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">checkbox</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">partContextId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">italic</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Text Kursiv anzeigen</span><span class="delimiter">&quot;</span></span>
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The content element consists of two <em>Template Parts</em>, crucially they have to be explicitly mentioned in the <code>design.json</code>, since - as opposed to the <em>Element Parts</em> they do not have an explicit declaration in the HTML DOM.
The first <em>Template Part</em> lets the user define a multiline text without any markup, the second exposes a boolean value, that in this example is used to set the text to italic, if the user checks the checkbox.
This results in the following content element editor:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/medium-quote-content-element-editor.png" alt="The combined Template Parts build the complete content element editor.">
</div>
<div class="title">Figure 8. The combined Template Parts build the complete content element editor.</div>
</div>
<div class="paragraph">
<p>The handlebars template and the default values are as follows:</p>
</div>
<div class="listingblock">
<div class="title">Listing 58. Handlebars template of the content element.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">content-element-wrap</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">medium-quote-hbs</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">paragraph-light</span><span class="delimiter">&quot;</span></span> <span class="error">{</span><span class="error">{</span><span class="error">#</span><span class="attribute-name">if</span> <span class="attribute-name">italic.value</span><span class="error">}</span><span class="error">}</span><span class="attribute-name">style</span>=<span class="string"><span class="delimiter">&quot;</span><span class="key">font-style</span>: <span class="value">italic</span><span class="delimiter">&quot;</span></span><span class="error">{</span><span class="error">{</span><span class="error">/</span><span class="attribute-name">if</span><span class="error">}</span><span class="error">}</span><span class="tag">&gt;</span>{{text.value}}<span class="tag">&lt;/div&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 59. The corresponding default context variables, supplied in the context file.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span>: { <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</span><span class="delimiter">&quot;</span></span> <i class="conum" data-value="2"></i><b>(2)</b>
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">italic</span><span class="delimiter">&quot;</span></span>: { <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span> <i class="conum" data-value="2"></i><b>(2)</b>
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>partContextId</code> defines the name of the instance of the <em>Template Part</em> since there can be more than one of the same type.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Each <em>Template Part</em> supplies an object containing specified context variables that can be used to render the template.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The variable name is prefixed with the <code>partContextId</code> when it is referred to in the Handlebars template.</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="plain-text-2"><a class="anchor" href="#plain-text-2"></a>3.3.4.1. plain-text</h5>
<div class="paragraph">
<p>This template part supplies a text input field, into which the user can input a single line of plain text.</p>
</div>
<div class="sect5">
<h6 id="editor"><a class="anchor" href="#editor"></a>Editor</h6>
<div class="imageblock">
<div class="content">
<img src="./images/plain-text-template-part-editor.png" alt="Template part user interface.">
</div>
<div class="title">Figure 9. Template part user interface.</div>
</div>
</div>
<div class="sect5">
<h6 id="variables"><a class="anchor" href="#variables"></a>Variables</h6>
<div class="ulist">
<ul>
<li>
<p><strong>value</strong>: The text value from the editor.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="configuration-2"><a class="anchor" href="#configuration-2"></a>Configuration</h6>
<div class="ulist">
<ul>
<li>
<p><strong>studioLinkEnabled</strong>: This boolean value controls whether the 'CX Link' button is visible.
Default is <code>false</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="multiline-plain-text"><a class="anchor" href="#multiline-plain-text"></a>3.3.4.2. multiline-plain-text</h5>
<div class="paragraph">
<p>This template part supplies a single multiline input field, into which the user can input plain text.</p>
</div>
<div class="sect5">
<h6 id="editor-2"><a class="anchor" href="#editor-2"></a>Editor</h6>
<div class="imageblock">
<div class="content">
<img src="./images/multiline-plain-text-template-part-editor.png" alt="Template part user interface.">
</div>
<div class="title">Figure 10. Template part user interface.</div>
</div>
</div>
<div class="sect5">
<h6 id="variables-2"><a class="anchor" href="#variables-2"></a>Variables</h6>
<div class="ulist">
<ul>
<li>
<p><strong>value</strong>: The text value from the editor.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="configuration-3"><a class="anchor" href="#configuration-3"></a>Configuration</h6>
<div class="ulist">
<ul>
<li>
<p><strong>studioLinkEnabled</strong>: This boolean value controls whether the 'CX Link' button is visible.
Default is <code>false</code>.</p>
</li>
<li>
<p><strong>fieldHeight</strong>: This integer value controls the field height in the form of the content editor.
Default is <code>5</code>. The unit is <em>Eclipse Scout</em> grid height (Property 'h' in GridData).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="formatted-text-2"><a class="anchor" href="#formatted-text-2"></a>3.3.4.3. formatted-text</h5>
<div class="paragraph">
<p>This template part closely mirrors the corresponding <code>formatted-text</code> element part.
It provides a configurable HTML WYSIWYG editor.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Since this part provides a variable with HTML code, you should use the 'triple-stash' syntax of Handlebars to output the variable: <code>{{{textPart.html}}}</code>.
Otherwise the HTML code would be escaped when the template is being rendered.
</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="editor-3"><a class="anchor" href="#editor-3"></a>Editor</h6>
<div class="imageblock">
<div class="content">
<img src="./images/formatted-text-template-part-editor.png" alt="Template part user interface.">
</div>
<div class="title">Figure 11. Template part user interface.</div>
</div>
<div class="paragraph">
<p>As with the corresponding element part, the toolbar of the editor can be configured using a <code>htmlEditorConfig</code>.
The picture shows the current default editor.</p>
</div>
</div>
<div class="sect5">
<h6 id="variables-3"><a class="anchor" href="#variables-3"></a>Variables</h6>
<div class="ulist">
<ul>
<li>
<p><strong>html</strong>: HTML code generated by the WYSIWYG editor</p>
</li>
<li>
<p><strong>languageTag</strong>: Language tag as a string, that can be used with the <code>lang</code> HTML attribute to hint the language to e.g. screen readers</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="configuration-4"><a class="anchor" href="#configuration-4"></a>Configuration</h6>
<div class="paragraph">
<p>The template part allows the HTML editor to be configured.
The structure is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>htmlEditorConfigId</strong>: The ID of the editor configuration from the <code>design.json</code> that should be applied to this template part.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="link"><a class="anchor" href="#link"></a>3.3.4.4. link</h5>
<div class="paragraph">
<p>An template part that provides URL and accessibility information for a link.</p>
</div>
<div class="sect5">
<h6 id="editor-4"><a class="anchor" href="#editor-4"></a>Editor</h6>
<div class="imageblock">
<div class="content">
<img src="./images/link-template-part-editor.png" alt="Template part user interface.">
</div>
<div class="title">Figure 12. Template part user interface.</div>
</div>
</div>
<div class="sect5">
<h6 id="variables-4"><a class="anchor" href="#variables-4"></a>Variables</h6>
<div class="ulist">
<ul>
<li>
<p><strong>url</strong>: The URL for the link.</p>
</li>
<li>
<p><strong>text</strong>: The link text.</p>
</li>
<li>
<p><strong>description</strong>: Accessibility information that describes the link for screen readers. This can be added to the <code>aria-label</code> attribute.</p>
</li>
<li>
<p><strong>openInNewWindow</strong>: Boolean value to describe where the link should be opened, can be used in conjunction with <code>target="_blank"</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="configuration-5"><a class="anchor" href="#configuration-5"></a>Configuration</h6>
<div class="ulist">
<ul>
<li>
<p><strong>textEnabled</strong>: This boolean value controls whether the text field is visible.
Default is <code>true</code>.</p>
</li>
<li>
<p><strong>descriptionEnabled</strong>: This boolean value controls whether the description field is visible.
Default is <code>true</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="image-2"><a class="anchor" href="#image-2"></a>3.3.4.5. image</h5>
<div class="paragraph">
<p>The image template part supplies all values needed to render an image in the content, including accessibility information.</p>
</div>
<div class="sect5">
<h6 id="editor-5"><a class="anchor" href="#editor-5"></a>Editor</h6>
<div class="imageblock">
<div class="content">
<img src="./images/image-template-part-editor.png" alt="Template part user interface.">
</div>
<div class="title">Figure 13. Template part user interface.</div>
</div>
<div class="paragraph">
<p>The screenshot shows two possible configurations of the image template part editor:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">above</dt>
<dd>
<p>Alternative text is set to mandatory, the additional accessibility fields are visible.</p>
</dd>
<dt class="hdlist1">below</dt>
<dd>
<p>Alternative text is not mandatory and all accessibility fields are invisible.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The second configuration should only be used in very specific circumstances, e.g. multiple sources in a HTML <code>&lt;picture&gt;</code> tag.</p>
</div>
</div>
<div class="sect5">
<h6 id="variables-5"><a class="anchor" href="#variables-5"></a>Variables</h6>
<div class="ulist">
<ul>
<li>
<p><strong>altText</strong>: Accessibility-feature, alternative text that is also shown if the browser cannot show the picture.</p>
</li>
<li>
<p><strong>srcUrl</strong>: The URL that points to the selected image.</p>
</li>
<li>
<p><strong>placeholderSrcUrl</strong>: The URL pointing to a placeholder image (used for the content editor).</p>
</li>
<li>
<p><strong>srcset</strong>: Srcset-String. Only relevant if sizes have been defined in the design.</p>
</li>
<li>
<p><strong>decorative</strong>: Boolean value that can be used to set the accessibility option <code>aria-hidden="true"</code>, which results in screenreaders ignoring the image entirely.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="configuration-6"><a class="anchor" href="#configuration-6"></a>Configuration</h6>
<div class="paragraph">
<p>The template part can be configured with the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>altTextMandatory</strong>: Makes the alternative text field in the UI mandatory.</p>
</li>
<li>
<p><strong>srcsetSizes</strong>: List of size definitions, as used in the <code>srcset</code> HTML attribute, see example below.</p>
</li>
<li>
<p><strong>hideAccessibilityFields</strong>: Hides all accessibility fields in the editor UI.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">config</span><span class="delimiter">&quot;</span></span>: {
  <span class="key"><span class="delimiter">&quot;</span><span class="content">hideAccessibilityFields</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">altTextMandatory</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">srcsetSizes</span><span class="delimiter">&quot;</span></span>: [
    <span class="string"><span class="delimiter">&quot;</span><span class="content">400w</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">800w</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">1200w</span><span class="delimiter">&quot;</span></span>
  ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="checkbox"><a class="anchor" href="#checkbox"></a>3.3.4.6. checkbox</h5>
<div class="paragraph">
<p>The checkbox template part is mainly used for control-structures in the Handlebars-template.
It supplies a simple checkbox element and a boolean value that can be used e.g. for <code>{{#if}}</code>-blocks within the content element.</p>
</div>
<div class="sect5">
<h6 id="editor-6"><a class="anchor" href="#editor-6"></a>Editor</h6>
<div class="imageblock">
<div class="content">
<img src="./images/checkbox-template-part-editor.png" alt="Template part user interface.">
</div>
<div class="title">Figure 14. Template part user interface.</div>
</div>
</div>
<div class="sect5">
<h6 id="variables-6"><a class="anchor" href="#variables-6"></a>Variables</h6>
<div class="ulist">
<ul>
<li>
<p><strong>value</strong>: Boolean value representing the state of the checkbox. Cannot be empty.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="configuration-7"><a class="anchor" href="#configuration-7"></a>Configuration</h6>
<div class="paragraph">
<p>This template part provides no configuration options.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="option"><a class="anchor" href="#option"></a>3.3.4.7. option</h5>
<div class="paragraph">
<p>The option template part is mainly used for control-structures in the Handlebars-template.
It allows to define a list of key/value options in the design and provides the key of the option selected by the user in the content editor.</p>
</div>
<div class="paragraph">
<p>Since the <code>{{#if}}</code> blocks in Handlebars do not support logical expressions, the variable from the option part is usually used with the <em>Handlebars helpers</em> <code>eq</code> and <code>neq</code>. For example such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html">{{#eq imageCaptionOption.option &quot;yes&quot;}}
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">paragraph-light news-image-description</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{image.altText}}<span class="tag">&lt;/div&gt;</span>
{{/eq}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The negation works analogous, just using <code>{{#neq a b}}</code> instead of the <code>{{#eq a b}}</code> shown in the example above.</p>
</div>
<div class="sect5">
<h6 id="editor-7"><a class="anchor" href="#editor-7"></a>Editor</h6>
<div class="imageblock">
<div class="content">
<img src="./images/option-template-part-editor.png" alt="Template part user interface.">
</div>
<div class="title">Figure 15. Template part user interface.</div>
</div>
</div>
<div class="sect5">
<h6 id="variables-7"><a class="anchor" href="#variables-7"></a>Variables</h6>
<div class="ulist">
<ul>
<li>
<p><strong>value</strong>: The string-value of the selected option.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="configuration-8"><a class="anchor" href="#configuration-8"></a>Configuration</h6>
<div class="paragraph">
<p>The option template part needs one or more configured options that each consists of a value and a text that is displayed to the user in the editor user interface. In the Handlebars template, the value of the selected option is applied to the 'value' variable.</p>
</div>
<div class="paragraph">
<p>The template part configuration is structured as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>options</strong>: List of options consisting of:</p>
<div class="ulist">
<ul>
<li>
<p><strong>text</strong>: Display text shown to the user in the content element editor</p>
</li>
<li>
<p><strong>value</strong>: The value that is exposed in the variable context of the template part</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">config</span><span class="delimiter">&quot;</span></span>: {
  <span class="key"><span class="delimiter">&quot;</span><span class="content">options</span><span class="delimiter">&quot;</span></span>: [
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Ja</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">yes</span><span class="delimiter">&quot;</span></span>
    },
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Nein</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">no</span><span class="delimiter">&quot;</span></span>
    }
  ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="dynamic-value-list"><a class="anchor" href="#dynamic-value-list"></a>3.3.4.8. dynamic-value-list</h5>
<div class="paragraph">
<p>This Handlebars template part offers functionality for the integration of BSI Suite value lists into any HTML form, providing REST endpoints for the purpose of retrieving values from such lists.</p>
</div>
<div class="sect5">
<h6 id="editor-8"><a class="anchor" href="#editor-8"></a>Editor</h6>
<div class="imageblock">
<div class="content">
<img src="./images/dynamic-value-list-template-part.png" alt="Template part user interface.">
</div>
<div class="title">Figure 16. Template part user interface.</div>
</div>
</div>
<div class="sect5">
<h6 id="variables-8"><a class="anchor" href="#variables-8"></a>Variables</h6>
<div class="ulist">
<ul>
<li>
<p><strong>Value list</strong>: A reference to a BSI Suite value list.
Mandatory.</p>
</li>
<li>
<p><strong>Initial value</strong>: Optional initial value for the HTML form field.
Only values belonging to the referenced <strong>Value list</strong> are available.
Only editable if <strong>Value list</strong> is set.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is also possible to define an initial value within the configuration of a story, which supersedes the initial value of the content.
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="backend-processing-and-html-rendering"><a class="anchor" href="#backend-processing-and-html-rendering"></a>Backend processing and HTML rendering</h6>
<div class="paragraph">
<p>The BSI backend processes dynamic value lists in the following manner:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The BSI Suite value list is defined in the content using the content editor, and this value is stored in the CX database.</p>
</li>
<li>
<p>During the rendering of the HTML, the ID of the value list is utilized to create a REST endpoint, and the URL of this endpoint is transmitted to and made available in the client&#8217;s DOM.</p>
</li>
<li>
<p>The endpoint is invoked by the client to retrieve all values of the value list.</p>
</li>
<li>
<p>The values are processed and transmitted to the CX backend upon form submission, and these values can be utilized in CX stories for further processing.
The values automatically possess the correct BSI data model type.</p>
</li>
</ol>
</div>
</div>
<div class="sect5">
<h6 id="involved-bsi-html-attributes"><a class="anchor" href="#involved-bsi-html-attributes"></a>Involved BSI HTML Attributes</h6>
<div class="ulist">
<ul>
<li>
<p><strong>data-bsi-entity-id</strong>: Holds a BSI datamodel entity ID (i.e., an ID referencing the BSI Suite value list).
Only used at configuration time, not sent to clients.</p>
</li>
<li>
<p><strong>data-bsi-entity-key-value</strong>: Holds an entity key belonging to the element&#8217;s <strong>data-bsi-entity-id</strong>.
This value is used to set the form field&#8217;s initial value.
Only used at configuration time, not sent to clients.
The value of this attribute is symmetrically encrypted and set into the HTML element&#8217;s <em>value</em> attribute before the HTML is sent to any clients.</p>
</li>
<li>
<p><strong>data-bsi-entity-key-display-text</strong>: Human readable label of the key stored in <strong>data-bsi-entity-key-value</strong>.
This attribute is preserved and sent to clients.</p>
</li>
<li>
<p><strong>data-bsi-rest-resource</strong>: Target endpoint to lookup values belonging to the element&#8217;s <strong>data-bsi-entity-id</strong>.
This attribute is preserved and sent to clients.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="design-integration"><a class="anchor" href="#design-integration"></a>Design integration</h6>
<div class="paragraph">
<p>The integration process consists of two stages.
Firstly, the BSI data model entity IDs and keys are set in the content during configuration time.
Secondly, these values are retrieved when the HTML form is opened via REST during runtime.</p>
</div>
<div class="sect6">
<h7 id="configuration-time"><a class="anchor" href="#configuration-time"></a>Configuration time</h7>
<div class="paragraph">
<p>The Handlebars template part&#8217;s editor persists the following context variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>dataModelValue</strong>: A nested JSON holding the BSI datamodel type and (if set) initial value key.</p>
</li>
<li>
<p><strong>displayText</strong>: The initial value key&#8217;s human-readable label.
May be empty.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Listing 60. The element&#8217;s context structure.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">dataModelValue</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">entity:1234</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">entity:1234:key:9876</span><span class="delimiter">&quot;</span></span>
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">displayText</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">I belong to key 9876</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To correctly encrypt and map BSI datamodel values, the CX backend expects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The HTML element tagged with <em>dynamic-value-list</em> also has to reference and set the BSI HTML attribute <em>data-bsi-entity-id</em>.
<em>data-bsi-entity-id</em> is used to create the URL for the lookup-call.</p>
</li>
<li>
<p>The HTML input on the form has to reference the BSI HTML attribute <em>data-bsi-entity-key-value</em>.
This enables default values.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Listing 61. The element&#8217;s BSI HTML attributes at configuration time.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dynamic-value-list</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-entity-id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{context.dataModelValue.type}}</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>
    <span class="tag">&lt;input</span>
      <span class="attribute-name">data-bsi-entity-key-value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{context.dataModelValue.value}}</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">data-bsi-entity-key-display-text</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{context.displayText}}</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect6">
<h7 id="runtime"><a class="anchor" href="#runtime"></a>Runtime</h7>
<div class="paragraph">
<p>It is the frontend code&#8217;s responsibility to retrieve and display a value list&#8217;s values.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The element tagged with <em>dynamic-value-list</em> contains a REST endpoint to retrieve the values of the value list.
It is exposed via the BSI HTML attribute <strong>data-bsi-rest-resource</strong>.
The REST call uses the <em>GET</em> method and returns a JSON containing one attribute called <em>options</em>.
This attribute holds a list of <em>id</em>-<em>text</em> pairs.
The <em>id</em> is always encrypted.</p>
</li>
<li>
<p>Ensure that the correct encrypted <em>id</em> is sent to the CX backend on a form submit.</p>
</li>
<li>
<p>The element marked with the tag "<em>dynamic-value-list</em>" contains a REST endpoint for retrieving the values of the value list, which is exposed via the BSI HTML attribute "data-bsi-rest-resource".
The REST call utilizes the GET method and returns a JSON object containing a single attribute named "options", which holds a list of id-text pairs.
The id is always encrypted.</p>
</li>
<li>
<p>It is essential to ensure that the correct encrypted id is transmitted to the CX backend upon form submission.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Listing 62. An example HTML element sent to a customer opening a CX landing page.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-rest-resource</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://your-client.bsi/inbound/default/r/bsi-code-rest-resource?entityId=WcaYlNlwe6VnI72</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>
    <span class="tag">&lt;input</span>
      <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">kOi4pUb17YbVcvVlaU9-kiQW993</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">data-bsi-entity-key-display-text</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">I belong to the encrypted key kOi4pUb17YbVcvVlaU9-kiQW993</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 63. An example response when calling the URL provided via <strong>data-bsi-rest-resource</strong>.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">options</span><span class="delimiter">&quot;</span></span>: [
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">kOi4pUb17YbVcvVlaU9-kiQW993</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">label 1</span><span class="delimiter">&quot;</span></span>
    },
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">mRt7xQe42NcBzxTpoL3-zvER581</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">label 2</span><span class="delimiter">&quot;</span></span>
    },
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">fLn2vHd89JmTqyWkdA6-wuTY764</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">label 3</span><span class="delimiter">&quot;</span></span>
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect6">
<h7 id="rest-parameters"><a class="anchor" href="#rest-parameters"></a>REST parameters</h7>
<div class="paragraph">
<p>The REST endpoint exposed via <strong>data-bsi-rest-resource</strong> accepts the following query parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>entityId</strong>: The encrypted value list type.
Mandatory.
This parameter is provided by the CX backend and already set.
There is no need to adapt it in the frontend.</p>
</li>
<li>
<p><strong>q</strong>: Query parameter.
Optional.
If set, it&#8217;s value is used to perform a case-insensitive prefix search on the lookup result&#8217;s texts.
Only matching results are sent to the client.</p>
</li>
<li>
<p><strong>lang</strong>: Requested language parameter.
Optional.
If set, the value is used to parse a <em>JAVA</em> locale.
The locale is used to perform the lookup and returns the result in the corresponding language.
It is recommended to set this attribute to the DOM&#8217;s language attribute (which is normally set via CX&#8217;s content engine).
If no value is provided, the request&#8217;s language (i.e., the client&#8217;s browser language) is used.
The last fallback is the CX backend&#8217;s system language.
Example values: <em>de-DE</em>, <em>de-CH</em>, <em>de</em>, <em>en</em>, <em>en-US</em>, <em>fr</em>, &#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Listing 64. Example URL. The design has to handle q and lang parameters.</div>
<div class="content">
<pre>http://your-client.bsi/inbound/default/r/bsi-code-rest-resource?entityId=WcaYlNlwe6VnI72&amp;q=searchVal&amp;lang=de</pre>
</div>
</div>
<div class="paragraph">
<p>The REST endpoint made available via <strong>data-bsi-rest-resource</strong> supports the following query parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>entityId</strong>: The encrypted value list type.
Mandatory.
This parameter is provided by the CX backend and is already set, therefore no adjustments are necessary in the frontend.</p>
</li>
<li>
<p><strong>q</strong>: Query parameter.
Optional.
If specified, its value is utilized to perform a case-insensitive prefix search on the lookup result&#8217;s texts.
Only matching results are transmitted to the client.</p>
</li>
<li>
<p><strong>lang</strong>: Requested language parameter.
Optional.
If specified, the value is used to parse a <em>JAVA</em> locale.
The locale is then used to perform the lookup and return the result in the corresponding language.
It is recommended to set this attribute to the DOM&#8217;s language attribute, which is typically set via CX&#8217;s content engine.
If no value is provided, the request&#8217;s language (i.e., the client&#8217;s browser language) is used.
The last fallback is the CX backend&#8217;s system language.
Example values include <em>de-DE</em>, <em>de-CH</em>, <em>de</em>, <em>en</em>, <em>en-US</em>, <em>fr</em>, etc.</p>
</li>
</ul>
</div>
</div>
<div class="sect6">
<h7 id="how-to-create-a-content-element-using-the-value-list-part"><a class="anchor" href="#how-to-create-a-content-element-using-the-value-list-part"></a>How to create a content element using the value list part</h7>
<div class="paragraph">
<p>The element is based on the new Handlebars integration in BSI CX designs.
To work properly with the CX form engine, your element should also contain two additional template element parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>id</strong>: A plain-text Handlebars template part to uniquely identify the form field in a form.
Ensure that the HTML form field&#8217;s ID attribute is set to this value.
Mandatory.</p>
</li>
<li>
<p><strong>name</strong>: The form field&#8217;s label.
Mandatory.</p>
</li>
</ul>
</div>
</div>
<div class="sect6">
<h7 id="minimal-example-implementation"><a class="anchor" href="#minimal-example-implementation"></a>Minimal example implementation</h7>
<div class="listingblock">
<div class="title">Listing 65. The example&#8217;s context .json. The content editor sets the datamodel values.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">dynamic-dropdown-1</span><span class="delimiter">&quot;</span></span>
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Field</span><span class="delimiter">&quot;</span></span>
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">entityTypeAndInitialValue</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">dataModelValue</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">displayText</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 66. The examples .hbs file. The content editor sets the datamodel values.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dynamic-value-list</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-entity-id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{entityTypeAndInitialValue.dataModelValue.type}}</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>
    <span class="tag">&lt;label</span> <span class="attribute-name">for</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{id.value}}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{name.value}}<span class="tag">&lt;/label&gt;</span>
    <span class="tag">&lt;input</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{id.value}}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{id.value}}</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{entityTypeAndInitialValue.displayText}}</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">data-bsi-entity-key-value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{entityTypeAndInitialValue.dataModelValue.value}}</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">data-bsi-entity-key-display-text</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{entityTypeAndInitialValue.displayText}}</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 67. The element&#8217;s entry in the www-design.json file. Don&#8217;t forget to include the element in the respective dropzones.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">contentElements</span><span class="delimiter">&quot;</span></span>: [
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">elementId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">example-dynamic-value-list</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">template-element</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">path/to/my-example.hbs</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">contextFile</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">path/to/my-example.json</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Dynamic select</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">templateParts</span><span class="delimiter">&quot;</span></span>: [
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">partId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">plain-text</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">partContextId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ID</span><span class="delimiter">&quot;</span></span>
        },
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">partId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">plain-text</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">partContextId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Field name</span><span class="delimiter">&quot;</span></span>
        },
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">partId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">dynamic-value-list</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">partContextId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">entityTypeAndInitialValue</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Value list</span><span class="delimiter">&quot;</span></span>
        }
      ]
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The code snippets above represent the HTML component.
A possible method for invoking the REST endpoint is provided in the snippet below.</p>
</div>
<div class="listingblock">
<div class="title">Listing 68. Script calling the value list endpoint.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="js">    let <span class="predefined">$valueListElem</span> = findValueListElement(); <span class="comment">// Frontend code's responsibility</span>
    let dataSourceUrl = <span class="predefined">$valueListElem</span>.attr(<span class="string"><span class="delimiter">'</span><span class="content">data-bsi-rest-resource</span><span class="delimiter">'</span></span>);
    fetch(dataSourceUrl, {
      <span class="key">method</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">GET</span><span class="delimiter">&quot;</span></span>,
      <span class="key">body</span>: <span class="keyword">new</span> URLSearchParams({
        <span class="key">q</span>: getQueryParam(<span class="predefined">$valueListElem</span>), <span class="comment">// Frontend code's responsibility</span>
        <span class="key">lang</span>: document.documentElement.lang })
    })
    .then(response =&gt; {
      <span class="comment">// ... Frontend code's responsibility</span>
    });</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to implement a dropdown including autocompletion, you may consider <a href="https://jqueryui.com/autocomplete/">JQuery UI</a> as a starting point.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="data-bsi-attributes"><a class="anchor" href="#data-bsi-attributes"></a>3.4. Data BSI Attributes</h3>
<div class="paragraph">
<p>Data BSI attribute are regular DOM element attributes, starting with <code>data-bsi-</code>. In a CX design they must be used to amend CX specific semantic information to the DOM or to control processing logic while the DOM is rendered by the CX server.</p>
</div>
<div class="sect3">
<h4 id="control-attributes"><a class="anchor" href="#control-attributes"></a>3.4.1. Control Attributes</h4>
<div class="sect4">
<h5 id="data-bsi-remove-if"><a class="anchor" href="#data-bsi-remove-if"></a>3.4.1.1. data-bsi-remove-if</h5>
<div class="paragraph">
<p>The presence of an HTML element in the generated content can be controlled by using <code>data-bsi-remove-if</code>. The attribute value can use the following boolean variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>draft</code>: The element is only inserted if the content is being edited in the editor.</p>
</li>
<li>
<p><code>live</code>: The element is only inserted if the content is driven by a story.</p>
</li>
<li>
<p><code>authenticated</code>: The element is only inserted if an authenticated visitor exists on the CX HTTP session (only available in CX websites).</p>
</li>
<li>
<p><code>production</code>: The element is only inserted if the CX server is configured as production system. This is defined by the config property 'bsi.studio.html.output.environment'.</p>
</li>
<li>
<p><code>test</code>: The element is only inserted if the CX server is configured as test system. This is defined by the config property 'bsi.studio.html.output.environment'.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The attribute value may have a negate operator (!). Using this operator you can negate the condition, for instance <code>!authenticated</code> will only be removed in case the visitor is <em>not</em> logged in.</p>
</div>
<div class="paragraph">
<p>The attribute value can be a complex expression, see example below.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<code>data-bsi-remove-if</code> must not be used for tag elements containing content elements! Otherwise, those cannot be edited in draft mode.
</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="examples"><a class="anchor" href="#examples"></a>Examples</h6>
<div class="paragraph">
<p>A common and recommended use of <code>data-bsi-remove-if="draft"</code> is to suppress executing JavaScript in the content editor, which may lead to unintended side effects.</p>
</div>
<div class="listingblock">
<div class="title">Listing 69. Hiding information in draft mode</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;script</span> <span class="attribute-name">data-bsi-remove-if</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">draft</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="inline"><span class="comment">// this script will not mess around with your content while being edited in the content editor</span></span>
<span class="tag">&lt;/script&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A common use case of <code>data-bsi-remove-if="live"</code> mode is to display context information to the user that should only be present while editing a content.</p>
</div>
<div class="listingblock">
<div class="title">Listing 70. Hiding information in live mode</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;p</span> <span class="attribute-name">data-bsi-remove-if</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">live</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>This hint will never be shown in any content driven by a story.<span class="tag">&lt;/p&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows a complex expression. If your design includes a script for analytic/tracking tools, you should make sure the script is never executed on a test system and never in the editor.</p>
</div>
<div class="listingblock">
<div class="title">Listing 71. Remove script tag on non-production systems or in draft mode</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;script</span> <span class="attribute-name">data-bsi-remove-if</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">!production || draft</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="inline">  console.log(<span class="string"><span class="delimiter">'</span><span class="content">run only in production</span><span class="delimiter">'</span></span>);</span>
<span class="tag">&lt;/script&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="data-bsi-hide-type-button"><a class="anchor" href="#data-bsi-hide-type-button"></a>3.4.1.2. data-bsi-hide-[type]-button</h5>
<div class="paragraph">
<p><strong>data-bsi-hide-edit-button</strong> may be used to prevent editing of a content element. The attribute must be located on the same tag as the <code>data-bsi-element</code> attribute.</p>
</div>
<div class="listingblock">
<div class="title">Listing 72. Hiding the content element edit button</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-hide-edit-button</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>...<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>data-bsi-hide-move-button</strong>, <strong>data-bsi-hide-copy-button</strong>, and <strong>data-bsi-hide-remove-button</strong> are working in the same manner, but on dropzone level. They will prevent from moving, copying, or removing content elements on a dropzone.</p>
</div>
<div class="listingblock">
<div class="title">Listing 73. Prevent moving, copying and removal of content elements</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-dropzone</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-hide-move-button</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-hide-copy-button</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-hide-remove-button</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>...<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="form-processor-attributes"><a class="anchor" href="#form-processor-attributes"></a>3.4.2. Form Processor Attributes</h4>
<div class="paragraph">
<p>The CX server may implement programmed backend logic to validate and process a specific form in a CX website. The following attributes control which form processor is called on a form submit. A CX project that implements its own backend logic may contribute its own form processors.</p>
</div>
<div class="paragraph">
<p>Set the <code>data-bsi-form-type</code> on a form element to specify which form processor handles the form on submit. Predefined values are <code>login</code> and <code>change-password</code>. A CX project may define custom values, which must map to a form processor implementation in the CX backend server.</p>
</div>
<div class="paragraph">
<p>The <code>data-bsi-show-form-type-field</code> controls whether the CX content editor shows a drop-down menu to choose a form type in the Form element part. This gives a design author the freedom to create a generic content element for forms, where the content author can choose to create a standard form or a form using a form processor via drop-down menu, or to provide a complete form as a dedicated form element, where the content author cannot change the form type in the content editor.</p>
</div>
<div class="paragraph">
<p>Set the <code>data-bsi-form-type</code> attribute on a form field element to mark a field interpreted by a form processor. For instance a <code>login</code> form requires the form to have two fields, one must define <code>data-bsi-form-type="user-id"</code> and the other <code>data-bsi-form-type="password"</code> in order to pass the form processor validation. Each form process may define custom values for this attribute.</p>
</div>
<div class="paragraph">
<p>See <a href="#">dynamic value list template part</a> for more information <code>data-bsi-entity-id</code>, <code>data-bsi-entity-key-value</code>, <code>data-bsi-entity-key-display-text</code> and <code>data-bsi-rest-resource</code>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The CX backend guarantees that values defined in <code>data-bsi-entity-key-value</code> are consistently encrypted prior to transmission to clients.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="websites"><a class="anchor" href="#websites"></a>3.5. Websites</h3>
<div class="sect3">
<h4 id="terms"><a class="anchor" href="#terms"></a>3.5.1. Terms</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Website</strong>: The complete website. Contains several pages in different languages.</p>
</li>
<li>
<p><strong>Page</strong>: A single page within a website. Pages appear in the navigation and have a content in different languages.</p>
</li>
<li>
<p><strong>Include</strong>: A content snippet, which is saved locally once and can be referenced at any point within the website. We differentiate between built-in includes and custom includes. Built-in includes are content snippets that are included in the design.zip, custom includes are created by the user based on a content-element.</p>
</li>
<li>
<p><strong>Website content type</strong>: Website content type items are pages from a website with a specific type, like a blog or a press release.
Other than website pages, website content type items do not affect the structure of the website.
Which means, a user can publish for instance a blog page, without changes to the story that uses the website.
Additionally, a website content type has specific fields, like <em>author</em> or <em>tags</em>.
With the "Website Content Type Query" step you can query, filter and sort website content type items dynamically and use the results as CX iterator or as REST response in the frontend code of the website.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="concepts"><a class="anchor" href="#concepts"></a>3.5.2. Concepts</h4>
<div class="ulist">
<ul>
<li>
<p>CX-Placeholders can be used on every page of a website. Their scope generally involves a single page. For example the placeholder <code>"{Subject}"</code> has to be mapped once for each page that uses it. A placeholder within an include (e.g. header or footer) only has to be mapped once. An example for that case would be the display of <code>"{Username}"</code> within the header of a portal-website. Placeholders can <em>not</em> be used within page-titles or the navigation.</p>
</li>
<li>
<p>Custom includes <em>can&#8217;t</em> be nested. Technically, that would be possible, but it would need many checks and visualizations inside the content editor to detect potential infinite recursions and give feedback to the user through reasonable error messages. For that reason we currently don&#8217;t support that feature.</p>
</li>
<li>
<p>An include can only be used <em>once</em> within the same page.</p>
</li>
<li>
<p>Multilingualism: All contents and their includes are always created in every active language for their website. E.g.: The website is configured to be German and Italian. On the creation of a new page, two pages will be created: one for Italian and one for German (including their dummy-contents). Within the UI there is no option to create a single page in one specific language only. If necessary, a CX-condition may be used to hide a page for a specific language inside the navigation-tree.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="handlebars-templates"><a class="anchor" href="#handlebars-templates"></a>3.5.3. Handlebars, Templates</h4>
<div class="paragraph">
<p>The template engine <em>Handlebars</em> is available to the design developer at runtime. The templates are parsed server-sided. We&#8217;re using the <a href="https://github.com/jknack/handlebars.java">Java-Port by JKnack</a>. In the design, handlebars templates are important especially for display of the navigation.</p>
</div>
<div class="paragraph">
<p>Handlebars templates can only be used for parts of a website that <em>can&#8217;t</em> be edited by the user. We set that rule, because templates are parsed server-sided. When the content-editor receives the HTML source, the templates have already been resolved. If the user would edit a content-element that contained handlebars syntax, we could only save the rendered content that the user edited. The original handlebars code would be lost.</p>
</div>
<div class="paragraph">
<p>For that reason, handlebars should mostly be used for includes that <em>can&#8217;t</em> be edited. Examples for such includes are the master (<code>design.html</code>), the navigation or areas outside a dropzone.</p>
</div>
<div class="paragraph">
<p>This mechanism can also be used consciously to set multilingual default texts, which are deposited inside the <code>website.json</code> file. An example for an include for the website header in handlebars code could look something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">master-header</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">img/nyan-cat.gif</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;h1</span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">plain-text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{bsi.nls &quot;website.title&quot;}}<span class="tag">&lt;/h1&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>On the initial rendering of the page inside the content editor, the text <code>"website.title"</code> is resolved. As the user saves the page, the initial handlebars code is substituted by the actual text.</p>
</div>
<div class="paragraph">
<p>Handlebars syntax can also be used in the content-element source files; especially for the NLS-helper to define multilingual default texts for each content-element. Content-elements with Handlebars must have the file extension <em>.hbs</em>.</p>
</div>
<div class="paragraph">
<p><strong>Important:</strong> Files that contain Handlebars syntax <em>aren&#8217;t</em> valid HTML documents. They shouldn&#8217;t be handled with HTML parsers like JSoup, otherwise the handlebars syntax gets corrupted. Files that include handlebars code should use the suffix <em>.hbs</em>. <em>IntelliJ</em> supports this syntax with respective plugins.</p>
</div>
<div class="sect4">
<h5 id="handlebars-helpers"><a class="anchor" href="#handlebars-helpers"></a>3.5.3.1. Handlebars Helpers</h5>
<div class="paragraph">
<p>Besides the built-in standard helper, BSI CX may also use the following helpers:</p>
</div>
<div class="sect5">
<h6 id="bsi-nls"><a class="anchor" href="#bsi-nls"></a>bsi.nls</h6>
<div class="paragraph">
<p>This helper is used to display localized texts or resources inside the design. The syntax looks like this: <code>{{bsi.nls '[textKey]'}}</code>.</p>
</div>
<div class="paragraph">
<p>It can also be used inside the content-elements.html file to deliver localized default texts for different languages.</p>
</div>
<div class="paragraph">
<p>Text keys are created inside the <code>design.json</code> at the property <code>nls</code>. Text that doesn&#8217;t depend on the locale is defined with the key <code>*</code>. The resolution follows from the most specific locale up to the default, e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">nls</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">hello.world</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">*</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Hello World</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">de</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Hallo Welt</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">de-CH</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Sali WÃ¤lt</span><span class="delimiter">&quot;</span></span>
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="bsi-jsonstringify"><a class="anchor" href="#bsi-jsonstringify"></a>bsi.jsonStringify</h6>
<div class="paragraph">
<p>This helper is used to output a JSON object (or more precise, a DO entity from the BSI customer suite) into a string representation. Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;meta</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">x-metadata</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{bsi.jsonStringify page.metadata}}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Depending on the actual value of the 'metadata' object, this could output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;meta</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">x-metadata</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{</span><span class="entity">&amp;quot;</span><span class="content">value</span><span class="entity">&amp;quot;</span><span class="content">=123}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="bsi-localelanguage"><a class="anchor" href="#bsi-localelanguage"></a>bsi.localeLanguage</h6>
<div class="paragraph">
<p>This helper is used to output the 'language' part of a Java <em>Locale</em> string.
Example, assuming <em>locale</em> is 'de-CH':</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;meta</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">x-language</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{bsi.localeLanguage locale}}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;meta</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">x-language</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">de</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="bsi-localecountry"><a class="anchor" href="#bsi-localecountry"></a>bsi.localeCountry</h6>
<div class="paragraph">
<p>This helper is used to output the 'country' part of a Java <em>Locale</em> string. Depending on the actual value of the locale, this helper may return an empty string.
Example, assuming <em>locale</em> is 'de-CH':</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;meta</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">x-country</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{bsi.localeCountry locale}}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;meta</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">x-country</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CH</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="bsi-nl2br"><a class="anchor" href="#bsi-nl2br"></a>bsi.nl2br</h6>
<div class="paragraph">
<p>This helper is used to replace newline characters with an HTML <code>BR</code> tag in a plain text string. Example, assuming the value of <em>text</em> is 'Hello\n&lt;b&gt;World&lt;/b&gt;':</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div&gt;</span>{{bsi.nl2br text}}<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div&gt;</span>Hello<span class="tag">&lt;br&gt;</span><span class="entity">&amp;lt;</span>b<span class="entity">&amp;gt;</span>World<span class="entity">&amp;lt;</span>/b<span class="entity">&amp;gt;</span><span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="eq"><a class="anchor" href="#eq"></a>eq</h6>
<div class="paragraph">
<p>Test if two elements are equals. Usage:</p>
</div>
<div class="paragraph">
<p>Render 'yes' or 'no':</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html">{{#eq a b}}
yes
{{else}}
no
{{/eq}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Render 'true' or 'false':</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html">{{eq a b}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Render 'y' or 'n':</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html">{{eq a b yes='y' no='n'}}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="neq"><a class="anchor" href="#neq"></a>neq</h6>
<div class="paragraph">
<p>Test if two elements are NOT equals. Usage:</p>
</div>
<div class="paragraph">
<p>Render 'yes' or 'no':</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html">{{#neq a b}}
yes
{{else}}
no
{{/neq}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Render 'true' or 'false':</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html">{{neq a b}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Render 'y' or 'n':</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html">{{neq a b yes='y' no='n'}}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="handlebars-variables"><a class="anchor" href="#handlebars-variables"></a>3.5.3.2. Handlebars Variables</h5>
<div class="paragraph">
<p>Following variables are available to the design developer on runtime. The variables can be used in handlebars templates, e.g.: <code>{{navigation.activePage.contentId}}</code>.</p>
</div>
<div class="sect5">
<h6 id="top-level"><a class="anchor" href="#top-level"></a>Top-Level</h6>
<div class="ulist">
<ul>
<li>
<p><strong>defaultLocale</strong> (String): Default locale of the website.
Can be used to compare locales, for instance in an <code>hreflang</code> attribute to render the value <code>x-default</code> when a locale is equals the defaultLocale.
Example: <code>en</code>.</p>
</li>
<li>
<p><strong>designBaseUrl</strong> (String): base URL of the design on the resource server.</p>
</li>
<li>
<p><strong>language</strong> (String): Current language as it&#8217;s used in the <code>lang</code> attribute of the HTML tag, e.g.: <code>de</code>.</p>
</li>
<li>
<p><strong>locale</strong> (String): Complete locale.
The locale is used to resolve text keys through the <code>bsi.nls</code> helper, e.g. <code>de-CH</code>.</p>
</li>
<li>
<p><strong>localizedWebsiteBaseUrl</strong> (String) The (root) base URL of the website, including the Locale part.
Example: <a href="http://localhost:8085/inbound/default/e/l/my-website/de-CH" class="bare">http://localhost:8085/inbound/default/e/l/my-website/de-CH</a></p>
</li>
<li>
<p><strong>navigation</strong> (<em>Navigation</em> object): Contains the hierarchical navigation tree, example follows.</p>
</li>
<li>
<p><strong>page</strong> (<em>Navigation Item</em> object): The currently active page.
This is a shortcut for <code>navigation.activePage</code>.
Note: if the current page is a website content type item which is linked to a navigation item through the <code>activeWhenWebsiteContentType</code> property, the 'page' property points to the website content type item, but the 'navigation.activePage' points to the navigation item.
There might be a difference regarding the titles.</p>
</li>
<li>
<p><strong>paginationInfo</strong> (<em>Pagination Info</em> object): Contains the information for pagination.
This object is only filled if the pagination feature is specified in the <code>design.json</code> file.</p>
</li>
<li>
<p><strong>resourceBaseUrl</strong> (String): base URL of the resource server.</p>
</li>
<li>
<p><strong>title</strong> (String): Title of the website.
Matches the field "Title" in the website-masters editor.
Can be used in combination with the title of the current page to display the title of the HTML document, e.g.: <code>{{title}} | {{navigation.activePage.pageTitle}}</code>.</p>
</li>
<li>
<p><strong>websiteBaseUrl</strong> (String) The (root) base URL of the website, without the Locale part.
Example: <a href="http://localhost:8085/inbound/default/e/l/my-website" class="bare">http://localhost:8085/inbound/default/e/l/my-website</a></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="navigation-object"><a class="anchor" href="#navigation-object"></a>Navigation (Object)</h6>
<div class="ulist">
<ul>
<li>
<p><strong>activePage</strong> (<em>Navigation Item</em> object) The currently active page</p>
</li>
<li>
<p><strong>items</strong> (array of <em>Navigation Item</em> objects) A hierarchical list of navigation items.
Loop through these nested arrays, to render the navigation of the website.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="navigation-item-object"><a class="anchor" href="#navigation-item-object"></a>Navigation Item (Object)</h6>
<div class="ulist">
<ul>
<li>
<p><strong>id</strong> (UUID): Primary key according to table BSI_WEBSITE_REV_NAV#ID.</p>
</li>
<li>
<p><strong>contentId</strong> (UUID): Primary key according to table BSI_WEBSITE_REV_CONT#ID.</p>
</li>
<li>
<p><strong>url</strong> (String): The URL for a website page or website content type item.</p>
</li>
<li>
<p><strong>createDate</strong> (String): The create date of the website page or website content type item.</p>
</li>
<li>
<p><strong>updateDate</strong> (String): The update date of the website page or website content type item.</p>
</li>
<li>
<p><strong>canonicalUrl</strong> (String): The optional canonical URL for the website page or website content type item.</p>
</li>
<li>
<p><strong>active</strong> (Boolean): <code>True</code> if the navigation element (page) is active, which means it should appear highlighted in the navigation.</p>
</li>
<li>
<p><strong>folder</strong> (Boolean): <code>True</code> if BSI_WEBSITE_REV_NAV_LOCALE#NAV_ITEM_TYPE = "folder". Used to distinct pages and folders in the navigation.</p>
</li>
<li>
<p><strong>level</strong> (Integer): Recursion-level of the navigation element, starting with 0 = Root.</p>
</li>
<li>
<p><strong>image</strong> (String): Locale independent absolute image URL.
Can be used to render an icon for the website page in the navigation.</p>
</li>
<li>
<p><strong>localizedImage</strong> (String): Locale dependent absolute image URL.
Can be used to render a localized preview image for the website content type item.</p>
</li>
<li>
<p><strong>title</strong> (String): The title of the navigation item.</p>
</li>
<li>
<p><strong>pageTitle</strong> (String): The page title of the website page or website content type item.</p>
</li>
<li>
<p><strong>pageTitleShort</strong> (String): The short page title of the website page or website content type item. Can be used to render an 'og:title' meta tag in the HTML.</p>
</li>
<li>
<p><strong>description</strong> (String): The description of the website page or website content type item. Can be used to render a 'description' meta tag in the HTML.</p>
</li>
<li>
<p><strong>descriptionShort</strong> (String): The short description of the website page or website content type item. Can be used to render an 'og:description' meta tag in the HTML.</p>
</li>
<li>
<p><strong>openGraphType</strong> (String): The Open Graph type of the website page or website content type item. Can be used to render an 'og:type' meta tag in the HTML.</p>
</li>
<li>
<p><strong>tags</strong> (Array of strings): An array of strings with <em>tags</em> for the website page or website content type item, as used in a tag cloud in a blog.</p>
</li>
<li>
<p><strong>noindex</strong> (Boolean): Whether the website page or website content type item should be indexed by a search engine crawler. Can be used to render a 'robots/noindex' meta tag in the HTML.</p>
</li>
<li>
<p><strong>nofollow</strong> (Boolean): Whether the link to a website page should be followed by a search engine crawler. Can be used to render a 'rel/nofollow' attribute in the HTML.</p>
</li>
<li>
<p><strong>localizedUrls</strong> (Object): Object with URL as value and locale as key.
Can be used to render a language-switch widget in the HTML.</p>
</li>
<li>
<p><strong>metadata</strong>: (Object) Locale independent JSON metadata of the website page or website content type item.</p>
</li>
<li>
<p><strong>localizedMetadata</strong>: (Object) Locale dependent JSON metadata of the website page or website content type item.</p>
</li>
<li>
<p><strong>items</strong> (array of <em>Navigation Item</em> objects) A hierarchical list of child navigation items.</p>
</li>
<li>
<p><strong>authorName</strong> (String): The author name of the website content type item.
Only available for the active page.</p>
</li>
<li>
<p><strong>authorImage</strong> (String): Absolute image URL.
The author image of the website content type item.
Can be used to render an image of the author.
Only available for the active page.</p>
</li>
<li>
<p><strong>localizedAuthorDescription</strong> (String): The localized author description of the website content type item.
Only available for the active page.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="PaginationVariables"><a class="anchor" href="#PaginationVariables"></a>Pagination (Object)</h6>
<div class="ulist">
<ul>
<li>
<p><strong>currentPageNo</strong> (Number): Current page number.</p>
</li>
<li>
<p><strong>numDataRecordsPerPage</strong> (Number): Number of records per page.</p>
</li>
<li>
<p><strong>firstDataRecordOffset</strong> (Number): Index of the first record on the current page.</p>
</li>
<li>
<p><strong>totalNumDataRecords</strong> (Number): Total number of existing records.</p>
</li>
<li>
<p><strong>firstPageUrl</strong> (String): URL of the first page.</p>
</li>
<li>
<p><strong>lastPageUrl</strong> (String): URL of the last page.</p>
</li>
<li>
<p><strong>lastPageNo</strong> (Number): Page number of the last page.</p>
</li>
<li>
<p><strong>previousPages</strong> (Array of <em>Pagination Page</em> objects): Provides information on pages previous to the current page.</p>
</li>
<li>
<p><strong>nextpages</strong> (Array of <em>Pagination Page</em> objects): Provides information on the next pages following the current page.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="pagination-page-object"><a class="anchor" href="#pagination-page-object"></a>Pagination Page (Object)</h6>
<div class="ulist">
<ul>
<li>
<p><strong>pageNo</strong> (Number): Page number.</p>
</li>
<li>
<p><strong>url</strong> (String): URL of the page.</p>
</li>
<li>
<p><strong>index</strong> (Number): Offset of the page number to the current page number.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="handlebars-variables-example-as-json"><a class="anchor" href="#handlebars-variables-example-as-json"></a>Handlebars Variables Example (as JSON)</h6>
<div class="paragraph">
<p>The following JSON snippet shows the possible content of a variables object at runtime.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">BSI Software</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">language</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">de</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">locale</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">de-CH</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">page</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1006</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">contentId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2006</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">url</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ueber-bsi.html</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Ãœber BSI</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">pageTitle</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Erfahren Sie mehr zu BSI</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">level</span><span class="delimiter">&quot;</span></span>: <span class="integer">0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">active</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">localizedUrls</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">de-CH</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ueber-bsi.html</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">en-CH</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">about-bsi.html</span><span class="delimiter">&quot;</span></span>
    }
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">navigation</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">activePage</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1006</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">INFO: same object as in 'page'</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">items</span><span class="delimiter">&quot;</span></span>: [
      {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1002</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">contentId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2002</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">url</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">loesungen.html</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">LÃ¶sungen</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">pageTitle</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">LÃ¶sungen fÃ¼r Ihre Kunden</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">level</span><span class="delimiter">&quot;</span></span>: <span class="integer">0</span>
      },
      {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1003</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">contentId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2003</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">url</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">branchen.html</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Branchen</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">folder</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">level</span><span class="delimiter">&quot;</span></span>: <span class="integer">0</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">items</span><span class="delimiter">&quot;</span></span>: [
          {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1004</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">contentId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2004</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">url</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">banking.html</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Banking</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">pageTitle</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">LÃ¶sungen fÃ¼rs Finanzwesen</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">level</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>
          },
          {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1005</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">contentId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2005</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">url</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">health.html</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Health</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">pageTitle</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">LÃ¶sungen fÃ¼rs Gesundheitswesen</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">level</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>
          }
        ]
      },
      {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1006</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">INFO: same object as in 'page'</span><span class="delimiter">&quot;</span></span>
      }
    ]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following Handlebars (.hbs) code snippet shows how the variables provided in the example above, are used in the template. The example shows a typical template for the website navigation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html">{{#navigation}}
<span class="tag">&lt;nav</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">navigation</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  {{#items}}
    <span class="tag">&lt;ul</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">nav-item-container level-root</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;li</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">nav-item level-root</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="comment">&lt;!-- root level --&gt;</span>
      {{#active}}
        <span class="tag">&lt;span</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">nav-item-active</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{title}}<span class="tag">&lt;/span&gt;</span>
      {{/active}}
      {{^active}}
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{url}}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{title}}<span class="tag">&lt;/a&gt;</span>
      {{/active}}
      <span class="tag">&lt;/li&gt;</span>
      {{#items}}
      <span class="tag">&lt;ul</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">nav-item-container level-1st</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="comment">&lt;!-- 1st level --&gt;</span>
        <span class="tag">&lt;li</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">nav-item level-1st</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        {{#active}}
          <span class="tag">&lt;span</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">nav-item-active</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{title}}<span class="tag">&lt;/span&gt;</span>
        {{/active}}
        {{^active}}
          <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{url}}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{title}}<span class="tag">&lt;/a&gt;</span>
        {{/active}}
        <span class="tag">&lt;/li&gt;</span>
      <span class="tag">&lt;/ul&gt;</span>
      {{/items}}
    <span class="tag">&lt;/ul&gt;</span>
  {{/items}}
<span class="tag">&lt;/nav&gt;</span>
{{/navigation}}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="working-with-pre-defined-includes"><a class="anchor" href="#working-with-pre-defined-includes"></a>Working with Pre-Defined Includes</h6>
<div class="paragraph">
<p>Pre-defined includes act like a regular content-element in the website editor, but they cannot be edited by the user.
Instead pre-defined includes are defined as a Handlebars template, which means it is possible to use all the variables provided by the website. The Handlebars placeholders are not resolved when the page is edited in the website editor, but only when the page is finally rendered in the browser.</p>
</div>
<div class="paragraph">
<p>This allows to build content-elements which output data available as metadata on the page, for instance the 'page title' or the 'description'. The advantage for the content user is, that he or she must not copy/paste content already defined as metadata.</p>
</div>
<div class="paragraph">
<p>The following example shows how to make a pre-defined include 'page-info.hbs', which outputs the 'page title' and the description.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">page-info</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">page-info</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-hide-edit-button</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;p&gt;</span>Page title: <span class="tag">&lt;b&gt;</span>{{page.pageTitle}}<span class="tag">&lt;/b&gt;</span><span class="tag">&lt;/p&gt;</span>
  <span class="tag">&lt;p&gt;</span>Description: {{page.description}}<span class="tag">&lt;/p&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the <code>design.json</code> you must define the pre-defined include and also define a content-element. You can reference the same file in both places. Note, the example shows only the relevant part of the design.json.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">contentElementGroups</span><span class="delimiter">&quot;</span></span>: [{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">groupId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">contentElements</span><span class="delimiter">&quot;</span></span>: [
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">elementId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">page-info</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">include/page-info.hbs</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Page Info</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">icon</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">info</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">hidden</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>
        }
      ]
  }],
  <span class="key"><span class="delimiter">&quot;</span><span class="content">website</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">includes</span><span class="delimiter">&quot;</span></span>:{
      <span class="key"><span class="delimiter">&quot;</span><span class="content">page-info</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">includeType</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">pre-defined</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">include/page-info.hbs</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Page Info</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">editable</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Do not forget to add the new content-element/include to the <code>data-bsi-dropzone-allowed-elements</code> attribute in your dropzones.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configuration-files"><a class="anchor" href="#configuration-files"></a>3.5.4. Configuration files</h4>
<div class="paragraph">
<p>This chapter describes the necessary configuration files.</p>
</div>
<div class="sect4">
<h5 id="website-designjson"><a class="anchor" href="#website-designjson"></a>3.5.4.1. Website-specific metadata inside design.json</h5>
<div class="paragraph">
<p>The <em>design.json</em> file is a metadata file for structured configuration data.</p>
</div>
<div class="paragraph">
<p>Example for the design.json file for website designs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">schemaVersion</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">25.1</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">defaultLocale</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">de</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">locales</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">de</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>],
  <span class="key"><span class="delimiter">&quot;</span><span class="content">nls</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">page</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">*</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Seite</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Page</span><span class="delimiter">&quot;</span></span>
    }
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">website</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">maxNavigationLevel</span><span class="delimiter">&quot;</span></span>: <span class="integer">2</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">pagination</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">numDataRecordsPerPage</span><span class="delimiter">&quot;</span></span>: <span class="integer">20</span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">numAdjacentPages</span><span class="delimiter">&quot;</span></span>: <span class="integer">3</span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">includes</span><span class="delimiter">&quot;</span></span>:{
      <span class="key"><span class="delimiter">&quot;</span><span class="content">__page__</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Vorlage fÃ¼r Inhaltsseiten</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">reference</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">__page__</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">include/page.hbs</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">contextFile</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">include/page-context.json</span><span class="delimiter">&quot;</span></span>
      },
      <span class="key"><span class="delimiter">&quot;</span><span class="content">navigation</span><span class="delimiter">&quot;</span></span>:{
         <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">Navigation</span><span class="delimiter">&quot;</span></span>,
         <span class="key"><span class="delimiter">&quot;</span><span class="content">reference</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">navigation</span><span class="delimiter">&quot;</span></span>,
         <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">include/navigation.hbs</span><span class="delimiter">&quot;</span></span>
      },
      <span class="key"><span class="delimiter">&quot;</span><span class="content">header</span><span class="delimiter">&quot;</span></span>:{
         <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">Kopfzeile</span><span class="delimiter">&quot;</span></span>,
         <span class="key"><span class="delimiter">&quot;</span><span class="content">reference</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">header</span><span class="delimiter">&quot;</span></span>,
         <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">include/header.html</span><span class="delimiter">&quot;</span></span>,
         <span class="key"><span class="delimiter">&quot;</span><span class="content">editable</span><span class="delimiter">&quot;</span></span>:<span class="value">true</span>
      },
      <span class="key"><span class="delimiter">&quot;</span><span class="content">pagination-element</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Pagination</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">contentType</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">pre-defined</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">include/pagination-element.hbs</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">editable</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>
      },
      <span class="key"><span class="delimiter">&quot;</span><span class="content">footer</span><span class="delimiter">&quot;</span></span>:{
         <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">Fusszeile</span><span class="delimiter">&quot;</span></span>,
         <span class="key"><span class="delimiter">&quot;</span><span class="content">reference</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">footer</span><span class="delimiter">&quot;</span></span>,
         <span class="key"><span class="delimiter">&quot;</span><span class="content">file</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">include/footer.html</span><span class="delimiter">&quot;</span></span>,
         <span class="key"><span class="delimiter">&quot;</span><span class="content">editable</span><span class="delimiter">&quot;</span></span>:<span class="value">true</span>
      }
    }
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">websiteContentTypes</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">blog</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">press-release</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>schemaVersion</code> (String): Needs to be set to 1.0 or greater. For details, see chapter about the <a href="#design-schema-version">design schema version</a>.</p>
</li>
<li>
<p><code>defaultLocale</code> (String): Default language (must be contained in <code>locales</code>).</p>
</li>
<li>
<p><code>locales</code> (Array of String): List with languages (e.g.: <code>en</code>, <code>de</code>, <code>de-CH</code>).</p>
</li>
<li>
<p><code>nls</code>: Contains a map with NLS keys, which can be used within the .hbs files with <code>bsi.nls</code>.</p>
</li>
<li>
<p><code>website</code>: <code>maxNavigationLevel</code> defines the maximum depth of the navigation (level of the hierarchy) that can be displayed by the design. To allow better structuring of pages and folders, the website editor allows the creation of websites with greater depth, but such pages or folders can&#8217;t be selected through the navigation on runtime. However, an internal link from one page to another page with greater depth is still possible.</p>
</li>
<li>
<p><code>website</code>: <code>pagination</code> is used for pagination (see <a href="#pagination">Pagination</a>). The property <code>numDataRecordsPerPage</code> can be used to specify how many records are to be displayed simultaneously on a page. The property <code>numAdjacentPages</code> describes how many lower and higher page numbers are to be displayed in the pagination navigation. For example, if <code>numAdjacentPages</code> is set to 3 and you are on page 2, then the maximum number of pages displayed in the navigation is 1, 2, 3, 4 and 5.</p>
</li>
<li>
<p><code>includes</code>: See below.</p>
</li>
<li>
<p><code>websiteContentTypes</code> (Array of string): Defines which 'website content types' are allowed to be used with this design. Possible values are: "blog", "event", "pop-up", "press-release". Your CX project may contribute additional website content types.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="includes"><a class="anchor" href="#includes"></a>3.5.5. Includes</h4>
<div class="paragraph">
<p>All files that are inherited to the database on the creation of a website as navigation item or include have to be referenced in the <code>design.json</code> file. All includes from the design.zip are inherited automatically with <code>content-type=built-in</code>, unless <code>content-type=pre-defined</code> is set explicitly.</p>
</div>
<div class="paragraph">
<p>The file <code>design.html</code> matches the master and is automatically created inside the website internally as an include with the reference <code><em>master</em></code>. For that reason this include should <em>not</em> be defined in the design.json file, as it is defined already.</p>
</div>
<div class="paragraph">
<p>The minimal include is <code><em>page</em></code>, which works as a template for new pages within a website.</p>
</div>
<div class="paragraph">
<p>The key, which is used for the <code>bsi:include</code>-tags, is used as a unique reference to the include.</p>
</div>
<div class="paragraph">
<p>For each include, the following properties can be configured:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code>: Displayed name of the include.</p>
</li>
<li>
<p><code>file</code>: Points to a file inside the zip archive, relative to the root of the zip file. Only .html and .hbs are allowed.</p>
</li>
<li>
<p><code>contextFile</code>: Editable includes can have a context for Handlebars content elements, the same as the <code>design.hbs</code> can for e.g. Landingpages.</p>
</li>
<li>
<p><code>contentType</code>: <code>built-in</code> (default, if not set manually), <code>pre-defined</code> and <code>user-defined</code>.</p>
</li>
<li>
<p><code>editable</code>: True, when the include can be edited in the content editor by the user.
Default is <code>true</code>. Must be <code>false</code> for all includes that use Handlebars.
You should avoid to change the value of this property in design updates.
If you must change the value, a 'direct update' of the content is enforced in the design update.
This means, that the existing HTML content of the current website cannot be migrated and will be <em>overridden</em> with the content of the include in the new version of the design.
Instead of changing the editable property, you should consider to define a new include with a new reference/ID.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="design-hbs"><a class="anchor" href="#design-hbs"></a>3.5.5.1. Design.hbs</h5>
<div class="paragraph">
<p>The <code>design.hbs</code> file is equivalent to the "master" of the website.
On the creation of a website, an include with reference <code><em>master</em></code> is created with the contents of the <em>design.hbs</em> file.
This include <em>can&#8217;t</em> be edited by the user.
However, the design can reference other includes that may be edited, so that e.g. the footer can be edited by the user.</p>
</div>
<div class="paragraph">
<p>A design can contain exactly one include for a page.
That include uses the dynamic reference <code>{navigation.activePage.contentId}</code>.
For the editor this include has a special meaning:
When displayed in the editor, the full page (including the master) is displayed, but when saved, only the content of the respective page is saved.</p>
</div>
<div class="paragraph">
<p>Advice: There should be no tags of the template-engine used for includes or pages that the user may edit.</p>
</div>
<div class="paragraph">
<p>In the example below the value of the <code>editable</code> property from the include definition in the <em>design.json</em> file is shown as an HTML comment, for better understanding.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;html&gt;</span>
<span class="tag">&lt;head&gt;</span>
  <span class="tag">&lt;title&gt;</span>{{title}} | {{page.pageTitle}}<span class="tag">&lt;/title&gt;</span>
<span class="tag">&lt;/head&gt;</span>
<span class="tag">&lt;body&gt;</span>

<span class="tag">&lt;header&gt;</span>
  <span class="tag">&lt;h1&gt;</span>Unicorn Inc.<span class="tag">&lt;/h1&gt;</span>
  {{#navigation.index.active}}
    <span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">logo.png</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">width</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">100</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">height</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">100</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  {{/navigation.index.active}}
  {{^navigation.index.active}}
    <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{navigation.index.url}}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">logo.png</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">width</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">100</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">height</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">100</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/a&gt;</span>
  {{/navigation.index.active}}
  <span class="tag">&lt;bsi:include</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">navigation</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="comment">&lt;!-- editable: false --&gt;</span>
<span class="tag">&lt;/header&gt;</span>

        <span class="comment">&lt;!--
    activePage is always set by the framework. When the root-URL '/' is loaded,
    'index' is used automatically.
    When the include-tag is resolved, it's replaced by the respective HTML-snippet.
    Having a single root-element (e.g.: &lt;div&gt;, &lt;p&gt;, ...), that encapsulates the entire DOM of the include, is a technical requirement for any include.
    When changed, the attribute &quot;data-ce-include-id&quot; is set on this element with the value of the original attribute &quot;id&quot;.
    --&gt;</span>
    {{#response.ok}}
        <span class="tag">&lt;bsi:include</span> <span class="attribute-name">reference</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{navigation.activePage.contentId}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="comment">&lt;!-- editable: true --&gt;</span>
    {{/response.ok}}
    <span class="comment">&lt;!--
    This include is only loaded when the response is != OK. It takes a special function to set response.ok to false in the content-editor, to even make it editable in the editor.
    --&gt;</span>
    {{^response.ok}}
    <span class="tag">&lt;bsi:include</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">error</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="comment">&lt;!-- editable: false --&gt;</span>
    {{/response.ok}}

<span class="tag">&lt;footer&gt;</span>
  <span class="comment">&lt;!--
  The contents of the &quot;design.hbs&quot; cannot be edited directly, so the part that should be editable by the user needs to be transferred to a separate include. --&gt;</span>
  <span class="tag">&lt;bsi:include</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">footer-text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="comment">&lt;!-- editable: true --&gt;</span>
<span class="tag">&lt;/footer&gt;</span>

<span class="tag">&lt;/body&gt;</span>
<span class="tag">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The include "footer-text" loads the built-in include footer-text.html. This file looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-ce-content-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">footer-text</span><span class="delimiter">&quot;</span></span>
   <span class="attribute-name">data-ce-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">formatted-text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  This is a default-text for the footer. This text can be changed in the editor by the user.
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="content-editor-3"><a class="anchor" href="#content-editor-3"></a>3.5.6. Content editor</h4>
<div class="paragraph">
<p>Before the content is displayed in the editor, it has to be preprocessed by the <code>WebsiteProcessor</code>. It resolves includes and starts the template-engine. Just like the live-website, the content editor also creates an object with website variables.</p>
</div>
<div class="paragraph">
<p>Here is an example for content, when it&#8217;s loaded from the database:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;bsi:include</span> <span class="attribute-name">reference</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">footer-text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
{{title}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is an example for content, when it&#8217;s shown in the editor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span>
  <span class="attribute-name">data-bsi-include-reference</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">footer-text</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">footer-text</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">formatted-text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  Ipsem Lorum
<span class="tag">&lt;/div&gt;</span>
BSI Website</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="pagination"><a class="anchor" href="#pagination"></a>3.5.7. Pagination</h4>
<div class="paragraph">
<p>Pagination can be used to distribute data supplied by an external system (e.g. via REST) to several pages on a website, so that only part of the data is displayed on one page. With <em>Next</em> and <em>Back</em> buttons on the website page, it is then possible to display a separate set of data on each page.</p>
</div>
<div class="paragraph">
<p>The pagination must be defined via <code>website: pagination</code> in <code>design.json</code> and provided via an include. The include must exist in the <code>design.json</code> file and have the special include type <code>pre-defined</code> (see <a href="#website-designjson">Website-specific metadata inside design.json</a>). The include itself should have the extension <code>.hbs</code> and use handlebars. The possible values for the Handlebars templates are documented in the chapter on website variables (see <a href="#PaginationVariables">Pagination (Object)</a>). Besides, the attribute <code>data-bsi-hide-edit-button</code> should be set, as includes that use handlebars should not be editable in the website editor. The following is an example of a possible template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">pagination-element</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">pagination-element</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-hide-edit-button</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{pagination.firstPageUrl}}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>First Page<span class="tag">&lt;/a&gt;</span>
    {{#each pagination.previousPages}}
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{url}}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>[{{pageNo}}]<span class="tag">&lt;/a&gt;</span>
    {{/each}}
    {{pagination.currentPageNo}}
    {{#each pagination.nextPages}}
        <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{{url}}}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>[{{pageNo}}]<span class="tag">&lt;/a&gt;</span>
    {{/each}}
    <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{{pagination.lastPageUrl}}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Last Page<span class="tag">&lt;/a&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This template (include) is then rendered by the template engine at runtime. One possible output is the following. Everything except page 20 are links pointing to the respective pages.</p>
</div>
<div class="paragraph">
<p><em>[First Page] [18] [19] 20 [21] [22] [Last Page]</em></p>
</div>
<div class="paragraph">
<p>The data to be rendered via pagination can finally be displayed with the table content element. For this, a content element with the element part <code>table</code> should be extended by the attribute <code>data-bsi-show-pagination-field</code>. The following is an example of a possible table template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">table</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">table</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-show-pagination-field</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;table&gt;</span>
        <span class="tag">&lt;tr&gt;</span>
            <span class="tag">&lt;th&gt;</span>#<span class="tag">&lt;/th&gt;</span>
            <span class="tag">&lt;th&gt;</span>Title 1<span class="tag">&lt;/th&gt;</span>
            <span class="tag">&lt;th&gt;</span>Title 2<span class="tag">&lt;/th&gt;</span>
            <span class="tag">&lt;th&gt;</span>Title 3<span class="tag">&lt;/th&gt;</span>
        <span class="tag">&lt;/tr&gt;</span>
        <span class="tag">&lt;tr&gt;</span>
            <span class="tag">&lt;td&gt;</span>1<span class="tag">&lt;/td&gt;</span>
            <span class="tag">&lt;td&gt;</span>Text 1<span class="tag">&lt;/td&gt;</span>
            <span class="tag">&lt;td&gt;</span>Text 2<span class="tag">&lt;/td&gt;</span>
            <span class="tag">&lt;td&gt;</span>Text 3<span class="tag">&lt;/td&gt;</span>
        <span class="tag">&lt;/tr&gt;</span>
        <span class="tag">&lt;tr&gt;</span>
            <span class="tag">&lt;td&gt;</span>2<span class="tag">&lt;/td&gt;</span>
            <span class="tag">&lt;td&gt;</span>Text 1<span class="tag">&lt;/td&gt;</span>
            <span class="tag">&lt;td&gt;</span>Text 2<span class="tag">&lt;/td&gt;</span>
            <span class="tag">&lt;td&gt;</span>Text 3<span class="tag">&lt;/td&gt;</span>
        <span class="tag">&lt;/tr&gt;</span>
    <span class="tag">&lt;/table&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If the attribute <code>data-bsi-show-pagination-field</code> is set, the checkbox <code>with Pagination</code> will be displayed in the configuration of the table content element. In order to use pagination, the checkbox should be activated.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/table-with-pagination.png" alt="table with pagination">
</div>
</div>
<div class="sect4">
<h5 id="limitations"><a class="anchor" href="#limitations"></a>3.5.7.1. Limitations</h5>
<div class="paragraph">
<p>There are some limitations to pagination:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pagination has only been implemented for tables (i.e. the element part <code>table</code>).</p>
</li>
<li>
<p>The pagination can only be used directly in a website. We do not support the embedding of such a table in an include. Other content (for example for landing pages) is also not supported.</p>
</li>
<li>
<p>To enable a meaningful display of the handlebars code in the website editor, the Handlebars templates are rendered when the editor is initially loaded. Afterwards, the rendering happens only exceptionally. This can lead to the display being incorrect if page-dependent elements (such as <em>{{navigation.activePage}}</em>) are used in the template.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="metadata-images-for-the-navigation"><a class="anchor" href="#metadata-images-for-the-navigation"></a>3.5.8. Metadata / Images for the navigation</h4>
<div class="imageblock">
<div class="content">
<img src="./images/header_data.png" alt="header data">
</div>
</div>
<div class="paragraph">
<p>Each page and each folder of a website can have JSON metadata and an image to describe the navigation. These two elements are special, because they can only be edited programmatically and within a project-specific step. A possible use case is a REST webservice, which is embedded to the design through javascript. The project-specific step can return the image and the metadata on a GET request. This allows the rendered website to give images and information to the navigation.</p>
</div>
<div class="paragraph">
<p>These two attributes are invisible per default. However, they can be enabled through the CX setting <em>Website-Editor</em>. Both attributes are the same for every language, so it&#8217;s <em>not</em> possible to deposit different images for a German and an English website.</p>
</div>
</div>
<div class="sect3">
<h4 id="security-google-recaptcha"><a class="anchor" href="#security-google-recaptcha"></a>3.5.9. Security - Google reCAPTCHA</h4>
<div class="paragraph">
<p>It&#8217;s highly advised to use the Google reCAPTCHA service "I&#8217;m not a robot", when using username/password authentication with non-internal users (public). For that we use the optional CX module <code>com.bsiag.studio.media.googlerecaptcha</code>, which can be configured in the CX settings.</p>
</div>
<div class="paragraph">
<p>Example for including the dependency in the CX app and the dev pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">    <span class="comment">&lt;!-- google reCAPTCHA service for website step --&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
      <span class="tag">&lt;groupId&gt;</span>com.bsiag.studio<span class="tag">&lt;/groupId&gt;</span>
      <span class="tag">&lt;artifactId&gt;</span>com.bsiag.studio.media.googlerecaptcha<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A script can be included on the website&#8217;s design.html:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;script</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.google.com/recaptcha/enterprise.js</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">async</span> <span class="attribute-name">defer</span><span class="tag">&gt;</span><span class="tag">&lt;/script&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The captcha-field can be added to the login form of the content-elements.html as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;form</span> <span class="attribute-name">...</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">login-form</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
...
<span class="comment">&lt;!-- Content Element: Google reCAPTCHGA Enterprise --&gt;</span>
<span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-field</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-field-container form-field</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;label</span> <span class="attribute-name">data-bsi-remove-if</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">live</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{bsi.nls &quot;captcha&quot;}}<span class="tag">&lt;/label&gt;</span>
  <span class="tag">&lt;input</span> <span class="attribute-name">data-bsi-remove-if</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">live</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-form-field-type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">captcha</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Google reCAPTCHA</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">g-recaptcha-response</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">g-recaptcha-response</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">g-recaptcha</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-sitekey</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">the site key from the google api recaptcha registration</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-action</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">login</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The label text can be added to the design.json as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">    <span class="key"><span class="delimiter">&quot;</span><span class="content">captcha</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">*</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Captcha</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">de</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Captcha</span><span class="delimiter">&quot;</span></span>
    },</code></pre>
</div>
</div>
<div class="paragraph">
<p>After that, the field ID of the captcha field (on the website, that uses the design, simply open the edit dialogue and scroll down to the captcha field ID) has to be set to <code>g-recaptcha-response</code>. This value has to match the settings of the Google reCAPTCHA in the administration view.</p>
</div>
<div class="paragraph">
<p>The last step is to generate a reCAPTCHA key on the Google Cloud of the customer/company and register it in the settings under <em>Administration</em> - <em>Customer Experience</em> - <em>Settings</em> - <code>Google reCAPTCHA Settings</code>.</p>
</div>
<div class="paragraph">
<p>For local testing, the URL of the BSI CX website <em>can&#8217;t</em> be <code>localhost</code>. For this purpose, the local domain <code>bsiag.local</code> may be used. Simply go to the administration view - <em>CX</em> - <em>Settings</em> under <code>base URL for public links</code> and register a second path, e.g. <code>bsiw0160</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">_type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">start.BaseUrlSetting</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">default</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">inboundBaseUrl</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://bsiw0160.bsiag.local:8085/inbound/default</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">qualifier</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">default</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">resourceBaseUrl</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://bsiw0160.bsiag.local:8085/dev/resources</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then select this URL on the smart field <code>base path</code> on the website step.</p>
</div>
<div class="paragraph">
<p>Here is an approximate guide for the creation of a reCAPTCHA site on the example of BSI (customers have to adapt it to their company):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create project: BSI CX - Website Step &#8594; projectId=bsi-cx-website-step</p>
</li>
<li>
<p>Add the service <code>reCAPTCHA Enterprise API</code> to the project</p>
</li>
<li>
<p>Create login/access data for that api by creating a service account <code>Service account for bsi cx</code> with role <code>recaptcha enterprise agent</code> &#8594; serviceAccountId=service-account-for-bsi-cx</p>
</li>
<li>
<p>Add access key (json file) for that agent service account in IAM section of Google Cloud &#8594; credentials json file</p>
</li>
<li>
<p>Create reCAPTCHA site key <a href="https://console.cloud.google.com/security/recaptcha/create?authuser=1&amp;project=bsi-cx-website-step">here</a> (this is just an example)</p>
</li>
<li>
<p>Add domains bsi-software.com and bsiag.local to site &#8594; recaptchaSiteKey=6Lcxp-&#8230;&#8203;._lWrq</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Documentation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://cloud.google.com/recaptcha-enterprise/docs/getting-started?hl=en">Choosing the setup method for reCAPTCHA Enterprise</a></p>
</li>
<li>
<p><a href="https://cloud.google.com/recaptcha-enterprise/docs/libraries?hl=en#cloud-console">reCAPTCHA Enterprise client libraries</a></p>
</li>
<li>
<p><a href="https://console.cloud.google.com/marketplace/product/google/recaptchaenterprise.googleapis.com?returnUrl=%2Fsecurity%2Frecaptcha%3Fproject%3Ddspa-course-2019-236311%26folder%3D%26organizationId%3D&amp;authuser=1&amp;project=bsi-customer-suite-website">Marketplace reCAPTCHA Enterprise API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="creation-of-websites-from-existing-landingpage-templates"><a class="anchor" href="#creation-of-websites-from-existing-landingpage-templates"></a>3.5.10. Creation of websites from existing landingpage templates</h4>
<div class="paragraph">
<p>The following steps are necessary to create a website template from an existing landingpage template:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>For navigation inside the website, the navigation has to be created inside an include.</p>
</li>
<li>
<p>Includes for the header- and footer-area have to be defined inside the <code>design.json</code> file. Furthermore, the <em>Page-Include</em> has to be defined. That area contains the proper content of the website.</p>
</li>
<li>
<p>For landingpages images and other resources of the design can be referenced with relative paths. Because the base URL of a website points to the location of the website and not to the design, the handlebars template <code>{{designBaseUrl}}</code> needs to be put in front of every design resource URL. For example, <code>"img/my-image.jpg"</code> has to be converted to <code>"{{designBaseUrl}}/img/my-image.jpg"</code>. The handlebars template is replaced with the design&#8217;s correct URL by the CX server on runtime.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="teasers"><a class="anchor" href="#teasers"></a>3.6. Teasers</h3>
<div class="paragraph">
<p>Teasers are personalized data tailored by CX.
An external system can request teaser data via EIP.
The response is a JSON object which contains personalized text, images and callback URLs to CX.
The external system renders the JSON data into HTML and uses existing tools and libraries in that specific web frontend.</p>
</div>
<div class="paragraph">
<p>However, teasers can also be used internally in CX, for instance in landingpages, in e-mails and in websites.
For that CX provides a special content element, which is rendered server- or client-side.
Like the external system, CX requests teaser data from EIP when the content element is rendered.</p>
</div>
<div class="paragraph">
<p>Depending on the use case, CX design- and content authors can use either server- or client-side rendering:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>E-mail</strong>: only server-side rendering is possible</p>
</li>
<li>
<p><strong>Landingpages</strong>: server- or client-side rendering</p>
</li>
<li>
<p><strong>Websites</strong>: server- or client-side rendering</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="server-side-rendering"><a class="anchor" href="#server-side-rendering"></a>3.6.1. Server-side Rendering</h4>
<div class="paragraph">
<p>The CX design must provide a teaser content element, based on a Handlebars template.</p>
</div>
<div class="paragraph">
<p>Here is an example for a teaser content element (teaser.hbs):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="handlebars">{{#if numTeasers}}&lt;div class=&quot;teaser-display&quot; data-bsi-element=&quot;teaser-display&quot;
     data-bsi-teaser-rendering=&quot;{{teaserRendering.value}}&quot;
     data-bsi-teaser-target=&quot;{{teaserTarget.value}}&quot;&gt;
    &lt;img src=&quot;{{teasers.[0].imageUrl}}&quot; alt=&quot;&quot; class=&quot;teaser-image-url&quot;&gt;
    &lt;div class=&quot;teaser-text&quot;&gt;{{{teasers.[0].text}}}&lt;/div&gt;
    &lt;a href=&quot;{{teasers.[0].ctaUrl}}&quot; class=&quot;button cc-jumbo-button w-inline-block teaser-cta-url&quot;&gt;
        &lt;div class=&quot;teaser-cta-text&quot;&gt;{{teasers.[0].ctaText}}&lt;/div&gt;
    &lt;/a&gt;
&lt;/div&gt;{{/if}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is an example for the context file for the teaser content element (teaser-context.json):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">teaserTarget</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Standard</span><span class="delimiter">&quot;</span></span>
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">teaserRendering</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">server-side</span><span class="delimiter">&quot;</span></span>
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">numTeasers</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">teasers</span><span class="delimiter">&quot;</span></span>: [
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">imageUrl</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">{{designBaseUrl}}/img/placeholder.svg</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Lorem ipsum dolor sit amet.</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">ctaUrl</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">ctaText</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Dolore Magna</span><span class="delimiter">&quot;</span></span>
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following properties in the JSON are mandatory:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>numTeasers</strong>: a teaser request may return 0 to <em>n</em> teasers.
Check this value to control, whether the teaser should appear in the DOM.
The CX framework sets this value to 0 if the current participant is not a CRM customer, or EIP returned no teasers for the current participant.</p>
</li>
<li>
<p><strong>teasers</strong>: an array of teasers, ordered by priority.
Note that the teaser data is not fixed and depends on the content configuration.
See the chapter about the JSON design to understand how the teaser data is configured in CX.
Usually you build a specific to teaser content element to render a fixed set of teaser data properties.
The property names form the contract between the CX content configuration for the teaser,
and the Handlebars code in the content element.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You must set these properties in the context JSON, in order to render a proper preview in the CX content editor.
All other properties in the context JSON are regular properties required for the Handlebars feature.
In this example the design defines two fields 'teaserTarget' and 'teaserRendering' for this content element.</p>
</div>
<div class="paragraph">
<p>The following data BSI attributes, can be used for teaser content elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>data-bsi-teaser-rendering</code> controls whether the content element is rendered by the CX server.
If the value is set to <code>server-side</code>, fixed in the template or by the content editor,
the CX framework will load the Handlebars template for this content element, request the teaser data
from EIP, will render the Handlebars template into HTML and replace the content element in the DOM.</p>
</li>
<li>
<p><code>data-bsi-teaser-target</code> this value is set either fixed in the template or by the content editor.
Valid teaser targets are configured in the CX settings.
In the content you can specify a target for the teaser content element.
This target is added to the request when CX requests a teaser from EIP.
Example value: <code>Standard</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="client-side-rendering"><a class="anchor" href="#client-side-rendering"></a>3.6.2. Client-side Rendering</h4>
<div class="paragraph">
<p>If the value for the attribute <code>data-bsi-teaser-rendering</code> is set to <code>client-side</code> the HTML remains untouched by the CX backend.
However, the attribute <code>data-bsi-teaser-endpoint</code> will be added to the DOM.
The attribute value provides an absolute URL to make a REST call from the web frontend to the EIP system.</p>
</div>
<div class="paragraph">
<p>If your CX design must support client-side rendering, you need to add some JavaScript code to your design.
A simple example implementation can look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="comment">/**
 * Initializes the teasers in the document. This method is a blueprint for other frontend implementations,
 * not only in BSI CX designs, but also in external CMS or websites. Here, the endpoint URL is provided by
 * the BSI CX backend. The URL consists of these 3 parts:
 *
 * 1. The EIP host and path to the interface
 * 2. The teaser target (e.g. 'Standard')
 * 3. The teaser user ID (typically a UUID)
 *
 * Example: https://eip.bsi-software-com/web-api/get-teaser/Standard/1234567890
 */</span>
<span class="keyword">function</span> <span class="function">initTeasers</span>() {
  let <span class="predefined">$elements</span> = document.querySelector(<span class="string"><span class="delimiter">'</span><span class="content">[data-bsi-teaser-endpoint]</span><span class="delimiter">'</span></span>);
  <span class="keyword">if</span> (!<span class="predefined">$elements</span>) {
    <span class="keyword">return</span>; <span class="comment">// Skip. There are no teasers to handle.</span>
  }

  Array.of(<span class="predefined">$elements</span>).forEach(<span class="predefined">$e</span> =&gt; {
    let teaserEndpoint = <span class="predefined">$e</span>.getAttribute(<span class="string"><span class="delimiter">'</span><span class="content">data-bsi-teaser-endpoint</span><span class="delimiter">'</span></span>);
    <span class="keyword">if</span> (!teaserEndpoint) {
      console.log(<span class="string"><span class="delimiter">'</span><span class="content">Teaser endpoint attribute is empty -&gt; Skip teaser request, hide teaser content element.</span><span class="delimiter">'</span></span>);
      <span class="predefined">$e</span>.classList.add(<span class="string"><span class="delimiter">&quot;</span><span class="content">w-hidden</span><span class="delimiter">&quot;</span></span>);
      <span class="keyword">return</span>;
    }
    console.log(<span class="string"><span class="delimiter">'</span><span class="content">Request teaser. Endpoint:</span><span class="delimiter">'</span></span>, teaserEndpoint);
    fetch(teaserEndpoint)
        .then(response =&gt; {
          response.json().then(response =&gt; {
            console.log(<span class="string"><span class="delimiter">'</span><span class="content">REST response for teaser:</span><span class="delimiter">'</span></span>, response);
            <span class="keyword">if</span> (!Array.isArray(response)) {
              <span class="keyword">throw</span> <span class="keyword">new</span> Error(<span class="string"><span class="delimiter">'</span><span class="content">Expected an array as teaser response</span><span class="delimiter">'</span></span>);
            }
            let numTeasers = response.length;
            <span class="keyword">if</span> (!numTeasers) {
              <span class="keyword">throw</span> <span class="keyword">new</span> Error(<span class="string"><span class="delimiter">'</span><span class="content">Teaser response is empty</span><span class="delimiter">'</span></span>);
            }
            console.log(<span class="string"><span class="delimiter">'</span><span class="content">Teaser response contains </span><span class="delimiter">'</span></span> + numTeasers + <span class="string"><span class="delimiter">'</span><span class="content"> teaser elements. Using first element...</span><span class="delimiter">'</span></span>);
            let teaser = response[<span class="integer">0</span>];
            <span class="predefined">$e</span>.querySelector(<span class="string"><span class="delimiter">'</span><span class="content">.teaser-text</span><span class="delimiter">'</span></span>).innerHTML = teaser.text;
            <span class="predefined">$e</span>.querySelector(<span class="string"><span class="delimiter">'</span><span class="content">.teaser-image-url</span><span class="delimiter">'</span></span>).setAttribute(<span class="string"><span class="delimiter">'</span><span class="content">src</span><span class="delimiter">'</span></span>, teaser.imageUrl);
            <span class="predefined">$e</span>.querySelector(<span class="string"><span class="delimiter">'</span><span class="content">.teaser-cta-text</span><span class="delimiter">'</span></span>).innerText = teaser.ctaText;
            <span class="predefined">$e</span>.querySelector(<span class="string"><span class="delimiter">'</span><span class="content">.teaser-cta-url</span><span class="delimiter">'</span></span>).setAttribute(<span class="string"><span class="delimiter">'</span><span class="content">href</span><span class="delimiter">'</span></span>, teaser.ctaUrl);
          });
        })
        .<span class="keyword">catch</span>(reason =&gt; {
          console.error(<span class="string"><span class="delimiter">'</span><span class="content">REST request for teaser failed</span><span class="delimiter">'</span></span>, reason);
        });
  });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This function manipulates the DOM to apply the values from the teaser data request.
See the code snippet for the <code>teaser.hbs</code> above, to understand how the HTML looks like for this example.
Also note that some properties values can contain HTML, to avoid security issues, you should always sanitize the HTML before adding it to the DOM.</p>
</div>
<div class="paragraph">
<p>When the CX backend detects, that it is not possible to request teaser data, for the current participant in CX,
  the attribute <code>data-bsi-teaser-endpoint</code> will be empty.
This can happen, if the participant is not a CRM customer.
In that case the design author should skip the REST request and hide the teaser content element, or show a generic placeholder instead.</p>
</div>
</div>
<div class="sect3">
<h4 id="the-json-design-teaser-content-type"><a class="anchor" href="#the-json-design-teaser-content-type"></a>3.6.3. The JSON Design / Teaser Content Type</h4>
<div class="paragraph">
<p>You have already learned that teasers are basically JSON data.
This means a content author must configure JSON data for a teaser, as he or she would do with HTML content.
In order to do that, CX defines the content type 'Teaser'.</p>
</div>
<div class="paragraph">
<p>CX comes with a special built-in design for this content type.
Basically this design type works as a regular HTML based design.
CX uses the regular content editor to work with teaser content.
However, although we work with HTML content in the content editor, this content is later transformed to JSON data by the CX framework.</p>
</div>
<div class="paragraph">
<p>In order to do that, the content elements in the JSON design must use the following data BSI attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>data-bsi-json-property</code> Defines the JSON property name.
By default, the value for the property name is extracted from the body of the DOM element where this attribute is defined.</p>
</li>
<li>
<p><code>data-bsi-json-value-attribute</code> Optional attribute used in case, where the value is not stored in the body of the DOM element,
but must be extracted from an attribute. See <em>Example 2</em> below.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="handlebars">&lt;div class=&quot;content-element-wrap&quot; data-bsi-element=&quot;plain-text&quot;&gt;
  &lt;div class=&quot;json-property&quot;&gt;{{jsonProperty.value}}&lt;/div&gt;
  &lt;div class=&quot;paragraph-light&quot; data-bsi-json-property=&quot;{{jsonProperty.value}}&quot;&gt;{{value.value}}&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Example 1: a simple plain text content element for the JSON editor.
The content user can freely define a property name in the content editor.</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="handlebars">&lt;div class=&quot;detail-image-container&quot; data-bsi-element=&quot;image&quot;&gt;
&lt;div class=&quot;json-property&quot;&gt;{{jsonProperty.value}}&lt;/div&gt;
&lt;img src=&quot;{{image.srcUrl}}&quot; width=&quot;920&quot; alt=&quot;&quot; class=&quot;detail-image&quot;
    data-bsi-json-property=&quot;{{jsonProperty.value}}&quot; data-bsi-json-value-attribute=&quot;src&quot;&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Example 2: an image element for the JSON editor.
The content user can freely define a property name in the content editor.</em></p>
</div>
<div class="paragraph">
<p>Note, the DIV with the class "json-property" is just eye candy to visualize the property name in the content editor (see the image below).</p>
</div>
<div class="paragraph">
<p>As in a regular design, you can use existing element parts to build your JSON content elements,
like the image element part, for choosing images from the CX media library.</p>
</div>
<div class="paragraph">
<p>You can also build JSON content elements that emit multiple json properties,
like a CTA button that emits a ctaText and a ctaUrl.</p>
</div>
<div class="paragraph">
<p>With that you can provide a reasonable content preview to the content user, although he or she configures just JSON data.
This is how the JSON design looks like in the content editor:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/json-design-preview.png" alt="json design preview">
</div>
</div>
<div class="sect4">
<h5 id="fixed-json-designs"><a class="anchor" href="#fixed-json-designs"></a>3.6.3.1. Fixed JSON Designs</h5>
<div class="paragraph">
<p>For rapid prototyping it is very convenient to have a flexible JSON design, which allows to define arbitrary property names.</p>
</div>
<div class="paragraph">
<p>However, in a real-life project you want to fix property names, because they are the contract between the CX content,
  the teaser data stored in EIP, the design which must render that data or even an external third party system,
  which must render teaser data.</p>
</div>
<div class="paragraph">
<p>For that purpose the CX design developer can make a <em>fixed</em> JSON design.
In that design all property names are pre-defined, and they can not be changed by the content author.
It is also not possible to add additional content elements or remove existing content elements.
All this is achieved by using the existing CX design features, like hiding copy and remove buttons in the content editor
  or limiting the number of content elements in a dropzone.
In comparison to the examples above a fixed plain text element can look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="handlebars">&lt;div class=&quot;content-element-wrap&quot; data-bsi-element=&quot;plain-text&quot;&gt;
  &lt;div class=&quot;json-property&quot;&gt;plainText&lt;/div&gt;
  &lt;div class=&quot;paragraph-light&quot; data-bsi-json-property=&quot;plainText&quot;&gt;{{value.value}}&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Example 3: a plain text content element for the JSON editor.
The property name is fixed (plainText) and can not be changed by the content user.</em></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="designbuild"><a class="anchor" href="#designbuild"></a>4. CX Design Build</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
As of BSI CX 22.0, the <a href="https://github.com/bsi-software/bsi-cx-design-build">design build</a> has been introduced and supersedes the previous CX design creator. Please refer to version 16.3 of the <a href="https://bsi-software.github.io/bsi-cx-docs/">CX design documentation</a> for more information about the CX design creator.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/bsi-software/bsi-cx-design-build">design build</a> was developed to facilitate the creation of templates. The NPM build compiles ZIP files that are uploaded to BSI CX using a webpack build.</p>
</div>
<div class="paragraph">
<p>The CX design build has the following functionality and tasks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Parsing Twig templates for HTML</p>
</li>
<li>
<p>Formatting the generated HTML "nicely" and validating it</p>
</li>
<li>
<p>Parsing SCSS/SASS to CSS</p>
</li>
<li>
<p>Minifying and autoprefixing CSS</p>
</li>
<li>
<p>Merging and minifying JavaScript</p>
</li>
<li>
<p>Creating the ZIP file for the upload to BSI CX</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A detailed description of the application and the configuration options of the design build are documented in the <a href="https://github.com/bsi-software/bsi-cx-design-build/wiki">design build wiki at GitHub</a>.</p>
</div>
<div class="paragraph">
<p>Please note: When creating designs with the CX design build, the generated artifacts (i.e., HTML, CSS, and JavaScript files) should not be directly edited. Instead, any modifications should be made in the source code itself.</p>
</div>
<div class="paragraph">
<p>Of course, you can also use a separate tool stack to develop a design.
We do not recommend the development of a design directly in HTML, CSS, and JavaScript.
This may work with small templates, but it quickly becomes confusing and error prone.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design-build-migration-guide"><a class="anchor" href="#design-build-migration-guide"></a>5. Migrate an existing design to the new build</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter provides a short migration guide to the conversion of an existing design for CX version 1.3 or lower to the <a href="https://github.com/bsi-software/bsi-cx-design-build">new design build</a>.
For basic information on the new design build, please consider the <a href="https://github.com/bsi-software/bsi-cx-design-build/wiki">corresponding Wiki page on GitHub</a>.</p>
</div>
<div class="paragraph">
<p>As a first step of the migration, it is required to set up the project structure.
It&#8217;s recommended that you start with the <a href="https://github.com/bsi-software/bsi-cx-scaffold-design">Scaffold Design</a> instead of creating the structure all by yourself.
Also consider reading <a href="https://github.com/bsi-software/bsi-cx-design-build/wiki/First-Steps">this chapter</a> before you start with the migration.</p>
</div>
<div class="sect2">
<h3 id="content-elements-2"><a class="anchor" href="#content-elements-2"></a>5.1. Content Elements</h3>
<div class="paragraph">
<p>Now you can start the migration by transforming the content elements.
This step will be explained on an example:</p>
</div>
<div class="listingblock">
<div class="title">Listing 74. Content element from the old design creator build.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="twig">&lt;div class=&quot;content-element image-wrapper&quot; data-bsi-element=&quot;image&quot;&gt;
    &lt;div class=&quot;row&quot;&gt;
        &lt;div class=&quot;flex&quot;&gt;
            &lt;div class=&quot;element&quot;&gt;
                &lt;div class=&quot;image&quot;&gt;
                    &lt;img data-bsi-element-part=&quot;image&quot; src=&quot;{{ src ?: baseUrl|raw ~ &quot;/img/placeholder.jpg&quot; }}&quot; alt=&quot;&quot; /&gt;
                &lt;/div&gt;
                &lt;div class=&quot;image-legend&quot; data-bsi-element-part=&quot;plain-text&quot;&gt;{{ legend ?: &quot;Lorem ipsum image description&quot; }}&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 75. Corresponding entry in the design.properties file.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">element.image.label=Image
element.image.description=with description
element.image.icon=image
element.image.parts.image.label=Image
element.image.parts.plain-text.label=Description</code></pre>
</div>
</div>
<div class="paragraph">
<p>The content elements are usually organized in Twig files inside a <code>content-elements</code> folder.
While the corresponding properties are placed in a single <code>design.properties</code> file.
In the new build process, it&#8217;s recommended to keep it all together in a single folder and separated from any other content element.
So take a look on the existing content elements from the scaffold design.
They are all nicely organized in separate folders.
So create a new folder for your own element:</p>
</div>
<div class="listingblock">
<div class="title">Listing 76. Folder structure of a single content element.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">.
â””â”€â”€â”€image
        index.js <i class="conum" data-value="1"></i><b>(1)</b>
        placeholder.jpg <i class="conum" data-value="2"></i><b>(2)</b>
        template.twig <i class="conum" data-value="3"></i><b>(3)</b>
        styles.less <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This file will contain the content element specification.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Feel free to place any content element related assets here.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The Twig template for our content element.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Any content element related Stylesheets.
This can also be a LESS or SASS file.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Create the <code>index.js</code> and <code>template.twig</code> files inside this folder and feel free to add any related assets too.
In our example, we add the <code>placeholder.jpg</code> here.
Now we can create the <code>template.twig</code>:</p>
</div>
<div class="listingblock">
<div class="title">Listing 77. The transformed template for the content element.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="twig">&lt;div class=&quot;content-element image-wrapper&quot; data-bsi-element=&quot;image&quot;&gt;
    &lt;div class=&quot;row&quot;&gt;
        &lt;div class=&quot;flex&quot;&gt;
            &lt;div class=&quot;element&quot;&gt;
                &lt;div class=&quot;image&quot;&gt;
                    &lt;img data-bsi-element-part=&quot;image&quot; src=&quot;{{ url ?: bsi_cx_asset('./placeholder.jpg') }}&quot; alt=&quot;&quot; /&gt;
                &lt;/div&gt;
                &lt;div class=&quot;image-legend&quot; data-bsi-element-part=&quot;plain-text&quot;&gt;{{ legend ?: &quot;Lorem ipsum image description&quot; }}&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 78. The content element specification in the <code>index.js</code> file.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">require(<span class="string"><span class="delimiter">'</span><span class="content">./styles.less</span><span class="delimiter">'</span></span>); <i class="conum" data-value="1"></i><b>(1)</b>

const {cx, Icon} = require(<span class="string"><span class="delimiter">'</span><span class="content">@bsi-cx/design-build</span><span class="delimiter">'</span></span>); <i class="conum" data-value="2"></i><b>(2)</b>

module.exports = cx.contentElement
  .withElementId(<span class="string"><span class="delimiter">'</span><span class="content">image</span><span class="delimiter">'</span></span>)
  .withLabel(<span class="string"><span class="delimiter">'</span><span class="content">Image</span><span class="delimiter">'</span></span>)
  .withDescription(<span class="string"><span class="delimiter">'</span><span class="content">with description</span><span class="delimiter">'</span></span>)
  .withIcon(Icon.IMAGE)
  .withFile(require(<span class="string"><span class="delimiter">'</span><span class="content">./template.twig</span><span class="delimiter">'</span></span>))
  .withParts(
    cx.part.image
      .withLabel(<span class="string"><span class="delimiter">'</span><span class="content">Image</span><span class="delimiter">'</span></span>),
    cx.part.plainText
      .withLabel(<span class="string"><span class="delimiter">'</span><span class="content">Description</span><span class="delimiter">'</span></span>));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Include any related stylesheets right at the beginning of your content element specification.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Be sure you use <code>require()</code> instead of <code>import</code>.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Be aware, that there are some advanced features available with the new design build.
For example <a href="https://github.com/bsi-software/bsi-cx-design-build/wiki/Design-Reference#content-element-part">referenced content element parts</a>, which can be useful in complex content elements.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once you have finished creating your content element, you can include them in your design specification.
The design specification is contained in the <code>design.js</code> file and replaces the <code>design.properties</code>.
You find the <code>design.js</code> at the root folder of your template.</p>
</div>
<div class="listingblock">
<div class="title">Listing 79. The design specification for the transformed design.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">require(<span class="string"><span class="delimiter">'</span><span class="content">./styles/styles.scss</span><span class="delimiter">'</span></span>); <i class="conum" data-value="1"></i><b>(1)</b>

const {cx, Design} = require(<span class="string"><span class="delimiter">'</span><span class="content">@bsi-cx/design-build</span><span class="delimiter">'</span></span>);

<span class="comment">/**
 * @type {Design}
 */</span>
module.exports = cx.design
  .withTitle(<span class="string"><span class="delimiter">'</span><span class="content">BSI - Landingpage</span><span class="delimiter">'</span></span>) <i class="conum" data-value="2"></i><b>(2)</b>
  .withAuthor(<span class="string"><span class="delimiter">'</span><span class="content">BSI Business Systems Integration AG</span><span class="delimiter">'</span></span>) <i class="conum" data-value="3"></i><b>(3)</b>
  .withDate(<span class="string"><span class="delimiter">'</span><span class="content">14.04.2022</span><span class="delimiter">'</span></span>)
  .withContentElementGroups(
    cx.contentElementGroup
      .withGroupId(<span class="string"><span class="delimiter">'</span><span class="content">content</span><span class="delimiter">'</span></span>)
      .withLabel(<span class="string"><span class="delimiter">'</span><span class="content">Content</span><span class="delimiter">'</span></span>)
      .withContentElements(
        require(<span class="string"><span class="delimiter">'</span><span class="content">./content-elements/content/image</span><span class="delimiter">'</span></span>), <i class="conum" data-value="4"></i><b>(4)</b>
        require(<span class="string"><span class="delimiter">'</span><span class="content">./content-elements/content/text</span><span class="delimiter">'</span></span>)));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You can also include global stylesheets (CSS, LESS or SASS) here.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Title of this template, corresponds to the <code>template.name</code> from the <code>design.properties</code> file.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The author of this template, corresponds to the <code>template.author</code> from the <code>design.properties</code> file.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>This is our transformed content element.
The path points to the folder.
Since it contains an <code>index.js</code>, it&#8217;s not required to mention the filename here.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="styles-2"><a class="anchor" href="#styles-2"></a>5.2. Styles</h3>
<div class="paragraph">
<p>If your content element uses any <a href="#styles">Styles</a>, you must transform them to a Java Script styles definition:</p>
</div>
<div class="listingblock">
<div class="title">Listing 80. The style definition in the old <code>design.properties</code> format.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">style.element-width.label=Element width
style.element-width.class.element-with-unset.label=None
style.element-width.class.element-width-full.label=Full
style.element-width.class.element-width-left-right.label=Label left, field right</code></pre>
</div>
</div>
<div class="paragraph">
<p>The transformation to the new format is pretty straightforward:</p>
</div>
<div class="listingblock">
<div class="title">Listing 81. The style definition in the new Java Script format.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">const {cx} = require(<span class="string"><span class="delimiter">'</span><span class="content">@bsi-cx/design-build</span><span class="delimiter">'</span></span>);

module.exports = cx.style
  .withIdentifier(<span class="string"><span class="delimiter">'</span><span class="content">element-width</span><span class="delimiter">'</span></span>)
  .withLabel(<span class="string"><span class="delimiter">'</span><span class="content">Element width</span><span class="delimiter">'</span></span>)
  .withCssClasses(
    cx.cssClass
      .withLabel(<span class="string"><span class="delimiter">'</span><span class="content">None</span><span class="delimiter">'</span></span>)
      .withCssClass(<span class="string"><span class="delimiter">'</span><span class="content">element-with-unset</span><span class="delimiter">'</span></span>),
    cx.cssClass
      .withLabel(<span class="string"><span class="delimiter">'</span><span class="content">Full</span><span class="delimiter">'</span></span>)
      .withCssClass(<span class="string"><span class="delimiter">'</span><span class="content">element-width-full</span><span class="delimiter">'</span></span>),
    cx.cssClass
      .withLabel(<span class="string"><span class="delimiter">'</span><span class="content">Label left, field right</span><span class="delimiter">'</span></span>)
      .withCssClass(<span class="string"><span class="delimiter">'</span><span class="content">element-width-left-right</span><span class="delimiter">'</span></span>));</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s recommended to place the style definition in a separate Java Script file.
If your style is exclusively for one element, you can place the file right next to the element definition.
Otherwise, you should put it in the <code>configs/styles</code> folder inside your template root.
To use a style in your content element, simply reference the file:</p>
</div>
<div class="listingblock">
<div class="title">Listing 82. Use a style definition in your content element.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">const {cx, Icon} = require(<span class="string"><span class="delimiter">'</span><span class="content">@bsi-cx/design-build</span><span class="delimiter">'</span></span>);

module.exports = cx.contentElement
  .withElementId(<span class="string"><span class="delimiter">'</span><span class="content">image</span><span class="delimiter">'</span></span>)
  .withLabel(<span class="string"><span class="delimiter">'</span><span class="content">Image</span><span class="delimiter">'</span></span>)
  .withDescription(<span class="string"><span class="delimiter">'</span><span class="content">with description</span><span class="delimiter">'</span></span>)
  .withIcon(Icon.IMAGE)
  .withFile(require(<span class="string"><span class="delimiter">'</span><span class="content">./template.twig</span><span class="delimiter">'</span></span>))
  .withStyleConfigs(require(<span class="string"><span class="delimiter">'</span><span class="content">../../../configs/styles/fade-out</span><span class="delimiter">'</span></span>)) <i class="conum" data-value="1"></i><b>(1)</b>
  .withParts(
    cx.part.image
      .withLabel(<span class="string"><span class="delimiter">'</span><span class="content">Image</span><span class="delimiter">'</span></span>),
    cx.part.plainText
      .withLabel(<span class="string"><span class="delimiter">'</span><span class="content">Description</span><span class="delimiter">'</span></span>));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Just pass the style definition to the builder using <code>withStyleConfigs()</code> and <code>require()</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="design-and-preview-templates"><a class="anchor" href="#design-and-preview-templates"></a>5.3. Design and Preview Templates</h3>
<div class="paragraph">
<p>To bundle your design and preview templates, create a new <code>preview.twig</code> and <code>design.twig</code> file inside the template root folder.
To prevent code duplication, it&#8217;s recommended to create a <code>_layout.twig</code> template and extend it in your <code>design.twig</code> and <code>preview.twig</code>.
Take a look at the following example:</p>
</div>
<div class="listingblock">
<div class="title">Listing 83. The contents of a simple <code>_layout.twig</code> template.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="twig">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;/&gt;
    &lt;title&gt;{{ properties.title }}&lt;/title&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;{{ bsi_cx_css_href() }}&quot;/&gt; <i class="conum" data-value="1"></i><b>(1)</b>
&lt;/head&gt;
&lt;body class=&quot;d-flex flex-column min-vh-100&quot;&gt;
{% apply spaceless %}
    &lt;header id=&quot;header&quot; data-bsi-dropzone=&quot;header&quot;&gt;
        {% block header %}{% endblock %}
    &lt;/header&gt;
    &lt;main id=&quot;content&quot; data-bsi-dropzone=&quot;content&quot;&gt;
        {% block content %}{% endblock %}
    &lt;/main&gt;
    &lt;footer id=&quot;footer&quot; data-bsi-dropzone=&quot;footer&quot;&gt;
        {% block footer %}{% endblock %}
    &lt;/footer&gt;
{% endapply %}
    &lt;script src=&quot;{{ bsi_cx_js_module_runtime_href() }}&quot; data-bsi-remove-if=&quot;draft&quot; defer=&quot;defer&quot;&gt;&lt;/script&gt; <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;script src=&quot;{{ bsi_cx_js_module_href('main') }}&quot; data-bsi-remove-if=&quot;draft&quot; defer=&quot;defer&quot;&gt;&lt;/script&gt; <i class="conum" data-value="3"></i><b>(3)</b>
    {{ bsi_cx_js_module_missing_chunks_import() }} <i class="conum" data-value="4"></i><b>(4)</b>
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use the <code>bsi_cx_css_href()</code> Twig helper to include your stylesheets.
More options can be found <a href="https://github.com/bsi-software/bsi-cx-design-build/wiki/Design-Reference#include-stylesheets">here</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>You can skip this line if you don&#8217;t have any Java Script modules configured.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Use the <code>bsi_cx_js_module_href()</code> Twig helper to include a Java Script module.
You can skip this line if you don&#8217;t have any Java Script modules configured.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>This imports all missing chunks, related to Java Script modules.
You can skip this line if you don&#8217;t have any Java Script modules configured.
More information on including Java Script in your design can be found <a href="https://github.com/bsi-software/bsi-cx-design-build/wiki/Design-Reference#include-javascript">here</a>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now you can extend the blocks from the <code>_layout.twig</code> in your <code>design.twig</code> and <code>preview.twig</code>.
The following example illustrates this step for the <code>design.twig</code>:</p>
</div>
<div class="listingblock">
<div class="title">Listing 84. The <code>design.twig</code> extends the <code>_layout.twig</code>.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="twig">{% extends '_layout.twig' %}

{% block header %}
    {% include './content-elements/header/banner/template.twig' %}
{% endblock %}

{% block content %}
    {% include './content-elements/content/title-h1/template.twig' %}
    {% include './content-elements/content/text/template.twig' %}
{% endblock %}

{% block footer %}
    {% include './content-elements/footer/two-col/template.twig' %}
{% endblock %}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="java-script"><a class="anchor" href="#java-script"></a>5.4. Java Script</h3>
<div class="paragraph">
<p>You have two options to include your Java Script code:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Place them in the <code>static</code> folder inside your templates root and include them with <code>bsi_cx_asset()</code>.</p>
</li>
<li>
<p>Create a module in the <code>modules</code> folder and take full advantage of all modern Java Script.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="stylesheets"><a class="anchor" href="#stylesheets"></a>5.5. Stylesheets</h3>
<div class="paragraph">
<p>Your global can place your global stylesheets directly in the <code>styles</code> folder, located at your template root.
You can also place any content element specific styles here instead of moving them to the specific content element&#8217;s own folder.
To bundle your stylesheets, you must reference them in your <code>design.js</code>:</p>
</div>
<div class="listingblock">
<div class="title">Listing 85. Including a stylesheet in your design.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">require(<span class="string"><span class="delimiter">'</span><span class="content">./styles/styles.scss</span><span class="delimiter">'</span></span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="properties"><a class="anchor" href="#properties"></a>5.6. Properties</h3>
<div class="paragraph">
<p>The new design build uses Java Script files instead of YAML.
The <code>properties.js</code> file is a CommonJS module, that exports a simple Java Script object <code>{}</code>.
Feel free to organize your properties as you wish.
To access the properties inside your stylesheets and templates, you can use the <code>bsiProperty()</code> helper.
Take a look at the following example:</p>
</div>
<div class="listingblock">
<div class="title">Listing 86. Old YAML properties file.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">styles</span>:
    <span class="key">primary-color</span>: <span class="string"><span class="content">'#ed4546'</span></span>
    <span class="key">secondary-color</span>: <span class="string"><span class="content">'#efefef'</span></span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 87. New Java Script properties file.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">const {css} = require(<span class="string"><span class="delimiter">'</span><span class="content">@bsi-cx/design-build</span><span class="delimiter">'</span></span>);

module.exports = {
  <span class="key">styles</span>: {
    <span class="key"><span class="delimiter">'</span><span class="content">primary-color</span><span class="delimiter">'</span></span>: css.color(<span class="string"><span class="delimiter">'</span><span class="content">#ed4546</span><span class="delimiter">'</span></span>),
    <span class="key"><span class="delimiter">'</span><span class="content">secondary-color</span><span class="delimiter">'</span></span>: css.color(<span class="string"><span class="delimiter">'</span><span class="content">#efefef</span><span class="delimiter">'</span></span>)
  }
};</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Use the <code>css</code> helper to get the most out your properties.
More information on this feature can be found <a href="https://github.com/bsi-software/bsi-cx-design-build/wiki/Design-Reference#properties">here</a>.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 88. Access the properties inside your Twig templates.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="twig">{% set color = properties.styles['primary-color'] ?: '#ff00ff' %}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 89. Use the <code>bsiProperty()</code> helper inside your templates.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="less">@color: bsiProperty('styles.primary-color');</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="build-configuration"><a class="anchor" href="#build-configuration"></a>5.7. Build Configuration</h3>
<div class="paragraph">
<p>In order to compile, it&#8217;s required to add your template to the build configuration in the <code>webpack.config.js</code> file at the project root folder.</p>
</div>
<div class="listingblock">
<div class="title">Listing 90. Content of the <code>webpack.config.js</code> build configuration file.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">const path = require(<span class="string"><span class="delimiter">'</span><span class="content">path</span><span class="delimiter">'</span></span>);

const {BuildConfig, ModuleConfig, WebpackConfigBuilder, Version, DesignType} = require(<span class="string"><span class="delimiter">'</span><span class="content">@bsi-cx/design-build</span><span class="delimiter">'</span></span>);

module.exports = WebpackConfigBuilder.fromConfigs(
  <span class="keyword">new</span> BuildConfig()
    .withName(<span class="string"><span class="delimiter">'</span><span class="content">landingpage</span><span class="delimiter">'</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
    .withVersion(<span class="string"><span class="delimiter">'</span><span class="content">1.0.1-alpha</span><span class="delimiter">'</span></span>) <i class="conum" data-value="2"></i><b>(2)</b>
    .withTargetVersion(Version.CX_1_3) <i class="conum" data-value="3"></i><b>(3)</b>
    .withDesignType(DesignType.LANDINGPAGE) <i class="conum" data-value="4"></i><b>(4)</b>
    .withRootPath(path.resolve(__dirname, <span class="string"><span class="delimiter">'</span><span class="content">templates</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">landingpage</span><span class="delimiter">'</span></span>)) <i class="conum" data-value="5"></i><b>(5)</b>
    .withPropertiesFilePath(path.resolve(__dirname, <span class="string"><span class="delimiter">'</span><span class="content">properties.js</span><span class="delimiter">'</span></span>)) <i class="conum" data-value="6"></i><b>(6)</b>
    .withModules(
      <span class="keyword">new</span> ModuleConfig() <i class="conum" data-value="7"></i><b>(7)</b>
        .withPath(<span class="string"><span class="delimiter">'</span><span class="content">main.js</span><span class="delimiter">'</span></span>)
        .withName(<span class="string"><span class="delimiter">'</span><span class="content">main</span><span class="delimiter">'</span></span>)));</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name of this template.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The current version of this template, optional but recommended.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The target BSI CX version. The build is capable of converting a design to the required format of various CX versions.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>What type of design is your template?</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The path to your template root folder. This is where your <code>design.js</code> is located.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The path to your <code>properties.js</code> file.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Configure your Java Script modules here.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="help"><a class="anchor" href="#help"></a>6. Help</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="good-practices"><a class="anchor" href="#good-practices"></a>6.1. Good practices</h3>
<div class="paragraph">
<p>The following things have been established as good practice in some projects. However, this approach is by no means mandatory and may vary depending on the project and individual preferences.</p>
</div>
<div class="sect3">
<h4 id="deleting-or-deprecating-content-elements"><a class="anchor" href="#deleting-or-deprecating-content-elements"></a>6.1.1. Deleting or deprecating content elements</h4>
<div class="paragraph">
<p>As of CX 23.2, it is possible to archive content elements in a design without losing these elements in an existing content after updating the design (see <a href="#archiving-elements">Archiving Content Elements</a>). Instead of deleting content elements, we strongly recommend archiving content elements.</p>
</div>
</div>
<div class="sect3">
<h4 id="refactoring-content-elements"><a class="anchor" href="#refactoring-content-elements"></a>6.1.2. Refactoring content elements</h4>
<div class="paragraph">
<p>While refactoring a content element, keep in mind that your changes to a content element should never break existing content. We strongly advice to test your refactored content element to content that was created under the old design version to make sure that you do not introduce breaking changes. Critical points are renamings, changing the order for element parts and big changes to the DOM structure. In spite of that, we do encourage you to refactor where necessary, remind you to test carefully.
If a refactoring is not possible due to migration issues, adding a new content element and deprecating the preexisting one (see: <a href="#deleting-or-deprecating-content-elements">Deleting or deprecating content elements</a>) is a feasible option.</p>
</div>
</div>
<div class="sect3">
<h4 id="creating-accessible-designs"><a class="anchor" href="#creating-accessible-designs"></a>6.1.3. Creating accessible designs</h4>
<div class="paragraph">
<p>To ensure accessibility in CX contents, several things should be taken into account when developing a design. They help to ensure that screen readers can read out the content in the best possible way and that people with impaired vision will not be disadvantaged.</p>
</div>
<div class="sect4">
<h5 id="layout"><a class="anchor" href="#layout"></a>6.1.3.1. Layout</h5>
<div class="ulist">
<ul>
<li>
<p>All functionalities (form input fields and control elements) should be accessible and operable using the keyboard (tab key). It must also be possible to exit all elements using the keyboard so that the user can navigate through all content.</p>
</li>
<li>
<p>Every website has a correct language declaration. If the main language of the page is English, all texts should be in English. If the intention is to insert text in another language, then this should be marked up accordingly with the lang attribute in the correct language.</p>
</li>
<li>
<p>Enlargement is possible in the browser, both with "Zoom" and by setting a user-defined font size</p>
</li>
<li>
<p>To ensure that screen readers interpret and parse all page content correctly, HTML elements of a website must be implemented in accordance with their W3C specifications. The <a href="https://validator.w3.org/">W3C&#8217;s Markup Validation Services</a> can be used to check whether the source code of a website complies with the W3C specifications.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="styling"><a class="anchor" href="#styling"></a>6.1.3.2. Styling</h5>
<div class="ulist">
<ul>
<li>
<p>The contrast ratio of the font color to the background color is at least 4.5:1</p>
</li>
<li>
<p>The contrast ratio of the font color of large font and the background color is at least 3:1</p>
</li>
<li>
<p>If color differentiation alone is used, e.g. for links in a text, the links have a contrast ratio to the surrounding continuous text of at least 3:1</p>
</li>
<li>
<p>Each element must have a visible focus state that has a contrast ratio of 3:1 to the background or non-focused state</p>
</li>
<li>
<p>No spaces to create spacing, but CSS instead</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="elements"><a class="anchor" href="#elements"></a>6.1.3.3. Elements</h5>
<div class="ulist">
<ul>
<li>
<p>For information-bearing images, the alternative text must describe the visual information</p>
</li>
<li>
<p>Headings are marked with the heading element (h1, h2, &#8230;&#8203; , h6)</p>
</li>
<li>
<p>The text size (font size) in web templates is defined in CSS in % or em</p>
</li>
<li>
<p>Enumerations are formatted as lists (ul, ol, dl)</p>
</li>
<li>
<p>Special text is formatted correctly, e.g. quotes as &lt;blockquote&gt; and &lt;cite&gt;</p>
</li>
<li>
<p>Video content should have synchronous subtitles</p>
</li>
<li>
<p>Data tables are formatted with the necessary markup, e.g. column, row and table headings are labeled and headings and summaries are present</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="forms"><a class="anchor" href="#forms"></a>6.1.3.4. Forms</h5>
<div class="ulist">
<ul>
<li>
<p>Labels are present and meaningful. Labels and associated form input fields are logically linked (implementation with <em>for</em> attribute for label elements). The label should be present prior to the associated input field (exception: checkboxes, radio buttons).</p>
</li>
<li>
<p>Form fields may have an additional information text to describe what input is expected. If, for example, a certain format is expected, this should be described (e.g. <em>"Date format: DD.MM.YYYY"</em>). This text should be placed in front of the input field.</p>
</li>
<li>
<p>Mandatory fields should be marked (e.g. with <em>*</em>). The mandatory field star must not be integrated via CSS, it should be placed directly in the label. The required attribute should be added to the input element.</p>
</li>
<li>
<p>A mandatory field explanation should be provided (e.g. "Please fill in all fields marked with <em>*</em>"). The information must appear before the first mandatory field.</p>
</li>
<li>
<p>Error messages should appear directly below the relevant input field. They should have the attributes <em>aria-live="assertive"</em> (or <em>aria-live="polite"</em>) and <em>role="alert"</em> so that they are read aloud by the screen reader as soon as they appear.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="troubleshooting"><a class="anchor" href="#troubleshooting"></a>6.2. Troubleshooting</h3>
<div class="paragraph">
<p>In this chapter, we are collecting some common issues design developers may face in their development process.</p>
</div>
<div class="sect3">
<h4 id="design-upload"><a class="anchor" href="#design-upload"></a>6.2.1. Design Upload</h4>
<div class="paragraph">
<p>While uploading a design, BSI CX will parse the content of the ZIP file to ensure that the containing design is valid. If the parser detects inconsistencies, an error message is displayed. The following trouble shooting sections will help to correct the error.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
It is helpful to to view the details of the error message by clicking on <strong>Details</strong>, if available.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
In Versions prior to CX 1.2.48, the error message may be cut off in the message box. Use <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>C</kbd></span> and paste the error message to any text file to view the full details.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="validation-error-file-is-missing"><a class="anchor" href="#validation-error-file-is-missing"></a>6.2.1.1. Validation error: File is missing</h5>
<div class="imageblock">
<div class="content">
<img src="./images/invalid_design_error_missing_mandatory_files.png" alt="error message: file is missing">
</div>
<div class="title">Figure 17. error message: file is missing</div>
</div>
<div class="paragraph">
<p>Your upload is missing a mandatory file. Please refer to <a href="#file-format">File format</a> where the mandatory files for your design type is described in detail.</p>
</div>
</div>
<div class="sect4">
<h5 id="validation-error-invalid-content-element-in-data-bsi-dropzone-allowed-elements"><a class="anchor" href="#validation-error-invalid-content-element-in-data-bsi-dropzone-allowed-elements"></a>6.2.1.2. Validation error: Invalid content element in 'data-bsi-dropzone-allowed-elements'</h5>
<div class="imageblock">
<div class="content">
<img src="./images/invalid_design_error_invalid_element_in_dropzone.png" alt="error message: invalid content element in 'data-bsi-dropzone-allowed-elements'">
</div>
<div class="title">Figure 18. error message: invalid content element in 'data-bsi-dropzone-allowed-elements'</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Error message</p>
</li>
<li>
<p>Affected ZIP file</p>
</li>
<li>
<p>Affected file (within the ZIP file)</p>
</li>
<li>
<p>Name of the <em>data-bsi-dropzone</em> in which the error causing content element is placed</p>
</li>
<li>
<p>The name of the content element. In this case, the content element name is missing</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In one of your <code>data-bsi-dropzone-allowed-elements=''</code> definitions, there is an element listed which does not exist in the <code>content-elements.html</code> file. Common cases where this happens:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A content element has been deleted but it is still referred by a dropzone</p>
</li>
<li>
<p>A content element has been renamed and a dropzone is still referring to it under its previous name</p>
</li>
<li>
<p>A new content element has just been implemented, but there is a mismatch in naming. Check again the name of your <em>data-bsi-element</em> and make sure it matches the name in the dropzone.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Listing 91. example of a badly referenced element in a dropzone</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="comment">&lt;!-- Design_de-CH.zip/design.html --&gt;</span>
<span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-dropzone</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">data-bsi-dropzone-allowed-elements</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">basic-cta hello-world</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="comment">&lt;!-- hello-world should be hello-text, see below --&gt;</span>
<span class="tag">&lt;/div&gt;</span>

<span class="comment">&lt;!-- Design_de-CH.zip/content-elements.html --&gt;</span>
<span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-group</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">basic</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="comment">&lt;!-- in design.html, the element is incorrectly referenced under the name hello-world --&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">hello-text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">formatted-text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;p&gt;</span>Lorem ipsum<span class="tag">&lt;/p&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;a</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">basic-cta</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">link</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element basic-cta</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Lorem ipsum<span class="tag">&lt;/a&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="validation-error-unknown-content-element-part"><a class="anchor" href="#validation-error-unknown-content-element-part"></a>6.2.1.3. Validation error: Unknown content element part</h5>
<div class="imageblock">
<div class="content">
<img src="./images/invalid_design_error_unknown_content_element_part.png" alt="error message: unknown content element part">
</div>
<div class="title">Figure 19. error message: unknown content element part</div>
</div>
<div class="paragraph">
<p>The specified <code>data-bsi-element-part</code> is not supported by CX. For a list of supported element parts, visit the <a href="#Parts">[Parts]</a> documentation chapter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In the example above, a <em>text</em> element part is specified. According to the documentation, it must either be <em>plain-text</em> or <em>formatted-text</em>. Thus, it is unknown to CX.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="validation-error-dropzone-contains-sample-content-element-that-doesnt-match-the-structure-of-the-reference-content-element"><a class="anchor" href="#validation-error-dropzone-contains-sample-content-element-that-doesnt-match-the-structure-of-the-reference-content-element"></a>6.2.1.4. Validation error: Dropzone contains sample content element that doesn&#8217;t match the structure of the reference content element</h5>
<div class="imageblock">
<div class="content">
<img src="./images/invalid_design_error_sample_content_not_matching_content_element_spec.png" alt="error message: Dropzone contains sample content element that doesn&#8217;t match the structure of the reference content element">
</div>
<div class="title">Figure 20. error message: Dropzone contains sample content element that doesn&#8217;t match the structure of the reference content element</div>
</div>
<div class="paragraph">
<p>A discrepancy was discovered when using a content element as sample content. The example must have the same HTML structure as the specified content element.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A comparison of the two elements can be displayed by clicking on <strong>Details</strong>.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Listing 92. example of a sample content that does not match the specified content element</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="comment">&lt;!-- Content Element: Specification of the element (content-elements.html) --&gt;</span>
<span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">hello-world</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">basic-hello-world</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;h1</span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">plain-text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Placeholder<span class="tag">&lt;/h1&gt;</span>
    <span class="tag">&lt;img</span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">placeholder.png</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/div&gt;</span>
<span class="comment">&lt;!-- Content: sample content (design.html or content-elements.html) --&gt;</span>
<span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">hello-world</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">basic-hello-world</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;h1</span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">plain-text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Hello World, how are you?<span class="tag">&lt;/h1&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tag">&lt;p&gt;</span>just another text<span class="tag">&lt;/p&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tag">&lt;img</span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">hello-my-dear-world.png</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>OK: deviating text within an editable area (here: plain-text element part)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>OK: deviating attribute, which can be edited from CX for this type anyway</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>NOT OK: adding, manipulating or removing DOM nodes is not allowed</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="validation-error-dropzone-contains-sample-content-that-are-not-content-elements"><a class="anchor" href="#validation-error-dropzone-contains-sample-content-that-are-not-content-elements"></a>6.2.1.5. Validation error: Dropzone contains sample content that are not content elements</h5>
<div class="imageblock">
<div class="content">
<img src="./images/invalid_design_error_sample_content_that_are_not_content_elements.png" alt="error message: Dropzone contains sample content that are not content elements">
</div>
<div class="title">Figure 21. error message: Dropzone contains sample content that are not content elements</div>
</div>
<div class="paragraph">
<p>A dropzone can contain 0&#8230;&#8203;n content elements. Only content elements are allowed as direct child nodes of dropzones. Therefore, HTML that is not part of a content element must not be placed in a dropzone.</p>
</div>
<div class="listingblock">
<div class="title">Listing 93. example of a detached paragraph that must not be placed in a dropzone</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-dropzone</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-dropzone-allowed-elements</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">title-h1 title-h2 title-h3 basic-text basic-image basic-cta</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;h1</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">title-h1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">plain-text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">element title-h1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Lorem ipsum<span class="tag">&lt;/h1&gt;</span>
    <span class="tag">&lt;p&gt;</span>The paragraph surrounding me is not part of a content element and therefore must not be placed in the dropzone 'content'.<span class="tag">&lt;/p&gt;</span>
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="validation-error-part-uses-tag-x-but-requires-one-of-the-following-yz"><a class="anchor" href="#validation-error-part-uses-tag-x-but-requires-one-of-the-following-yz"></a>6.2.1.6. Validation error: Part uses tag X but requires one of the following: Y,Z</h5>
<div class="imageblock">
<div class="content">
<img src="./images/invalid_design_error_wrong_HTML_tag.png" alt="error message: Part uses tag div but requires one of the following: a" width="img">
</div>
<div class="title">Figure 22. error message: Part uses tag div but requires one of the following: a,img</div>
</div>
<div class="paragraph">
<p>Make sure to user proper HTML tags for your element parts. Consult the content element <a href="#Parts">[Parts]</a> documentation for the validation error causing element.</p>
</div>
<div class="paragraph">
<p><em>In the example above, this would be the <a href="#image">Image</a> content element <a href="#Parts">[Parts]</a> documentation.</em></p>
</div>
<div class="listingblock">
<div class="title">Listing 94. example of a incorrect HTML tag for a certain element part and how to fix it.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="comment">&lt;!-- Invalid: uses &lt;div&gt; which is not an image --&gt;</span>
<span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">img.png</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/div&gt;</span>
<span class="comment">&lt;!-- Correct way: use an &lt;img&gt; tag --&gt;</span>
<span class="tag">&lt;img</span> <span class="attribute-name">data-bsi-element-part</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">img.png</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">alt</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="validation-error-the-x-tag-must-contain-exactly-one-y-tag"><a class="anchor" href="#validation-error-the-x-tag-must-contain-exactly-one-y-tag"></a>6.2.1.7. Validation error: The X tag must contain exactly one Y tag</h5>
<div class="paragraph">
<p>Make sure to user proper HTML tags for your element parts. Consult the content element <a href="#Parts">[Parts]</a> documentation for the validation error causing element.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-update"><a class="anchor" href="#design-update"></a>6.2.2. Design Update</h4>
<div class="paragraph">
<p>To update existing content onto the most recent version of a design, the content must be explicitly updated by clicking the <em><strong>Update Design</strong></em> button in the content editor.
Success or failure of such a design update is indicated by a message box.</p>
</div>
<div class="paragraph">
<p>After an update, we advise to visually cross-check the content to make sure that a change in the design has not broken your content. In case if you are seeing content that does no longer render properly, your recent design version has introduced a flaw. in that case, you can revert the design update by clicking on the cancel button in the content editor.</p>
</div>
<div class="paragraph">
<p>Be reminded that once an updated content is saved, there is no way to go back to the older design version, unless you explicitly create a new version by selecting the respective checkbox next to the save button before saving the content.</p>
</div>
<div class="sect4">
<h5 id="design-validation"><a class="anchor" href="#design-validation"></a>6.2.2.1. Design Validation</h5>
<div class="paragraph">
<p>After hitting the <em>design update</em> button or after a modification of your content, you may see a validation error indicated in the top-right corner.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/design-update-validation-error.png" alt="validation error indicator on design update">
</div>
</div>
<div class="paragraph">
<div class="title">the red exclamation mark indicates a validation error on design update</div>
<p>In such a case, there is an issue in the design used by your content. The most typical error messages related to design issues are described in the following chapter. You may also see some that are already described in the <a href="#design-upload">Design Upload</a> section.</p>
</div>
</div>
<div class="sect4">
<h5 id="content-does-not-match-the-structure-of-the-referenced-content-element"><a class="anchor" href="#content-does-not-match-the-structure-of-the-referenced-content-element"></a>6.2.2.2. Content does not match the structure of the referenced content element</h5>
<div class="paragraph">
<p>The structure of one of your content elements that is being used right now in your content does no longer match it&#8217;s specification.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
It is helpful to to view the details of the error message by clicking on <strong>Details</strong>, if available.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/design-update-validation-error-details.png" alt="viewing validation error details">
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">viewing validation error details</div>
In versions prior to CX 1.2.48, the error message may be cut off in the message box.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Use <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>C</kbd></span> and paste the error message to any text file to view the full details.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The details of such an error message always have the same structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">Content Element:
&lt;div&gt;....&lt;/div&gt;

Content:
&lt;div&gt;.....&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the difference is difficult to find, we recommend using a diff tool to compare the concrete content with the content element specification.</p>
</div>
<div class="paragraph">
<p>The root cause of a difference between a concrete content and the content element specification may be one of the following:</p>
</div>
<div class="sect5">
<h6 id="javascript"><a class="anchor" href="#javascript"></a>JavaScript</h6>
<div class="paragraph">
<p>You have a JavaScript running that is manipulating your content element. To prevent your content from being modified through a script, make sure that you update your <code>&lt;script&gt;</code> tags in your <em>design.html</em> file so that the scripts will only be loaded if your content is <strong>not</strong> being edited right now in the content editor.
Removing a <code>script</code> tag from the DOM if the content is being edited can be achieved by adding <code>data-bsi-remove-if='draft'</code>.</p>
</div>
<div class="listingblock">
<div class="title">Listing 95. removing a sript in draft (edit) mode</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="tag">&lt;script</span> <span class="attribute-name">data-bsi-remove-if</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">draft</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">your-javascript that manipulates-the-DOM.js</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span><span class="tag">&lt;/script&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="duplicate-attributes"><a class="anchor" href="#duplicate-attributes"></a>Duplicate attributes</h6>
<div class="paragraph">
<p>If you compare the specification of the content element to the actual content and the difference is somehow related to a CSS value that is being replaced by the term <em><strong>placeholder</strong></em>, then you might have defined the error causing HTML attribute twice.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/troubleshooting_placeholder_duplicate_attribute.png" alt="splitting the error message to compare _content_ and _content element_">
</div>
</div>
<div class="listingblock">
<div class="title">Listing 96. invalid HTML will lead to issues</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="comment">&lt;!-- Invalid HTML: the attribute 'style' is defined twice --&gt;</span>
<span class="tag">&lt;img</span> <span class="attribute-name">style</span>=<span class="string"><span class="delimiter">&quot;</span><span class="key">text-decoration</span>: <span class="value">none</span>;<span class="delimiter">&quot;</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">img/example.png</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">style</span>=<span class="string"><span class="delimiter">&quot;</span><span class="key">width</span>:<span class="float">100%</span>; <span class="key">max-width</span>: <span class="float">100%</span>;<span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

<span class="comment">&lt;!-- By merging the 'style' attribute, we can fix the issue above --&gt;</span>
<span class="tag">&lt;img</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">img/example.png</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">style</span>=<span class="string"><span class="delimiter">&quot;</span><span class="key">text-decoration</span>: <span class="value">none</span>; <span class="key">width</span>:<span class="float">100%</span>; <span class="key">max-width</span>: <span class="float">100%</span>;<span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="usage-of-invalid-html"><a class="anchor" href="#usage-of-invalid-html"></a>Usage of invalid HTML</h6>
<div class="paragraph">
<p>Some browsers detect and try to <em>fix</em> invalid HTML. Therefore, the DOM structure of the HTML is modified by the browsers, whereas CX still expects the specified structure.</p>
</div>
<div class="listingblock">
<div class="title">Listing 97. invalid HTML will lead to issues</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="comment">&lt;!-- Invalid HTML, as defined in content-elements.html --&gt;</span>
<span class="tag">&lt;table</span> <span class="attribute-name">data-bsi-dropzone</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">table</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>...<span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/table&gt;</span>

<span class="comment">&lt;!-- As soon as the HTML is dropped in CX, the browser will 'fix' the HTML, leading to a different HTML for the concrete content --&gt;</span>
<span class="tag">&lt;table</span> <span class="attribute-name">data-bsi-dropzone</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">table</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/table&gt;</span>
<span class="tag">&lt;div</span> <span class="attribute-name">data-bsi-element</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>...<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="inline-svg-older-cx-versions"><a class="anchor" href="#inline-svg-older-cx-versions"></a>Inline SVG (older CX versions)</h6>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This section applies to installations prior to CX 1.2.48.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Inline SVG is not supported in older CX versions. As a workaround, you may save the SVG to a file instead and  include it with an <code>&lt;img&gt;</code> tag. If it is a requirement to render the SVG inline, some projects have successfully used the Open-Source library <a href="https://github.com/iconfu/svg-inject">svg-inject</a> as a fallback.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="dropzone-issues"><a class="anchor" href="#dropzone-issues"></a>6.2.3. Dropzone Issues</h4>
<div class="paragraph">
<p>If you face issues related to dropzones (a dropzone does not allow to drop your element, the element is dropped in a different place, &#8230;&#8203;), you may find a solution in this section.</p>
</div>
<div class="sect4">
<h5 id="element-is-not-dropable-or-being-dropped-in-another-place"><a class="anchor" href="#element-is-not-dropable-or-being-dropped-in-another-place"></a>6.2.3.1. Element is not dropable or being dropped in another place</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This section applies to installations prior to CX 1.2.46.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/unique-dropzone-name-violated.png" alt="element is being dropped outside of the dropzone (or nowhere)">
</div>
<div class="title">Figure 23. element is being dropped outside of the dropzone (or nowhere)</div>
</div>
<div class="paragraph">
<p>This may happen if a dropzone name is duplicated.
Dropzones must have unique identifiers in older versions of BSI CX.
Make sure that a unique name is specified for each usage of <code>data-bsi-dropzone</code>.</p>
</div>
<div class="listingblock">
<div class="title">Listing 98. data-bsi-dropzone uniqueness violated</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span class="comment">&lt;!-- design.html --&gt;</span>
<span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">main-dropzone</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-dropzone</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span> <i class="conum" data-value="1"></i><b>(1)</b>
     <span class="attribute-name">data-bsi-dropzone-allowed-elements</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">.....</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="comment">&lt;!-- ... --&gt;</span>
<span class="tag">&lt;/div&gt;</span>

<span class="comment">&lt;!-- content-elements.html --&gt;</span>
<span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">image-area</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-bsi-dropzone</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span> <i class="conum" data-value="2"></i><b>(2)</b>
     <span class="attribute-name">data-bsi-dropzone-allowed-elements</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">download-item</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A dropzone named 'content' is being defined properly</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Violation: another dropzone with the same name is defined again. Solution: change <code>data-bsi-dropzone</code> to another value, e.g. data-bsi-dropzone="image-area-content"</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-creator-issues"><a class="anchor" href="#design-creator-issues"></a>6.2.4. Design Creator Issues</h4>
<div class="sect4">
<h5 id="why-is-the-design-creator-end-of-life"><a class="anchor" href="#why-is-the-design-creator-end-of-life"></a>6.2.4.1. Why is the Design Creator End of Life?</h5>
<div class="paragraph">
<p>We&#8217;ve built a next generation Design Build that is Open-Source and based on widely used tech stack. You may find more information on <a href="https://github.com/bsi-software/bsi-cx-design-build">GitHub</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="is-there-any-detailed-documentation-for-the-cx-design-creator"><a class="anchor" href="#is-there-any-detailed-documentation-for-the-cx-design-creator"></a>6.2.4.2. Is there any detailed documentation for the CX Design Creator</h5>
<div class="paragraph">
<p>Unfortunately there is no detailed documentation. We do no longer invest into the <em>CX Design Creator</em> as our sucessor, the <a href="https://github.com/bsi-software/bsi-cx-design-build">CX Design Build</a>, is ready to use.</p>
</div>
</div>
<div class="sect4">
<h5 id="html-comments-mso-tags-missing-after-running-the-cx-design-creator"><a class="anchor" href="#html-comments-mso-tags-missing-after-running-the-cx-design-creator"></a>6.2.4.3. HTML Comments / MSO Tags missing after running the CX Design Creator</h5>
<div class="paragraph">
<p>If you are using the <em>CX Design Creator</em> and your HTML in the <code>design.zip</code> is missing all HTML comments and therefore all outlook specific code is missing, change the <code>tidy</code> property to <code>false</code> in the <code>compiler.yml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml"><span class="key">defaults</span>:
    <span class="key">twig</span>:
        <span class="key">comments</span>: <span class="string"><span class="content">true</span></span>
        <span class="key">tidy</span>: <span class="string"><span class="content">false</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="content-editor-limitations"><a class="anchor" href="#content-editor-limitations"></a>6.2.5. Content Editor Limitations</h4>
<div class="sect4">
<h5 id="using-css-viewport-units"><a class="anchor" href="#using-css-viewport-units"></a>6.2.5.1. Using CSS viewport units</h5>
<div class="paragraph">
<p>If you want to use CSS viewport units, e.g. viewport-height <code>vh</code>, please note the following:</p>
</div>
<div class="paragraph">
<p>The content displayed in the content editor is embedded in an iframe. When elements defined by a CSS viewport unit are placed inside an iframe, the size of the iframe is used as a reference, not the size of the screen as desired.</p>
</div>
<div class="paragraph">
<p>Therefore, the CSS classes <code>bsi-ce-edit-mode</code> and <code>bsi-ce-preview-mode</code> (see <a href="#content-editor-specific-css">Content editor specific CSS</a>) should be used to define a fixed height/width as alternative to the viewport height/width for proper display in the content editor and preview mode. It is also important to note that this fixed height/width should be set as minimum size of the element with the CSS viewport unit. Otherwise CX will calculate the size of the content editor incorrectly.</p>
</div>
<div class="paragraph">
<p>See the following example:</p>
</div>
<div class="listingblock">
<div class="title">Listing 99. CSS of an element using viewport unit</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="css"><span class="class">.header-image</span> {
    <span class="key">height</span>: <span class="error">c</span><span class="error">a</span><span class="error">l</span><span class="error">c</span>(<span class="float">100</span><span class="value">vh</span> <span class="error">-</span> <span class="float">32px</span>);
    <span class="key">min-height</span>: <span class="float">800px</span> <span class="important">!important</span>;
}
<span class="class">.bsi-ce-edit-mode</span> <span class="class">.header-image</span>,
<span class="class">.bsi-ce-preview-mode</span> <span class="class">.header-image</span> {
    <span class="key">height</span>: <span class="float">800px</span> <span class="important">!important</span>;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last update 2025-12-09 18:57:18 +0100
</div>
</div>
</body>
</html>